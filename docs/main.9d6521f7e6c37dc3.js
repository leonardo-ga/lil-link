(self.webpackChunklil_link=self.webpackChunklil_link||[]).push([[792],{928:(kt,J,ge)=>{"use strict";var E=ge(467);function Ee(e,t){return Object.is(e,t)}let ae=null,Pe=!1,pe=1;const x=Symbol("SIGNAL");function N(e){const t=ae;return ae=e,t}const he={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function X(e){if(Pe)throw new Error("");if(null===ae)return;ae.consumerOnSignalRead(e);const t=ae.nextProducerIndex++;Ct(ae),t<ae.producerNode.length&&ae.producerNode[t]!==e&&gt(ae)&&Pt(ae.producerNode[t],ae.producerIndexOfThis[t]),ae.producerNode[t]!==e&&(ae.producerNode[t]=e,ae.producerIndexOfThis[t]=gt(ae)?at(e,ae,t):0),ae.producerLastReadVersion[t]=e.version}function ue(e){if((!gt(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==pe)){if(!e.producerMustRecompute(e)&&!Te(e))return e.dirty=!1,void(e.lastCleanEpoch=pe);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=pe}}function Oe(e){if(void 0===e.liveConsumerNode)return;const t=Pe;Pe=!0;try{for(const n of e.liveConsumerNode)n.dirty||Z(n)}finally{Pe=t}}function Ae(){return!1!==ae?.consumerAllowSignalWrites}function Z(e){e.dirty=!0,Oe(e),e.consumerMarkedDirty?.(e)}function Me(e){return e&&(e.nextProducerIndex=0),N(e)}function Ke(e,t){if(N(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(gt(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Pt(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Te(e){Ct(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ue(n),r!==n.version))return!0}return!1}function at(e,t,n){if(Bt(e),Ct(e),0===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=at(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Pt(e,t){if(Bt(e),Ct(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Pt(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ct(i),i.producerIndexOfThis[r]=t}}function gt(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ct(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Bt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}const ln=Symbol("UNSET"),sn=Symbol("COMPUTING"),Ze=Symbol("ERRORED"),Mn={...he,value:ln,dirty:!0,error:null,equal:Ee,producerMustRecompute:e=>e.value===ln||e.value===sn,producerRecomputeValue(e){if(e.value===sn)throw new Error("Detected cycle in computations.");const t=e.value;e.value=sn;const n=Me(e);let r;try{r=e.computation()}catch(i){r=Ze,e.error=i}finally{Ke(e,n)}t!==ln&&t!==Ze&&r!==Ze&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}};let wn=function Or(){throw new Error};function Pn(){wn()}let Xt=null;function H(e,t){Ae()||Pn(),e.equal(e.value,t)||(e.value=t,function ie(e){e.version++,function _e(){pe++}(),Oe(e),Xt?.()}(e))}const re={...he,equal:Ee,value:void 0};function T(e){return"function"==typeof e}function U(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const K=U(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Y(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ee{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(T(r))try{r()}catch(o){t=o instanceof K?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ke(o)}catch(s){t=t??[],s instanceof K?t=[...t,...s.errors]:t.push(s)}}if(t)throw new K(t)}}add(t){var n;if(t&&t!==this)if(this.closed)ke(t);else{if(t instanceof ee){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Y(n,t)}remove(t){const{_finalizers:n}=this;n&&Y(n,t),t instanceof ee&&t._removeParent(this)}}ee.EMPTY=(()=>{const e=new ee;return e.closed=!0,e})();const me=ee.EMPTY;function Ce(e){return e instanceof ee||e&&"closed"in e&&T(e.remove)&&T(e.add)&&T(e.unsubscribe)}function ke(e){T(e)?e():e.unsubscribe()}const Re={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},je={setTimeout(e,t,...n){const{delegate:r}=je;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=je;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Qe(e){je.setTimeout(()=>{const{onUnhandledError:t}=Re;if(!t)throw e;t(e)})}function Le(){}const ot=Gn("C",void 0,void 0);function Gn(e,t,n){return{kind:e,value:t,error:n}}let en=null;function bn(e){if(Re.useDeprecatedSynchronousErrorHandling){const t=!en;if(t&&(en={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=en;if(en=null,n)throw r}}else e()}class Vi extends ee{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ce(t)&&t.add(this)):this.destination=na}static create(t,n,r){return new qn(t,n,r)}next(t){this.isStopped?$i(function Ht(e){return Gn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$i(function _t(e){return Gn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$i(ot,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ui=Function.prototype.bind;function zn(e,t){return Ui.call(e,t)}class Wr{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){bi(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){bi(r)}else bi(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){bi(n)}}}class qn extends Vi{constructor(t,n,r){let i;if(super(),T(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Re.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&zn(t.next,o),error:t.error&&zn(t.error,o),complete:t.complete&&zn(t.complete,o)}):i=t}this.destination=new Wr(i)}}function bi(e){Re.useDeprecatedSynchronousErrorHandling?function Vt(e){Re.useDeprecatedSynchronousErrorHandling&&en&&(en.errorThrown=!0,en.error=e)}(e):Qe(e)}function $i(e,t){const{onStoppedNotification:n}=Re;n&&je.setTimeout(()=>n(e,t))}const na={closed:!0,next:Le,error:function Vo(e){throw e},complete:Le},I="function"==typeof Symbol&&Symbol.observable||"@@observable";function m(e){return e}function O(e){return 0===e.length?m:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let L=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function ut(e){return e&&e instanceof Vi||function Ne(e){return e&&T(e.next)&&T(e.error)&&T(e.complete)}(e)&&Ce(e)}(n)?n:new qn(n,r,i);return bn(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ve(r))((i,o)=>{const s=new qn({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[I](){return this}pipe(...n){return O(n)(this)}toPromise(n){return new(n=ve(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function ve(e){var t;return null!==(t=e??Re.Promise)&&void 0!==t?t:Promise}const Ue=U(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let fe=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new mn(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ue}next(n){bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?me:(this.currentObservers=null,o.push(n),new ee(()=>{this.currentObservers=null,Y(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new L;return n.source=this,n}}return e.create=(t,n)=>new mn(t,n),e})();class mn extends fe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:me}}class tn extends fe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function Kr(e){return T(e?.lift)}function Dt(e){return t=>{if(Kr(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Jt(e,t,n,r,i){return new rr(e,t,n,r,i)}class rr extends Vi{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function mt(e,t){return Dt((n,r)=>{let i=0;n.subscribe(Jt(r,o=>{r.next(e.call(t,o,i++))}))})}const ra="https://g.co/ng/security#xss";class Q extends Error{constructor(t,n){super(function fo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}const ia=Symbol("InputSignalNode#UNSET"),jd={...re,transformFn:void 0,applyValueToInputSignal(e,t){H(e,t)}};function po(e,t){const n=Object.create(jd);function r(){if(X(n),n.value===ia)throw new Q(-950,!1);return n.value}return n.value=e,n.transformFn=t?.transform,r[x]=n,r}function hr(e){return{toString:e}.toString()}const wt=globalThis;function Et(e){for(let t in e)if(e[t]===Et)return t;throw Error("Could not find renamed property on target object.")}function nl(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function cn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(cn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function aa(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const an=Et({__forward_ref__:Et});function St(e){return e.__forward_ref__=St,e.toString=function(){return cn(this())},e}function Be(e){return Uo(e)?e():e}function Uo(e){return"function"==typeof e&&e.hasOwnProperty(an)&&e.__forward_ref__===St}function De(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fr(e){return{providers:e.providers||[],imports:e.imports||[]}}function la(e){return Gd(e,$o)||Gd(e,w)}function Gd(e,t){return e.hasOwnProperty(t)?e[t]:null}function ca(e){return e&&(e.hasOwnProperty(y)||e.hasOwnProperty(d))?e[y]:null}const $o=Et({\u0275prov:Et}),y=Et({\u0275inj:Et}),w=Et({ngInjectableDef:Et}),d=Et({ngInjectorDef:Et});class l{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=De({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ie(e){return e&&!!e.\u0275providers}const Xe=Et({\u0275cmp:Et}),lt=Et({\u0275dir:Et}),vt=Et({\u0275pipe:Et}),Mt=Et({\u0275mod:Et}),Rt=Et({\u0275fac:Et}),nt=Et({__NG_ELEMENT_ID__:Et}),Ge=Et({__NG_ENV_ID__:Et});function be(e){return"string"==typeof e?e:null==e?"":String(e)}function Wd(e,t){throw new Q(-201,!1)}var ht=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ht||{});let Kd;function Xm(){return Kd}function or(e){const t=Kd;return Kd=e,t}function ev(e,t,n){const r=la(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ht.Optional?null:void 0!==t?t:void Wd()}const da={},Jd="__NG_DI_FLAG__",al="ngTempTokenPath",mA=/\n/gm,tv="__source";let Bo;function Bi(e){const t=Bo;return Bo=e,t}function _A(e,t=ht.Default){if(void 0===Bo)throw new Q(-203,!1);return null===Bo?ev(e,void 0,t):Bo.get(e,t&ht.Optional?null:void 0,t)}function ze(e,t=ht.Default){return(Xm()||_A)(Be(e),t)}function te(e,t=ht.Default){return ze(e,ul(t))}function ul(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zd(e){const t=[];for(let n=0;n<e.length;n++){const r=Be(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Q(900,!1);let i,o=ht.Default;for(let s=0;s<r.length;s++){const a=r[s],u=wA(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}t.push(ze(i,o))}else t.push(ze(r))}return t}function wA(e){return e[Jd]}function go(e,t){return e.hasOwnProperty(Rt)?e[Rt]:null}function Ho(e,t){e.forEach(n=>Array.isArray(n)?Ho(n,t):t(n))}function rv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ll(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function pr(e,t,n){let r=Go(e,t);return r>=0?e[1|r]=n:(r=~r,function iv(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function eh(e,t){const n=Go(e,t);if(n>=0)return e[1|n]}function Go(e,t){return function ov(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Qr={},bt=[],mo=new l(""),sv=new l("",-1),th=new l("");class dl{get(t,n=da){if(n===da){const r=new Error(`NullInjectorError: No provider for ${cn(t)}!`);throw r.name="NullInjectorError",r}return n}}var hl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(hl||{}),Nr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Nr||{}),Ut=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ut||{});function AA(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function nh(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];uv(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function av(e){return 3===e||4===e||6===e}function uv(e){return 64===e.charCodeAt(0)}function fa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||lv(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function lv(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const cv="ng-template";function TA(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==AA(t[i+1].toLowerCase(),n,0))return!0}else if(rh(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&"string"==typeof(o=t[i]);)if(o.toLowerCase()===n)return!0}return!1}function rh(e){return 4===e.type&&e.value!==cv}function MA(e,t,n){return t===(4!==e.type||n?e.value:cv)}function RA(e,t,n){let r=4;const i=e.attrs,o=null!==i?function xA(e){for(let t=0;t<e.length;t++)if(av(e[t]))return t;return e.length}(i):0;let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!MA(e,u,n)||""===u&&1===t.length){if(xr(r))return!1;s=!0}}else if(8&r){if(null===i||!TA(e,i,u,n)){if(xr(r))return!1;s=!0}}else{const c=t[++a],h=OA(u,i,rh(e),n);if(-1===h){if(xr(r))return!1;s=!0;continue}if(""!==c){let f;if(f=h>o?"":i[h+1].toLowerCase(),2&r&&c!==f){if(xr(r))return!1;s=!0}}}}else{if(!s&&!xr(r)&&!xr(u))return!1;if(s&&xr(u))continue;s=!1,r=u|1&r}}return xr(r)||s}function xr(e){return!(1&e)}function OA(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function kA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function dv(e,t,n=!1){for(let r=0;r<t.length;r++)if(RA(e,t[r],n))return!0;return!1}function hv(e,t){return e?":not("+t.trim()+")":t}function FA(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!xr(s)&&(t+=hv(o,i),i=""),r=s,o=o||!xr(r);n++}return""!==i&&(t+=hv(o,i)),t}function gr(e){return hr(()=>{const t=pv(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Nr.Emulated,styles:e.styles||bt,_:null,schemas:e.schemas||null,tView:null,id:""};gv(n);const r=e.dependencies;return n.directiveDefs=fl(r,!1),n.pipeDefs=fl(r,!0),n.id=function BA(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function VA(e){return ct(e)||Cn(e)}function UA(e){return null!==e}function pa(e){return hr(()=>({type:e.type,bootstrap:e.bootstrap||bt,declarations:e.declarations||bt,imports:e.imports||bt,exports:e.exports||bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function fv(e,t){if(null==e)return Qr;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a=Ut.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Ut.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Je(e){return hr(()=>{const t=pv(e);return gv(t),t})}function ct(e){return e[Xe]||null}function Cn(e){return e[lt]||null}function xn(e){return e[vt]||null}function Fn(e,t){const n=e[Mt]||null;if(!n&&!0===t)throw new Error(`Type ${cn(e)} does not have '\u0275mod' property.`);return n}function pv(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Qr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||bt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:fv(e.inputs,t),outputs:fv(e.outputs),debugInfo:null}}function gv(e){e.features?.forEach(t=>t(e))}function fl(e,t){if(!e)return null;const n=t?xn:VA;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(UA)}function zo(e){return{\u0275providers:e}}function HA(...e){return{\u0275providers:ih(0,e),\u0275fromNgModule:!0}}function ih(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Ho(t,s=>{const a=s;pl(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&mv(i,o),n}function mv(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];oh(i,o=>{t(o,r)})}}function pl(e,t,n,r){if(!(e=Be(e)))return!1;let i=null,o=ca(e);const s=!o&&ct(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const u=e.ngModule;if(o=ca(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)pl(c,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Ho(o.imports,h=>{pl(h,t,n,r)&&(c||=[],c.push(h))})}finally{}void 0!==c&&mv(c,t)}if(!a){const c=go(i)||(()=>new i);t({provide:i,useFactory:c,deps:bt},i),t({provide:th,useValue:i,multi:!0},i),t({provide:mo,useValue:()=>ze(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=e;oh(u,h=>{t(h,c)})}}}return i!==e&&void 0!==e.providers}function oh(e,t){for(let n of e)Ie(n)&&(n=n.\u0275providers),Array.isArray(n)?oh(n,t):t(n)}const GA=Et({provide:String,useValue:Et});function sh(e){return null!==e&&"object"==typeof e&&GA in e}function vo(e){return"function"==typeof e}const ah=new l(""),gl={},qA={};let uh;function ml(){return void 0===uh&&(uh=new dl),uh}class mr{}class qo extends mr{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ch(t,s=>this.processProvider(s)),this.records.set(sv,Wo(void 0,this)),i.has("environment")&&this.records.set(mr,Wo(void 0,this));const o=this.records.get(ah);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(th,bt,ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=N(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),N(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Bi(this),r=or(void 0);try{return t()}finally{Bi(n),or(r)}}get(t,n=da,r=ht.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ge))return t[Ge](this);r=ul(r);const o=Bi(this),s=or(void 0);try{if(!(r&ht.SkipSelf)){let u=this.records.get(t);if(void 0===u){const c=function YA(e){return"function"==typeof e||"object"==typeof e&&e instanceof l}(t)&&la(t);u=c&&this.injectableDefInScope(c)?Wo(lh(t),gl):null,this.records.set(t,u)}if(null!=u)return this.hydrate(t,u)}return(r&ht.Self?ml():this.parent).get(t,n=r&ht.Optional&&n===da?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[al]=a[al]||[]).unshift(cn(t)),o)throw a;return function bA(e,t,n,r){const i=e[al];throw t[tv]&&i.unshift(t[tv]),e.message=function DA(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=cn(t);if(Array.isArray(t))i=t.map(cn).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):cn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(mA,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[al]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{or(s),Bi(o)}}resolveInjectorInitializers(){const t=N(null),n=Bi(this),r=or(void 0);try{const o=this.get(mo,bt,ht.Self);for(const s of o)s()}finally{Bi(n),or(r),N(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(cn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(t){let n=vo(t=Be(t))?t:Be(t&&t.provide);const r=function KA(e){return sh(e)?Wo(void 0,e.useValue):Wo(_v(e),gl)}(t);if(!vo(t)&&!0===t.multi){let i=this.records.get(n);i||(i=Wo(void 0,gl,!0),i.factory=()=>Zd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=N(null);try{return n.value===gl&&(n.value=qA,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ZA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{N(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Be(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function lh(e){const t=la(e),n=null!==t?t.factory:go(e);if(null!==n)return n;if(e instanceof l)throw new Q(204,!1);if(e instanceof Function)return function WA(e){if(e.length>0)throw new Q(204,!1);const n=function zd(e){return e&&(e[$o]||e[w])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Q(204,!1)}function _v(e,t,n){let r;if(vo(e)){const i=Be(e);return go(i)||lh(i)}if(sh(e))r=()=>Be(e.useValue);else if(function yv(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Zd(e.deps||[]));else if(function vv(e){return!(!e||!e.useExisting)}(e))r=()=>ze(Be(e.useExisting));else{const i=Be(e&&(e.useClass||e.provide));if(!function JA(e){return!!e.deps}(e))return go(i)||lh(i);r=()=>new i(...Zd(e.deps))}return r}function Wo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ch(e,t){for(const n of e)Array.isArray(n)?ch(n,t):n&&Ie(n)?ch(n.\u0275providers,t):t(n)}function Ei(e,t){e instanceof qo&&e.assertNotDestroyed();const r=Bi(e),i=or(void 0);try{return t()}finally{Bi(r),or(i)}}const Yt=0,de=1,xe=2,dn=3,kr=4,Ln=5,vr=6,Jo=7,Gt=8,vn=9,Pr=10,qe=11,ma=12,Dv=13,Zo=14,nn=15,va=16,Yo=17,Si=18,ya=19,Cv=20,Gi=21,_l=22,yo=23,Ye=25,hh=1,Xr=7,Qo=9,hn=10;var fh=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(fh||{});function jn(e){return Array.isArray(e)&&"object"==typeof e[hh]}function Vn(e){return Array.isArray(e)&&!0===e[hh]}function ph(e){return!!(4&e.flags)}function _o(e){return e.componentOffset>-1}function bl(e){return!(1&~e.flags)}function Fr(e){return!!e.template}function gh(e){return!!(512&e[xe])}class cT{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Av(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function Ir(){return Tv}function Tv(e){return e.type.prototype.ngOnChanges&&(e.setInput=hT),dT}function dT(){const e=Rv(this),t=e?.current;if(t){const n=e.previous;if(n===Qr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function hT(e,t,n,r,i){const o=this.declaredInputs[r],s=Rv(e)||function fT(e,t){return e[Mv]=t}(e,{previous:Qr,current:null}),a=s.current||(s.current={}),u=s.previous,c=u[o];a[o]=new cT(c&&c.currentValue,n,u===Qr),Av(e,t,i,n)}Ir.ngInherit=!0;const Mv="__ngSimpleChanges__";function Rv(e){return e[Mv]||null}const ei=function(e,t,n){};let xv=!1;function Ft(e){for(;Array.isArray(e);)e=e[Yt];return e}function wa(e,t){return Ft(t[e])}function Jn(e,t){return Ft(t[e.index])}function ba(e,t){return e.data[t]}function yr(e,t){const n=t[e];return jn(n)?n:n[Yt]}function wh(e){return!(128&~e[xe])}function ti(e,t){return null==t?null:e[t]}function kv(e){e[Yo]=0}function _T(e){1024&e[xe]||(e[xe]|=1024,wh(e)&&Da(e))}function bh(e){return!!(9216&e[xe]||e[yo]?.dirty)}function Dh(e){e[Pr].changeDetectionScheduler?.notify(1),bh(e)?Da(e):64&e[xe]&&(function gT(){return xv}()?(e[xe]|=1024,Da(e)):e[Pr].changeDetectionScheduler?.notify())}function Da(e){e[Pr].changeDetectionScheduler?.notify();let t=wo(e);for(;null!==t&&!(8192&t[xe])&&(t[xe]|=8192,wh(t));)t=wo(t)}function Dl(e,t){if(!(256&~e[xe]))throw new Q(911,!1);null===e[Gi]&&(e[Gi]=[]),e[Gi].push(t)}function wo(e){const t=e[dn];return Vn(t)?t[dn]:t}const We={lFrame:qv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Lv(){return We.bindingsEnabled}function q(){return We.lFrame.lView}function ft(){return We.lFrame.tView}function Ot(){let e=Uv();for(;null!==e&&64===e.type;)e=e.parent;return e}function Uv(){return We.lFrame.currentTNode}function ni(e,t){const n=We.lFrame;n.currentTNode=e,n.isParent=t}function Eh(){return We.lFrame.isParent}function Zn(){const e=We.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Lr(){return We.lFrame.bindingIndex++}function Ai(e){const t=We.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function RT(e,t){const n=We.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ih(t)}function Ih(e){We.lFrame.currentDirectiveIndex=e}function Cl(e){We.lFrame.currentQueryIndex=e}function NT(e){const t=e[de];return 2===t.type?t.declTNode:1===t.type?e[Ln]:null}function Gv(e,t,n){if(n&ht.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&ht.Host||(i=NT(o),null===i||(o=o[Zo],10&i.type))););if(null===i)return!1;t=i,e=o}const r=We.lFrame=zv();return r.currentTNode=t,r.lView=e,!0}function Mh(e){const t=zv(),n=e[de];We.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function zv(){const e=We.lFrame,t=null===e?null:e.child;return null===t?qv(e):t}function qv(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Wv(){const e=We.lFrame;return We.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Kv=Wv;function Rh(){const e=Wv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Un(){return We.lFrame.selectedIndex}function bo(e){We.lFrame.selectedIndex=e}function zt(){const e=We.lFrame;return ba(e.tView,e.selectedIndex)}let Zv=!0;function Ea(){return Zv}function ri(e){Zv=e}function El(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),u&&(e.viewHooks??=[]).push(-n,u),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=h&&(e.destroyHooks??=[]).push(n,h)}}function Sl(e,t,n){Yv(e,t,3,n)}function Il(e,t,n,r){(3&e[xe])===n&&Yv(e,t,n,r)}function Oh(e,t){let n=e[xe];(3&n)===t&&(n&=16383,n+=1,e[xe]=n)}function Yv(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let u=void 0!==r?65535&e[Yo]:0;u<s;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[Yo]+=65536),(a<o||-1==o)&&(VT(e,n,t,u),e[Yo]=(4294901760&e[Yo])+u+2),u++}function Qv(e,t){ei(4,e,t);const n=N(null);try{t.call(e)}finally{N(n),ei(5,e,t)}}function VT(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[xe]>>14<e[Yo]>>16&&(3&e[xe])===t&&(e[xe]+=16384,Qv(a,o)):Qv(a,o)}const ts=-1;class Sa{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function xh(e){return e!==ts}function Ia(e){return 32767&e}function Aa(e,t){let n=function GT(e){return e>>16}(e),r=t;for(;n>0;)r=r[Zo],n--;return r}let kh=!0;function Al(e){const t=kh;return kh=e,t}const Xv=255,ey=5;let zT=0;const ii={};function Tl(e,t){const n=ty(e,t);if(-1!==n)return n;const r=t[de];r.firstCreatePass&&(e.injectorIndex=t.length,Ph(r.data,e),Ph(t,null),Ph(r.blueprint,null));const i=Ml(e,t),o=e.injectorIndex;if(xh(i)){const s=Ia(i),a=Aa(i,t),u=a[de].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|u[s+c]}return t[o+8]=i,o}function Ph(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ty(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ml(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=uy(i),null===r)return ts;if(n++,i=i[Zo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ts}function Fh(e,t,n){!function qT(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(nt)&&(r=n[nt]),null==r&&(r=n[nt]=zT++);const i=r&Xv;t.data[e+(i>>ey)]|=1<<i}(e,t,n)}function ny(e,t,n){if(n&ht.Optional||void 0!==e)return e;Wd()}function ry(e,t,n,r){if(n&ht.Optional&&void 0===r&&(r=null),!(n&(ht.Self|ht.Host))){const i=e[vn],o=or(void 0);try{return i?i.get(t,r,n&ht.Optional):ev(t,r,n&ht.Optional)}finally{or(o)}}return ny(r,0,n)}function iy(e,t,n,r=ht.Default,i){if(null!==e){if(2048&t[xe]&&!(r&ht.Self)){const s=function YT(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[xe]&&!(512&s[xe]);){const a=oy(o,s,n,r|ht.Self,ii);if(a!==ii)return a;let u=o.parent;if(!u){const c=s[Cv];if(c){const h=c.get(n,ii,r);if(h!==ii)return h}u=uy(s),s=s[Zo]}o=u}return i}(e,t,n,r,ii);if(s!==ii)return s}const o=oy(e,t,n,r,ii);if(o!==ii)return o}return ry(t,n,r,i)}function oy(e,t,n,r,i){const o=function JT(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(nt)?e[nt]:void 0;return"number"==typeof t?t>=0?t&Xv:ZT:t}(n);if("function"==typeof o){if(!Gv(t,e,r))return r&ht.Host?ny(i,0,r):ry(t,n,r,i);try{let s;if(s=o(r),null!=s||r&ht.Optional)return s;Wd()}finally{Kv()}}else if("number"==typeof o){let s=null,a=ty(e,t),u=ts,c=r&ht.Host?t[nn][Ln]:null;for((-1===a||r&ht.SkipSelf)&&(u=-1===a?Ml(e,t):t[a+8],u!==ts&&ay(r,!1)?(s=t[de],a=Ia(u),t=Aa(u,t)):a=-1);-1!==a;){const h=t[de];if(sy(o,a,h.data)){const f=KT(a,t,n,s,r,c);if(f!==ii)return f}u=t[a+8],u!==ts&&ay(r,t[de].data[a+8]===c)&&sy(o,a,t)?(s=h,a=Ia(u),t=Aa(u,t)):a=-1}}return i}function KT(e,t,n,r,i,o){const s=t[de],a=s.data[e+8],h=function Rl(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,u=e.directiveStart,h=o>>20,D=i?a+h:e.directiveEnd;for(let A=r?a:a+h;A<D;A++){const R=s[A];if(A<u&&n===R||A>=u&&R.type===n)return A}if(i){const A=s[u];if(A&&Fr(A)&&A.type===n)return u}return null}(a,s,n,null==r?_o(a)&&kh:r!=s&&!!(3&a.type),i&ht.Host&&o===a);return null!==h?Do(t,s,h,a):ii}function Do(e,t,n,r){let i=e[n];const o=t.data;if(function UT(e){return e instanceof Sa}(i)){const s=i;s.resolving&&function qd(e,t){throw t&&t.join(" > "),new Q(-200,e)}(function st(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():be(e)}(o[n]));const a=Al(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?or(s.injectImpl):null;Gv(e,r,ht.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function jT(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Tv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==c&&or(c),Al(a),s.resolving=!1,Kv()}}return i}function sy(e,t,n){return!!(n[t+(e>>ey)]&1<<e)}function ay(e,t){return!(e&ht.Self||e&ht.Host&&t)}class Sn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return iy(this._tNode,this._lView,t,ul(r),n)}}function ZT(){return new Sn(Ot(),q())}function Rn(e){return hr(()=>{const t=e.prototype.constructor,n=t[Rt]||Lh(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Rt]||Lh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lh(e){return Uo(e)?()=>{const t=Lh(Be(e));return t&&t()}:go(e)}function uy(e){const t=e[de],n=t.type;return 2===n?t.declTNode:1===n?e[Ln]:null}function fy(e,t=null,n=null,r){const i=py(e,t,n,r);return i.resolveInjectorInitializers(),i}function py(e,t=null,n=null,r,i=new Set){const o=[n||bt,HA(e)];return r=r||("object"==typeof e?void 0:cn(e)),new qo(o,t||ml(),r||null,i)}let ur=(()=>{class e{static{this.THROW_IF_NOT_FOUND=da}static{this.NULL=new dl}static create(n,r){if(Array.isArray(n))return fy({name:""},r,n,"");{const i=n.name??"";return fy({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=De({token:e,providedIn:"any",factory:()=>ze(sv)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Vh(e){return e.ngOriginalError}class oi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Vh(t);for(;n&&Vh(n);)n=Vh(n);return n||null}}const my=new l("",{providedIn:"root",factory:()=>te(oi).handleError.bind(void 0)});let is=(()=>{class e{static{this.__NG_ELEMENT_ID__=sM}static{this.__NG_ENV_ID__=n=>n}}return e})();class oM extends is{constructor(t){super(),this._lView=t}onDestroy(t){return Dl(this._lView,t),()=>function Ch(e,t){if(null===e[Gi])return;const n=e[Gi].indexOf(t);-1!==n&&e[Gi].splice(n,1)}(this._lView,t)}}function sM(){return new oM(q())}function yy(e,t){return po(e,t)}const _y=(yy.required=function aM(e){return po(ia,e)},yy);function uM(){return os(Ot(),q())}function os(e,t){return new _r(Jn(e,t))}let _r=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=uM}}return e})();function Uh(e){return t=>{setTimeout(e,void 0,t)}}const rn=class lM extends fe{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function wv(){return void 0!==Xm()||null!=function yA(){return Bo}()}()&&(this.destroyRef=te(is,{optional:!0})??void 0)}emit(t){const n=N(null);try{super.next(t)}finally{N(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const u=t;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=Uh(o),i&&(i=Uh(i)),s&&(s=Uh(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof ee&&t.add(a),a}};function Nl(e){return!(128&~e.flags)}const Bh=new Map;let hM=0;const Gh="__ngContext__";function $n(e,t){jn(t)?(e[Gh]=t[ya],function pM(e){Bh.set(e[ya],e)}(t)):e[Gh]=t}function Ry(e){return Ny(e[ma])}function Oy(e){return Ny(e[kr])}function Ny(e){for(;null!==e&&!Vn(e);)e=e[kr];return e}let zh;const qh=new l("",{providedIn:"root",factory:()=>NM}),NM="ng",Uy=new l(""),Co=new l("",{providedIn:"platform",factory:()=>"unknown"}),$y=new l("",{providedIn:"root",factory:()=>function zi(){if(void 0!==zh)return zh;if(typeof document<"u")return document;throw new Q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let By=()=>null;function ef(e,t,n=!1){return By(e,t,n)}const Wy=new l("",{providedIn:"root",factory:()=>!1});let Bl;function Yy(e){return function af(){if(void 0===Bl&&(Bl=null,wt.trustedTypes))try{Bl=wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Bl}()?.createScriptURL(e)||e}class Qy{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ra})`}}function qi(e){return e instanceof Qy?e.changingThisBreaksApplicationSecurity:e}function Pa(e,t){const n=function YM(e){return e instanceof Qy&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ra})`)}return n===t}const tR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ls=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ls||{});function hf(e){const t=La();return t?t.sanitize(ls.URL,e)||"":Pa(e,"URL")?qi(e):function uf(e){return(e=String(e)).match(tR)?e:"unsafe:"+e}(be(e))}function a_(e){const t=La();if(t)return Yy(t.sanitize(ls.RESOURCE_URL,e)||"");if(Pa(e,"ResourceURL"))return Yy(qi(e));throw new Q(904,!1)}function La(){const e=q();return e&&e[Pr].sanitizer}function wr(e){return e instanceof Function?e():e}var Wi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Wi||{});let mf;function vf(e,t){return mf(e,t)}function ds(e,t,n,r,i){if(null!=r){let o,s=!1;Vn(r)?o=r:jn(r)&&(s=!0,r=r[Yt]);const a=Ft(r);0===e&&null!==n?null==i?w_(t,n,a):Eo(t,n,a,i||null,!0):1===e&&null!==n?Eo(t,n,a,i||null,!0):2===e?function Ua(e,t,n){const r=Kl(e,t);r&&function jR(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function $R(e,t,n,r,i){const o=n[Xr];o!==Ft(n)&&ds(t,e,r,o,i);for(let a=hn;a<n.length;a++){const u=n[a];Zl(u[de],u,e,t,r,o)}}(t,e,o,n,i)}}function ql(e,t,n){return e.createElement(t,n)}function v_(e,t){t[Pr].changeDetectionScheduler?.notify(1),Zl(e,t,t[qe],2,null,null)}function y_(e,t){const n=e[Qo],r=n.indexOf(t);n.splice(r,1)}function ja(e,t){if(e.length<=hn)return;const n=hn+t,r=e[n];if(r){const i=r[va];null!==i&&i!==e&&y_(i,r),t>0&&(e[n-1][kr]=r[kr]);const o=ll(e,hn+t);!function OR(e,t){v_(e,t),t[Yt]=null,t[Ln]=null}(r[de],r);const s=o[Si];null!==s&&s.detachView(o[de]),r[dn]=null,r[kr]=null,r[xe]&=-129}return r}function Wl(e,t){if(!(256&t[xe])){const n=t[qe];n.destroyNode&&Zl(e,t,n,3,null,null),function xR(e){let t=e[ma];if(!t)return wf(e[de],e);for(;t;){let n=null;if(jn(t))n=t[ma];else{const r=t[hn];r&&(n=r)}if(!n){for(;t&&!t[kr]&&t!==e;)jn(t)&&wf(t[de],t),t=t[dn];null===t&&(t=e),jn(t)&&wf(t[de],t),n=t&&t[kr]}t=n}}(t)}}function wf(e,t){if(256&t[xe])return;const n=N(null);try{t[xe]&=-129,t[xe]|=256,t[yo]&&function Fe(e){if(Ct(e),gt(e))for(let t=0;t<e.producerNode.length;t++)Pt(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[yo]),function LR(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Sa)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];ei(4,a,u);try{u.call(a)}finally{ei(5,a,u)}}else{ei(4,i,o);try{o.call(i)}finally{ei(5,i,o)}}}}}(e,t),function FR(e,t){const n=e.cleanup,r=t[Jo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Jo]=null);const i=t[Gi];if(null!==i){t[Gi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[de].type&&t[qe].destroy();const r=t[va];if(null!==r&&Vn(t[dn])){r!==t[dn]&&y_(r,t);const i=t[Si];null!==i&&i.detachView(e)}!function gM(e){Bh.delete(e[ya])}(t)}finally{N(n)}}function bf(e,t,n){return function __(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Yt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Nr.None||o===Nr.Emulated)return null}return Jn(r,n)}}(e,t.parent,n)}function Eo(e,t,n,r,i){e.insertBefore(t,n,r,i)}function w_(e,t,n){e.appendChild(t,n)}function b_(e,t,n,r,i){null!==r?Eo(e,t,n,r,i):w_(e,t,n)}function Kl(e,t){return e.parentNode(t)}let Df,E_=function C_(e,t,n){return 40&e.type?Jn(e,n):null};function Jl(e,t,n,r){const i=bf(e,r,t),o=t[qe],a=function D_(e,t,n){return E_(e,t,n)}(r.parent||t[Ln],r,t);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)b_(o,i,n[u],a,!1);else b_(o,i,n,a,!1);void 0!==Df&&Df(o,r,t,n,i)}function Va(e,t){if(null!==t){const n=t.type;if(3&n)return Jn(t,e);if(4&n)return Cf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Va(e,r);{const i=e[t.index];return Vn(i)?Cf(-1,i):Ft(i)}}if(32&n)return vf(t,e)()||Ft(e[t.index]);{const r=I_(e,t);return null!==r?Array.isArray(r)?r[0]:Va(wo(e[nn]),r):Va(e,t.next)}}return null}function I_(e,t){return null!==t?e[nn][Ln].projection[t.projection]:null}function Cf(e,t){const n=hn+e+1;if(n<t.length){const r=t[n],i=r[de].firstChild;if(null!==i)return Va(r,i)}return t[Xr]}function Ef(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===t&&(a&&$n(Ft(a),r),n.flags|=2),32&~n.flags)if(8&u)Ef(e,t,n.child,r,i,o,!1),ds(t,e,i,a,o);else if(32&u){const c=vf(n,r);let h;for(;h=c();)ds(t,e,i,h,o);ds(t,e,i,a,o)}else 16&u?T_(e,t,r,n,i,o):ds(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Zl(e,t,n,r,i,o){Ef(n,r,e.firstChild,t,i,o,!1)}function T_(e,t,n,r,i,o){const s=n[nn],u=s[Ln].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ds(t,e,i,u[c],o);else{let c=u;const h=s[dn];Nl(r)&&(c.flags|=128),Ef(e,t,c,h,i,o,!0)}}function M_(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function R_(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&nh(e,t,r),null!==i&&M_(e,t,i),null!==o&&function HR(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}const et={};function Nt(e=1){O_(ft(),q(),Un()+e,!1)}function O_(e,t,n,r){if(!r)if(3&~t[xe]){const o=e.preOrderHooks;null!==o&&Il(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&Sl(t,o,n)}bo(n)}function oe(e,t=ht.Default){const n=q();return null===n?ze(e,t):iy(Ot(),n,Be(e),t)}function N_(e,t,n,r,i,o){const s=N(null);try{let a=null;i&Ut.SignalBased&&(a=t[r][x]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Ut.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),null!==e.setInput?e.setInput(t,a,o,n,r):Av(t,a,r,o)}finally{N(s)}}function Yl(e,t,n,r,i,o,s,a,u,c,h){const f=t.blueprint.slice();return f[Yt]=i,f[xe]=204|r,(null!==c||e&&2048&e[xe])&&(f[xe]|=2048),kv(f),f[dn]=f[Zo]=e,f[Gt]=n,f[Pr]=s||e&&e[Pr],f[qe]=a||e&&e[qe],f[vn]=u||e&&e[vn]||null,f[Ln]=o,f[ya]=function fM(){return hM++}(),f[vr]=h,f[Cv]=c,f[nn]=2==t.type?e[nn]:f,f}function hs(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Sf(e,t,n,r,i){const o=Uv(),s=Eh(),u=e.data[t]=function QR(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function es(){return null!==We.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(e,t,n,r,i),function MT(){return We.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ca(){const e=We.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ni(o,!0),o}function $a(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function x_(e,t,n,r,i){const o=Un(),s=2&r;try{bo(-1),s&&t.length>Ye&&O_(e,t,Ye,!1),ei(s?2:0,i),n(r,i)}finally{bo(o),ei(s?3:1,i)}}function If(e,t,n){if(ph(t)){const r=N(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{N(r)}}}function Af(e,t,n){Lv()&&(function oO(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;_o(n)&&function hO(e,t,n){const r=Jn(t,e),i=k_(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Ql(e,Yl(e,i,null,s,r,t,null,e[Pr].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Tl(n,t),$n(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const u=e.data[a],c=Do(t,e,a,n);$n(c,t),null!==s&&fO(0,a-i,c,u,0,s),Fr(u)&&(yr(n.index,t)[Gt]=Do(t,e,a,n))}}(e,t,n,Jn(n,t)),!(64&~n.flags)&&V_(e,t,n))}function Tf(e,t,n=Jn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function k_(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Mf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Mf(e,t,n,r,i,o,s,a,u,c,h){const f=Ye+r,D=f+i,A=function qR(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:et);return n}(f,D),R="function"==typeof c?c():c;return A[de]={type:e,blueprint:A,template:n,queries:null,viewQuery:a,declTNode:t,data:A.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:R,incompleteFirstPass:!1,ssrId:h}}let P_=()=>null;function F_(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;r??={};let a,u=Ut.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let c=o;if(null!==i){if(!i.hasOwnProperty(o))continue;c=i[o]}0===e?L_(r,n,c,a,u):L_(r,n,c,a)}return r}function L_(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],void 0!==i&&o.push(i)}function cr(e,t,n,r,i,o,s,a){const u=Jn(t,n);let h,c=t.inputs;!a&&null!=c&&(h=c[r])?(kf(e,n,h,r,i),_o(t)&&function tO(e,t){const n=yr(t,e);16&n[xe]||(n[xe]|=64)}(n,t.index)):3&t.type&&(r=function eO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(u,r,i))}function Rf(e,t,n,r){if(Lv()){const i=null===r?null:{"":-1},o=function aO(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(dv(t,s.selectors,!1))if(r||(r=[]),Fr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Of(e,t,a.length)}else r.unshift(s),Of(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&j_(e,t,n,s,i,a),i&&function uO(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Q(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=fa(n.mergedAttrs,n.attrs)}function j_(e,t,n,r,i,o){for(let c=0;c<r.length;c++)Fh(Tl(n,t),e,r[c].type);!function cO(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const h=r[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=$a(e,t,r.length,null);for(let c=0;c<r.length;c++){const h=r[c];n.mergedAttrs=fa(n.mergedAttrs,h.hostAttrs),dO(e,n,t,u,h),lO(u,h,i),null!==h.contentQueries&&(n.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(n.flags|=64);const f=h.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function XR(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let u=null,c=null;for(let h=t.directiveStart;h<i;h++){const f=o[h],D=n?n.get(f):null,R=D?D.outputs:null;u=F_(0,f.inputs,h,u,D?D.inputs:null),c=F_(1,f.outputs,h,c,R);const P=null===u||null===s||rh(t)?null:pO(u,h,s);a.push(P)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=u,t.outputs=c}(e,n,o)}function V_(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function OT(){return We.lFrame.currentDirectiveIndex}();try{bo(o);for(let a=r;a<i;a++){const u=e.data[a],c=t[a];Ih(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&sO(u,c)}}finally{bo(-1),Ih(s)}}function sO(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Of(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function lO(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Fr(t)&&(n[""]=e)}}function dO(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=go(i.type)),s=new Sa(o,Fr(i),oe);e.blueprint[r]=s,n[r]=s,function rO(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function iO(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,$a(e,n,i.hostVars,et),i)}function si(e,t,n,r,i,o){const s=Jn(e,t);!function Nf(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?be(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[qe],s,o,e.value,n,r,i)}function fO(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)N_(r,n,s[a++],s[a++],s[a++],s[a++])}function pO(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function U_(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function $_(e,t){const n=e.contentQueries;if(null!==n){const r=N(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];Cl(n[i]),a.contentQueries(2,t[s],s)}}}finally{N(r)}}}function Ql(e,t){return e[ma]?e[Dv][kr]=t:e[ma]=t,e[Dv]=t,t}function xf(e,t,n){Cl(0);const r=N(null);try{t(e,n)}finally{N(r)}}function Xl(e,t){const n=e[vn],r=n?n.get(oi,null):null;r&&r.handleError(t)}function kf(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=n[o++];N_(e.data[s],t[s],r,a,u,i)}}function Mi(e,t,n){const r=wa(t,e);!function m_(e,t,n){e.setValue(t,n)}(e[qe],r,n)}function gO(e,t){const n=yr(t,e),r=n[de];!function mO(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Yt];null!==i&&null===n[vr]&&(n[vr]=ef(i,n[vn])),Pf(r,n,n[Gt])}function Pf(e,t,n){Mh(t);try{const r=e.viewQuery;null!==r&&xf(1,r,n);const i=e.template;null!==i&&x_(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Si]?.finishViewCreation(e),e.staticContentQueries&&$_(e,t),e.staticViewQueries&&xf(2,e.viewQuery,n);const o=e.components;null!==o&&function vO(e,t){for(let n=0;n<t.length;n++)gO(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[xe]&=-5,Rh()}}function Ba(e,t,n,r){const i=N(null);try{const o=t.tView,u=Yl(e,o,n,4096&e[xe]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);u[va]=e[t.index];const h=e[Si];return null!==h&&(u[Si]=h.createEmbeddedView(o)),Pf(o,u,n),u}finally{N(i)}}function z_(e,t){const n=hn+t;if(n<e.length)return e[n]}function fs(e,t){return!t||null===t.firstChild||Nl(e)}function Ha(e,t,n,r=!0){const i=t[de];if(function kR(e,t,n,r){const i=hn+r,o=n.length;r>0&&(n[i-1][kr]=t),r<o-hn?(t[kr]=n[i],rv(n,hn+r,t)):(n.push(t),t[kr]=null),t[dn]=n;const s=t[va];null!==s&&n!==s&&function PR(e,t){const n=e[Qo];t[nn]!==t[dn][dn][nn]&&(e[xe]|=fh.HasTransplantedViews),null===n?e[Qo]=[t]:n.push(t)}(s,t);const a=t[Si];null!==a&&a.insertView(e),Dh(t),t[xe]|=128}(i,t,e,n),r){const s=Cf(n,e),a=t[qe],u=Kl(a,e[Xr]);null!==u&&function NR(e,t,n,r,i,o){r[Yt]=i,r[Ln]=t,Zl(e,r,n,1,i,o)}(i,e[Ln],a,t,u,s)}const o=t[vr];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Ff(e,t){const n=ja(e,t);return void 0!==n&&Wl(n[de],n),n}function Ga(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Ft(o)),Vn(o)&&q_(o,r);const s=n.type;if(8&s)Ga(e,t,n.child,r);else if(32&s){const a=vf(n,t);let u;for(;u=a();)r.push(u)}else if(16&s){const a=I_(t,n);if(Array.isArray(a))r.push(...a);else{const u=wo(t[nn]);Ga(u[de],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function q_(e,t){for(let n=hn;n<e.length;n++){const r=e[n],i=r[de].firstChild;null!==i&&Ga(r[de],r,i,t)}e[Xr]!==e[Yt]&&t.push(e[Xr])}let W_=[];const bO={...he,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Da(e.lView)},consumerOnSignalRead(){this.lView[yo]=this}},K_=100;function ec(e,t=!0,n=0){const r=e[Pr],i=r.rendererFactory;i.begin?.();try{!function DO(e,t){Lf(e,t);let n=0;for(;bh(e);){if(n===K_)throw new Q(103,!1);n++,Lf(e,1)}}(e,n)}catch(s){throw t&&Xl(e,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function CO(e,t,n,r){const i=t[xe];if(!(256&~i))return;t[Pr].inlineEffectRunner?.flush(),Mh(t);let s=null,a=null;(function EO(e){return 2!==e.type})(e)&&(a=function yO(e){return e[yo]??function _O(e){const t=W_.pop()??Object.create(bO);return t.lView=e,t}(e)}(t),s=Me(a));try{kv(t),function Bv(e){return We.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&x_(e,t,n,2,r);const u=!(3&~i);if(u){const f=e.preOrderCheckHooks;null!==f&&Sl(t,f,null)}else{const f=e.preOrderHooks;null!==f&&Il(t,f,0,null),Oh(t,0)}if(function SO(e){for(let t=Ry(e);null!==t;t=Oy(t)){if(!(t[xe]&fh.HasTransplantedViews))continue;const n=t[Qo];for(let r=0;r<n.length;r++){_T(n[r])}}}(t),J_(t,0),null!==e.contentQueries&&$_(e,t),u){const f=e.contentCheckHooks;null!==f&&Sl(t,f)}else{const f=e.contentHooks;null!==f&&Il(t,f,1),Oh(t,1)}!function zR(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)bo(~i);else{const o=i,s=n[++r],a=n[++r];RT(s,o),a(2,t[o])}}}finally{bo(-1)}}(e,t);const c=e.components;null!==c&&Y_(t,c,0);const h=e.viewQuery;if(null!==h&&xf(2,h,r),u){const f=e.viewCheckHooks;null!==f&&Sl(t,f)}else{const f=e.viewHooks;null!==f&&Il(t,f,2),Oh(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[_l]){for(const f of t[_l])f();t[_l]=null}t[xe]&=-73}catch(u){throw Da(t),u}finally{null!==a&&(Ke(a,s),function wO(e){e.lView[yo]!==e&&(e.lView=null,W_.push(e))}(a)),Rh()}}function J_(e,t){for(let n=Ry(e);null!==n;n=Oy(n))for(let r=hn;r<n.length;r++)Z_(n[r],t)}function IO(e,t,n){Z_(yr(t,e),n)}function Z_(e,t){wh(e)&&Lf(e,t)}function Lf(e,t){const r=e[de],i=e[xe],o=e[yo];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!Te(o)),o&&(o.dirty=!1),e[xe]&=-9217,s)CO(r,e,r.template,e[Gt]);else if(8192&i){J_(e,1);const a=r.components;null!==a&&Y_(e,a,1)}}function Y_(e,t,n){for(let r=0;r<t.length;r++)IO(e,t[r],n)}function za(e){for(e[Pr].changeDetectionScheduler?.notify();e;){e[xe]|=64;const t=wo(e);if(gh(e)&&!t)return e;e=t}return null}class qa{get rootNodes(){const t=this._lView,n=t[de];return Ga(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(t){this._lView[Gt]=t}get destroyed(){return!(256&~this._lView[xe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[dn];if(Vn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(ja(t,r),ll(n,r))}this._attachedToViewContainer=!1}Wl(this._lView[de],this._lView)}onDestroy(t){Dl(this._lView,t)}markForCheck(){za(this._cdRefInjectingView||this._lView)}detach(){this._lView[xe]&=-129}reattach(){Dh(this._lView),this._lView[xe]|=128}detectChanges(){this._lView[xe]|=1024,ec(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,v_(this._lView[de],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=t,Dh(this._lView)}}let rw=()=>null;function ps(e,t){return rw(e,t)}class Hf{}class XO{}class iw{}class tN{resolveComponentFactory(t){throw function eN(e){const t=Error(`No component factory found for ${cn(e)}.`);return t.ngComponent=e,t}(t)}}let sc=(()=>{class e{static{this.NULL=new tN}}return e})();class sw{}let Oi=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function nN(){const e=q(),n=yr(Ot().index,e);return(jn(n)?n:e)[qe]}()}}return e})(),rN=(()=>{class e{static{this.\u0275prov=De({token:e,providedIn:"root",factory:()=>null})}}return e})();const Gf={},aw=new Set;function ai(e){aw.has(e)||(aw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function uw(...e){}class Lt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rn(!1),this.onMicrotaskEmpty=new rn(!1),this.onStable=new rn(!1),this.onError=new rn(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function iN(){const e="function"==typeof wt.requestAnimationFrame;let t=wt[e?"requestAnimationFrame":"setTimeout"],n=wt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function aN(e){const t=()=>{!function sN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(wt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,qf(e),e.isCheckStableRunning=!0,zf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),qf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function uN(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return lw(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),cw(e)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return lw(e),n.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),cw(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,qf(e),zf(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new Q(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,oN,uw,uw);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const oN={};function zf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function lw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function cw(e){e._nesting--,zf(e)}let Ya=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=De({token:e,providedIn:"root",factory:()=>new e})}}return e})();function uc(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=aa(i,a):2==o&&(r=aa(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class vw extends sc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ct(t);return new eu(n,this.ngModule)}}function yw(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class lc{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ul(r);const i=this.injector.get(t,Gf,r);return i!==Gf||n===Gf?i:this.parentInjector.get(t,n,r)}}class eu extends iw{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=yw(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return yw(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function LA(e){return e.map(FA).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const o=N(null);try{let s=(i=i||this.ngModule)instanceof mr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new lc(t,s):t,u=a.get(sw,null);if(null===u)throw new Q(407,!1);const c=a.get(rN,null),D={rendererFactory:u,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(Ya,null),changeDetectionScheduler:a.get(Hf,null)},A=u.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",P=r?function WR(e,t,n,r){const o=r.get(Wy,!1)||n===Nr.ShadowDom,s=e.selectRootElement(t,o);return function KR(e){P_(e)}(s),s}(A,r,this.componentDef.encapsulation,a):ql(A,R,function pN(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(R));let B=512;this.componentDef.signals?B|=4096:this.componentDef.onPush||(B|=16);let W=null;null!==P&&(W=ef(P,a,!0));const z=Mf(0,null,null,1,0,null,null,null,null,null,null),ye=Yl(null,z,null,B,null,null,D,A,a,null,W);let He,dt;Mh(ye);try{const Tt=this.componentDef;let Nn,ji=null;Tt.findHostDirectiveDefs?(Nn=[],ji=new Map,Tt.findHostDirectiveDefs(Tt,Nn,ji),Nn.push(Tt)):Nn=[Tt];const dA=function mN(e,t){const n=e[de],r=Ye;return e[r]=t,hs(n,r,2,"#host",null)}(ye,P),UH=function vN(e,t,n,r,i,o,s){const a=i[de];!function yN(e,t,n,r){for(const i of e)t.mergedAttrs=fa(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(uc(t,t.mergedAttrs,!0),null!==n&&R_(r,n,t))}(r,e,t,s);let u=null;null!==t&&(u=ef(t,i[vn]));const c=o.rendererFactory.createRenderer(t,n);let h=16;n.signals?h=4096:n.onPush&&(h=64);const f=Yl(i,k_(n),null,h,i[e.index],e,o,c,null,null,u);return a.firstCreatePass&&Of(a,e,r.length-1),Ql(i,f),i[e.index]=f}(dA,P,Tt,Nn,ye,D,A);dt=ba(z,Ye),P&&function wN(e,t,n,r){if(r)nh(e,n,["ng-version","17.3.12"]);else{const{attrs:i,classes:o}=function jA(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!xr(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&nh(e,n,i),o&&o.length>0&&M_(e,n,o.join(" "))}}(A,Tt,P,r),void 0!==n&&function bN(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(dt,this.ngContentSelectors,n),He=function _N(e,t,n,r,i,o){const s=Ot(),a=i[de],u=Jn(s,i);j_(a,i,s,n,null,r);for(let h=0;h<n.length;h++)$n(Do(i,a,s.directiveStart+h,s),i);V_(a,i,s),u&&$n(u,i);const c=Do(i,a,s.directiveStart+s.componentOffset,s);if(e[Gt]=i[Gt]=c,null!==o)for(const h of o)h(c,t);return If(a,s,i),c}(UH,Tt,Nn,ji,ye,[DN]),Pf(z,ye,null)}finally{Rh()}return new gN(this.componentType,He,os(dt,ye),ye,dt)}finally{N(o)}}}class gN extends XO{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qa(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;kf(o[de],o,i,t,n),this.previousInputValues.set(t,n),za(yr(this._tNode.index,o))}}get injector(){return new Sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function DN(){const e=Ot();El(q()[de],e)}let Vr=(()=>{class e{static{this.__NG_ELEMENT_ID__=CN}}return e})();function CN(){return function bw(e,t){let n;const r=t[e.index];return Vn(r)?n=r:(n=U_(r,t,null,e),t[e.index]=n,Ql(t,n)),Dw(n,t,e,r),new _w(n,e,t)}(Ot(),q())}const EN=Vr,_w=class extends EN{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new Sn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ml(this._hostTNode,this._hostLView);if(xh(t)){const n=Aa(t,this._hostLView),r=Ia(t);return new Sn(n[de].data[r+8],n)}return new Sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=ww(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=ps(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,fs(this._hostTNode,s)),a}createComponent(t,n,r,i,o){const s=t&&!function ga(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const R=n||{};a=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef}const u=s?t:new eu(ct(t)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const P=(s?c:this.parentInjector).get(mr,null);P&&(o=P)}const h=ct(u.componentType??{}),f=ps(this._lContainer,h?.id??null),A=u.create(c,i,f?.firstChild??null,o);return this.insertImpl(A.hostView,a,fs(this._hostTNode,f)),A}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function yT(e){return Vn(e[dn])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const u=i[dn],c=new _w(u,u[Ln],u[dn]);c.detach(c.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return Ha(s,i,o,r),t.attachToViewContainerRef(),rv(Zf(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=ww(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=ja(this._lContainer,n);r&&(ll(Zf(this._lContainer),n),Wl(r[de],r))}detach(t){const n=this._adjustIndex(t,-1),r=ja(this._lContainer,n);return r&&null!=ll(Zf(this._lContainer),n)?new qa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function ww(e){return e[8]}function Zf(e){return e[8]||(e[8]=[])}let Dw=function Ew(e,t,n,r){if(e[Xr])return;let i;i=8&n.type?Ft(r):function SN(e,t){const n=e[qe],r=n.createComment(""),i=Jn(t,e);return Eo(n,Kl(n,i),r,function VR(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Xr]=i},Yf=()=>!1;function Zi(e,t){ai("NgSignals");const n=function Sr(e){const t=Object.create(re);t.value=e;const n=()=>(X(t),t.value);return n[x]=t,n}(e),r=n[x];return t?.equal&&(r.equal=t.equal),n.set=i=>H(r,i),n.update=i=>function G(e,t){Ae()||Pn(),H(e,t(e.value))}(r,i),n.asReadonly=xw.bind(n),n}function xw(){const e=this[x];if(void 0===e.readonlyFn){const t=()=>this();t[x]=e,e.readonlyFn=t}return e.readonlyFn}function xt(e){let t=function zw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Fr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Q(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=dc(e.inputs),s.inputTransforms=dc(e.inputTransforms),s.declaredInputs=dc(e.declaredInputs),s.outputs=dc(e.outputs);const a=i.hostBindings;a&&KN(e,a);const u=i.viewQuery,c=i.contentQueries;if(u&&qN(e,u),c&&WN(e,c),GN(e,i),nl(e.outputs,i.outputs),Fr(i)&&i.data.animation){const h=e.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===xt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function zN(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=fa(i.hostAttrs,n=fa(n,i.hostAttrs))}}(r)}function GN(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function dc(e){return e===Qr?{}:e===bt?[]:e}function qN(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function WN(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function KN(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function Jw(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}class Io{}class Zw{}class sp extends Io{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vw(this);const i=Fn(t);this._bootstrapComponents=wr(i.bootstrap),this._r3Injector=py(t,n,[{provide:Io,useValue:this},{provide:sc,useValue:this.componentFactoryResolver},...r],cn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ap extends Zw{constructor(t){super(),this.moduleType=t}create(t){return new sp(this.moduleType,t,[])}}class Yw extends Io{constructor(t){super(),this.componentFactoryResolver=new vw(this),this.instance=null;const n=new qo([...t.providers,{provide:Io,useValue:this},{provide:sc,useValue:this.componentFactoryResolver}],t.parent||ml(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function up(e,t,n=null){return new Yw({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Yi=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ui(e,t,n){return e[t]=n}function fn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ms(e,t,n,r,i,o,s,a){const u=q(),c=ft(),h=e+Ye,f=c.firstCreatePass?function ax(e,t,n,r,i,o,s,a,u){const c=t.consts,h=hs(t,e,4,s||null,ti(c,a));Rf(t,n,h,ti(c,u)),El(t,h);const f=h.tView=Mf(2,h,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,h),f.queries=t.queries.embeddedTView(h)),h}(h,c,u,t,n,r,i,o,s):c.data[h];ni(f,!1);const D=Qw(c,u,f,e);Ea()&&Jl(c,u,D,f),$n(D,u);const A=U_(D,u,D,f);return u[h]=A,Ql(u,A),function Cw(e,t,n){return Yf(e,t,n)}(A,f,u),bl(f)&&Af(c,u,f),null!=s&&Tf(u,f,a),ms}let Qw=function Xw(e,t,n,r){return ri(!0),t[qe].createComment("")};function li(e,t,n,r){const i=q();return fn(i,Lr(),t)&&(ft(),si(zt(),i,e,t,n,r)),li}function Es(e,t,n,r){return fn(e,Lr(),n)?t+be(n)+r:et}function Ss(e,t,n,r,i,o){const a=function Ao(e,t,n,r){const i=fn(e,t,n);return fn(e,t+1,r)||i}(e,function Ii(){return We.lFrame.bindingIndex}(),n,i);return Ai(2),a?t+be(n)+r+be(i)+o:et}function wc(e,t){return e<<17|t<<2}function Xi(e){return e>>17&32767}function _p(e){return 2|e}function Mo(e){return(131068&e)>>2}function wp(e,t){return-131069&e|t<<2}function bp(e){return 1|e}function Rb(e,t,n,r){const i=e[n+1],o=null===t;let s=r?Xi(i):Mo(i),a=!1;for(;0!==s&&(!1===a||o);){const c=e[s+1];Wx(e[s],t)&&(a=!0,e[s+1]=r?bp(c):_p(c)),s=r?Xi(c):Mo(c)}a&&(e[n+1]=r?_p(i):bp(i))}function Wx(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Go(e,t)>=0}function An(e,t,n){const r=q();return fn(r,Lr(),t)&&cr(ft(),zt(),r,e,t,r[qe],n,!1),An}function Dp(e,t,n,r,i){const s=i?"class":"style";kf(e,n,t.inputs[s],s,r)}function bc(e,t){return function Ur(e,t,n,r){const i=q(),o=ft(),s=Ai(2);o.firstUpdatePass&&function Vb(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Un()],s=function jb(e,t){return t>=e.expandoStartIndex}(e,n);(function Hb(e,t){return!!(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function nk(e,t,n,r){const i=function Ah(e){const t=We.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=au(n=Cp(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Cp(i,e,t,n,r),null===o){let u=function rk(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Mo(r))return e[Xi(r)]}(e,t,r);void 0!==u&&Array.isArray(u)&&(u=Cp(null,e,t,u[1],r),u=au(u,t.attrs,r),function ik(e,t,n,r){e[Xi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,u))}else o=function ok(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=au(r,e[o].hostAttrs,n);return au(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function zx(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Xi(s),u=Mo(s);e[r]=n;let h,c=!1;if(Array.isArray(n)?(h=n[1],(null===h||Go(n,h)>0)&&(c=!0)):h=n,i)if(0!==u){const D=Xi(e[a+1]);e[r+1]=wc(D,a),0!==D&&(e[D+1]=wp(e[D+1],r)),e[a+1]=function Hx(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=wc(a,0),0!==a&&(e[a+1]=wp(e[a+1],r)),a=r;else e[r+1]=wc(u,0),0===a?a=r:e[u+1]=wp(e[u+1],r),u=r;c&&(e[r+1]=_p(e[r+1])),Rb(e,h,r,!0),Rb(e,h,r,!1),function qx(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Go(o,t)>=0&&(n[r+1]=bp(n[r+1]))}(t,h,e,r,o),s=wc(a,u),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==et&&fn(i,s,t)&&function $b(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const u=e.data,c=u[a+1],h=function Gx(e){return!(1&~e)}(c)?Bb(u,t,n,i,Mo(c),s):void 0;Dc(h)||(Dc(o)||function Bx(e){return!(2&~e)}(c)&&(o=Bb(u,null,n,i,a,s)),function BR(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Wi.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wi.Important),e.setStyle(n,r,i,o))}}(r,s,wa(Un(),n),i,o))}(o,o.data[Un()],i,i[qe],e,i[s+1]=function lk(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=cn(qi(e)))),e}(t,n),r,s)}(e,t,null,!0),bc}function Cp(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=au(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function au(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),pr(e,s,!!n||t[++o]))}return void 0===e?null:e}function Bb(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const u=e[i],c=Array.isArray(u),h=c?u[1]:u,f=null===h;let D=n[i+1];D===et&&(D=f?bt:void 0);let A=f?eh(D,r):h===r?D:void 0;if(c&&!Dc(A)&&(A=eh(u,r)),Dc(A)&&(a=A,s))return a;const R=e[i+1];i=s?Xi(R):Mo(R)}if(null!==t){let u=o?t.residualClasses:t.residualStyles;null!=u&&(a=eh(u,r))}return a}function Dc(e){return void 0!==e}class wk{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}}function Ep(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function Sp(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function Gb(e,t,n,r,i){if(Sp(e,t,r,n(r,i)))e.updateValue(r,i);else{const o=e.create(r,i);e.attach(r,o)}}function zb(e,t,n,r){const i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}class qb{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}}class Dk{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-hn}}function Ip(e){return e}class Ek{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}function Ap(e,t,n,r,i,o,s,a,u,c,h,f,D){ai("NgControlFlow");const A=void 0!==u,R=q(),P=a?s.bind(R[nn][Gt]):s,B=new Ek(A,P);R[Ye+e]=B,ms(e+1,t,n,r,i,o),A&&ms(e+2,u,c,h,f,D)}class Sk extends wk{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-hn}at(t){return this.getLView(t)[Gt].$implicit}attach(t,n){const r=n[vr];this.needsIndexUpdate||=t!==this.length,Ha(this.lContainer,n,t,fs(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function Ik(e,t){return ja(e,t)}(this.lContainer,t)}create(t,n){const r=ps(this.lContainer,this.templateTNode.tView.ssrId);return Ba(this.hostLView,this.templateTNode,new Dk(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Wl(t[de],t)}updateValue(t,n){this.getLView(t)[Gt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Gt].$index=t}getLView(t){return function Ak(e,t){return z_(e,t)}(this.lContainer,t)}}function Tp(e){const t=N(null),n=Un();try{const r=q(),i=r[de],o=r[n];if(void 0===o.liveCollection){const a=n+1,u=Mp(r,a),c=Rp(i,a);o.liveCollection=new Sk(u,r,c)}else o.liveCollection.reset();const s=o.liveCollection;if(function bk(e,t,n){let r,i,o=0,s=e.length-1;if(Array.isArray(t)){let a=t.length-1;for(;o<=s&&o<=a;){const u=e.at(o),c=t[o],h=Ep(o,u,o,c,n);if(0!==h){h<0&&e.updateValue(o,c),o++;continue}const f=e.at(s),D=t[a],A=Ep(s,f,a,D,n);if(0!==A){A<0&&e.updateValue(s,D),s--,a--;continue}const R=n(o,u),P=n(s,f),B=n(o,c);if(Object.is(B,P)){const W=n(a,D);Object.is(W,R)?(e.swap(o,s),e.updateValue(s,D),a--,s--):e.move(s,o),e.updateValue(o,c),o++}else if(r??=new qb,i??=zb(e,o,s,n),Sp(e,r,o,B))e.updateValue(o,c),o++,s++;else if(i.has(B))r.set(R,e.detach(o)),s--;else{const W=e.create(o,t[o]);e.attach(o,W),o++,s++}}for(;o<=a;)Gb(e,r,n,o,t[o]),o++}else if(null!=t){const a=t[Symbol.iterator]();let u=a.next();for(;!u.done&&o<=s;){const c=e.at(o),h=u.value,f=Ep(o,c,o,h,n);if(0!==f)f<0&&e.updateValue(o,h),o++,u=a.next();else{r??=new qb,i??=zb(e,o,s,n);const D=n(o,h);if(Sp(e,r,o,D))e.updateValue(o,h),o++,s++,u=a.next();else if(i.has(D)){const A=n(o,c);r.set(A,e.detach(o)),s--}else e.attach(o,e.create(o,h)),o++,s++,u=a.next()}}for(;!u.done;)Gb(e,r,n,e.length,u.value),u=a.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(a=>{e.destroy(a)})}(s,e,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=Lr(),u=0===s.length;if(fn(r,a,u)){const c=n+2,h=Mp(r,c);if(u){const f=Rp(i,c),D=ps(h,f.tView.ssrId);Ha(h,Ba(r,f,void 0,{dehydratedView:D}),0,fs(f,D))}else Ff(h,0)}}}finally{N(t)}}function Mp(e,t){return e[t]}function Rp(e,t){return ba(e,t)}function rt(e,t,n,r){const i=q(),o=ft(),s=Ye+e,a=i[qe],u=o.firstCreatePass?function Tk(e,t,n,r,i,o){const s=t.consts,u=hs(t,e,2,r,ti(s,i));return Rf(t,n,u,ti(s,o)),null!==u.attrs&&uc(u,u.attrs,!1),null!==u.mergedAttrs&&uc(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,t,n,r):o.data[s],c=Kb(o,i,u,a,t,e);i[s]=c;const h=bl(u);return ni(u,!0),R_(a,c,u),!function ru(e){return!(32&~e.flags)}(u)&&Ea()&&Jl(o,i,c,u),0===function wT(){return We.lFrame.elementDepthCount}()&&$n(c,i),function bT(){We.lFrame.elementDepthCount++}(),h&&(Af(o,i,u),If(o,u,i)),null!==r&&Tf(i,u),rt}function pt(){let e=Ot();Eh()?function Sh(){We.lFrame.isParent=!1}():(e=e.parent,ni(e,!1));const t=e;(function CT(e){return We.skipHydrationRootTNode===e})(t)&&function AT(){We.skipHydrationRootTNode=null}(),function DT(){We.lFrame.elementDepthCount--}();const n=ft();return n.firstCreatePass&&(El(n,e),ph(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function BT(e){return!!(8&e.flags)}(t)&&Dp(n,t,q(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function HT(e){return!!(16&e.flags)}(t)&&Dp(n,t,q(),t.stylesWithoutHost,!1),pt}function Ni(e,t,n,r){return rt(e,t,n,r),pt(),Ni}let Kb=(e,t,n,r,i,o)=>(ri(!0),ql(r,i,function Jv(){return We.lFrame.currentNamespace}()));const ks="en-US";let nD=ks;function on(e,t,n,r){const i=q(),o=ft(),s=Ot();return function Pp(e,t,n,r,i,o,s){const a=bl(r),c=e.firstCreatePass&&function H_(e){return e.cleanup||(e.cleanup=[])}(e),h=t[Gt],f=function B_(e){return e[Jo]||(e[Jo]=[])}(t);let D=!0;if(3&r.type||s){const P=Jn(r,t),B=s?s(P):P,W=f.length,z=s?He=>s(Ft(He[r.index])):r.index;let ye=null;if(!s&&a&&(ye=function NP(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[Jo],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==ye)(ye.__ngLastListenerFn__||ye).__ngNextListenerFn__=o,ye.__ngLastListenerFn__=o,D=!1;else{o=RD(r,t,h,o,!1);const He=n.listen(B,i,o);f.push(o,He),c&&c.push(i,z,W,W+1)}}else o=RD(r,t,h,o,!1);const A=r.outputs;let R;if(D&&null!==A&&(R=A[i])){const P=R.length;if(P)for(let B=0;B<P;B+=2){const dt=t[R[B]][R[B+1]].subscribe(o),Tt=f.length;f.push(o,dt),c&&c.push(i,r.index,Tt,-(Tt+1))}}}(o,i,i[qe],s,e,t,r),on}function MD(e,t,n,r){const i=N(null);try{return ei(6,t,n),!1!==n(r)}catch(o){return Xl(e,o),!1}finally{ei(7,t,n),N(i)}}function RD(e,t,n,r,i){return function o(s){if(s===Function)return r;za(e.componentOffset>-1?yr(e.index,t):t);let u=MD(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=MD(t,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function OD(e=1){return function xT(e){return(We.lFrame.contextLView=function Pv(e,t){for(;e>0;)t=t[Zo],e--;return t}(e,We.lFrame.contextLView))[Gt]}(e)}function Fp(e,t,n){return Lp(e,"",t,"",n),Fp}function Lp(e,t,n,r,i){const o=q(),s=Es(o,t,n,r);return s!==et&&cr(ft(),zt(),o,e,s,o[qe],i,!1),Lp}function un(e,t=""){const n=q(),r=ft(),i=e+Ye,o=r.firstCreatePass?hs(r,i,1,t,null):r.data[i],s=QD(r,n,o,t,e);n[i]=s,Ea()&&Jl(r,n,s,o),ni(o,!1)}let QD=(e,t,n,r,i)=>(ri(!0),function yf(e,t){return e.createText(t)}(t[qe],r));function hi(e){return Ac("",e,""),hi}function Ac(e,t,n){const r=q(),i=Es(r,e,t,n);return i!==et&&Mi(r,Un(),i),Ac}function jp(e,t,n,r,i){const o=q(),s=Ss(o,e,t,n,r,i);return s!==et&&Mi(o,Un(),s),jp}function Vp(e,t,n,r,i){if(e=Be(e),Array.isArray(e))for(let o=0;o<e.length;o++)Vp(e[o],t,n,r,i);else{const o=ft(),s=q(),a=Ot();let u=vo(e)?e:Be(e.provide);const c=_v(e),h=1048575&a.providerIndexes,f=a.directiveStart,D=a.providerIndexes>>20;if(vo(e)||!e.multi){const A=new Sa(c,i,oe),R=$p(u,t,i?h:h+D,f);-1===R?(Fh(Tl(a,s),o,u),Up(o,e,t.length),t.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(A),s.push(A)):(n[R]=A,s[R]=A)}else{const A=$p(u,t,h+D,f),R=$p(u,t,h,h+D),B=R>=0&&n[R];if(i&&!B||!i&&!(A>=0&&n[A])){Fh(Tl(a,s),o,u);const W=function rF(e,t,n,r,i){const o=new Sa(e,n,oe);return o.multi=[],o.index=t,o.componentProviders=0,uC(o,i,r&&!n),o}(i?nF:tF,n.length,i,r,c);!i&&B&&(n[R].providerFactory=W),Up(o,e,t.length,0),t.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(W),s.push(W)}else Up(o,e,A>-1?A:R,uC(n[i?R:A],c,!i&&r));!i&&r&&B&&n[R].componentProviders++}}}function Up(e,t,n,r){const i=vo(t),o=function zA(e){return!!e.useClass}(t);if(i||o){const u=(o?Be(t.useClass):t).prototype.ngOnDestroy;if(u){const c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const h=c.indexOf(n);-1===h?c.push(n,[r,u]):c[h+1].push(r,u)}else c.push(n,u)}}}function uC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function $p(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function tF(e,t,n,r){return Bp(this.multi,[])}function nF(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Do(n,n[de],this.providerFactory.index,r);o=a.slice(0,s),Bp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Bp(i,o);return o}function Bp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Qt(e,t=[]){return n=>{n.providersResolver=(r,i)=>function eF(e,t,n){const r=ft();if(r.firstCreatePass){const i=Fr(e);Vp(n,r.data,r.blueprint,i,!0),Vp(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}let iF=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=ih(0,n.type),i=r.length>0?up([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=De({token:e,providedIn:"environment",factory:()=>new e(ze(mr))})}}return e})();function Dr(e){ai("NgStandalone"),e.getStandaloneInjector=t=>t.get(iF).getOrCreateStandaloneInjector(e)}function Mc(e,t,n){const r=Zn()+e,i=q();return i[r]===et?ui(i,r,n?t.call(n):t()):function nu(e,t){return e[t]}(i,r)}function cC(e,t,n,r){return function dC(e,t,n,r,i,o){const s=t+n;return fn(e,s,i)?ui(e,s+1,o?r.call(o,i):r(i)):function pu(e,t){const n=e[t];return n===et?void 0:n}(e,s+1)}(q(),Zn(),e,t,n,r)}let OC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const FC=new l("");function _u(e){return!!e&&"function"==typeof e.then}function LC(e){return!!e&&"function"==typeof e.subscribe}const m1=new l("");let Yp=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=te(m1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(_u(o))n.push(o);else if(LC(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Qp=new l("");let eo=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=te(my),this.afterRenderEffectManager=te(Ya),this.externalTestViews=new Set,this.beforeRender=new fe,this.afterTick=new fe,this.componentTypes=[],this.components=[],this.isStable=te(Yi).hasPendingTasks.pipe(mt(n=>!n)),this._injector=te(mr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof iw;if(!this._injector.get(Yp).done)throw!i&&function Hi(e){const t=ct(e)||Cn(e)||xn(e);return null!==t&&t.standalone}(n),new Q(405,!1);let s;s=i?n:this._injector.get(sc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function v1(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Io),c=s.create(ur.NULL,[],r||s.selector,a),h=c.location.nativeElement,f=c.injector.get(FC,null);return f?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),xc(this.components,c),f?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Q(101,!1);const r=N(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,N(r)}}detectChangesInAttachedViews(n){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===K_)throw new Q(103,!1);if(n){const o=0===r;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)_1(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Xp(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Xp(o))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;xc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Qp,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function _1(e,t,n){!t&&!Xp(e)||function w1(e,t,n){let r;n?(r=0,e[xe]|=1024):r=64&e[xe]?0:1,ec(e,t,r)}(e,n,t)}function Xp(e){return bh(e)}class b1{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let D1=(()=>{class e{compileModuleSync(n){return new ap(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=wr(Fn(n).declarations).reduce((s,a)=>{const u=ct(a);return u&&s.push(new eu(u)),s},[]);return new b1(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),S1=(()=>{class e{constructor(){this.zone=te(Lt),this.applicationRef=te(eo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function BC(e){return[{provide:Lt,useFactory:e},{provide:mo,multi:!0,useFactory:()=>{const t=te(S1,{optional:!0});return()=>t.initialize()}},{provide:mo,multi:!0,useFactory:()=>{const t=te(T1);return()=>{t.initialize()}}},{provide:my,useFactory:I1}]}function I1(){const e=te(Lt),t=te(oi);return n=>e.runOutsideAngular(()=>t.handleError(n))}function A1(e){return zo([[],BC(()=>new Lt(function HC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let T1=(()=>{class e{constructor(){this.subscription=new ee,this.initialized=!1,this.zone=te(Lt),this.pendingTasks=te(Yi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const xi=new l("",{providedIn:"root",factory:()=>te(xi,ht.Optional|ht.SkipSelf)||function M1(){return typeof $localize<"u"&&$localize.locale||ks}()}),eg=new l("");let to=null;let wu=(()=>{class e{static{this.__NG_ELEMENT_ID__=P1}}return e})();function P1(e){return function F1(e,t,n){if(_o(e)&&!n){const r=yr(e.index,t);return new qa(r,r)}return 47&e.type?new qa(t[nn],t):null}(Ot(),q(),!(16&~e))}function uL(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,i=function k1(e=[]){if(to)return to;const t=function qC(e=[],t){return ur.create({name:t,providers:[{provide:ah,useValue:"platform"},{provide:eg,useValue:new Set([()=>to=null])},...e]})}(e);return to=t,function jC(){!function Hn(e){wn=e}(()=>{throw new Q(600,!1)})}(),function WC(e){e.get(Uy,null)?.forEach(n=>n())}(t),t}(r),o=[A1(),...n||[]],a=new Yw({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Lt);return u.run(()=>{a.resolveInjectorInitializers();const c=a.get(oi,null);let h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:A=>{c.handleError(A)}})});const f=()=>a.destroy(),D=i.get(eg);return D.add(f),a.onDestroy(()=>{h.unsubscribe(),D.delete(f)}),function VC(e,t,n){try{const r=n();return _u(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(c,u,()=>{const A=a.get(Yp);return A.runInitializers(),A.donePromise.then(()=>{!function rD(e){"string"==typeof e&&(nD=e.toLowerCase().replace(/_/g,"-"))}(a.get(xi,ks)||ks);const P=a.get(eo);return void 0!==t&&P.bootstrap(t),P})})})}catch(t){return Promise.reject(t)}}function js(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function lg(e,t){ai("NgSignals");const n=function kn(e){const t=Object.create(Mn);t.computation=e;const n=()=>{if(ue(t),X(t),t.value===Ze)throw t.error;return t.value};return n[x]=t,n}(e);return t?.equal&&(n[x].equal=t.equal),n}let IE=null;function no(){return IE}class RL{}const Br=new l("");let AE=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>te(OL),providedIn:"platform"})}}return e})(),OL=(()=>{class e extends AE{constructor(){super(),this._doc=te(Br),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return no().getBaseHref(this._doc)}onPopState(n){const r=no().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=no().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function TE(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function ME(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function No(e){return e&&"?"!==e[0]?"?"+e:e}let Hc=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>te(xL),providedIn:"root"})}}return e})();const NL=new l("");let xL=(()=>{class e extends Hc{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??te(Br).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return TE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+No(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+No(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+No(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(ze(AE),ze(NL,8))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Cu=(()=>{class e{constructor(n){this._subject=new rn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function FL(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(ME(RE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+No(r))}normalize(n){return e.stripTrailingSlash(function PL(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,RE(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+No(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+No(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=No}static{this.joinWithSlash=TE}static{this.stripTrailingSlash=ME}static{this.\u0275fac=function(r){return new(r||e)(ze(Hc))}}static{this.\u0275prov=De({token:e,factory:()=>function kL(){return new Cu(ze(Hc))}(),providedIn:"root"})}}return e})();function RE(e){return e.replace(/\/index.html$/,"")}function VE(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let Yj=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=pa({type:e})}static{this.\u0275inj=fr({})}}return e})();function WE(e){return"server"===e}class KE{}class MV extends RL{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sg extends MV{static makeCurrent(){!function ML(e){IE??=e}(new Sg)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function RV(){return Au=Au||document.querySelector("base"),Au?Au.getAttribute("href"):null}();return null==n?null:function OV(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Au=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return VE(document.cookie,t)}}let Au=null,xV=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();const Ig=new l("");let r0=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(ze(Ig),ze(Lt))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();class o0{constructor(t){this._doc=t}}const Ag="ng-app-id";let s0=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=WE(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ag}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Ag),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Ag,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(ze(Br),ze(qh),ze($y,8),ze(Co))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();const Tg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mg=/%COMP%/g,LV=new l("",{providedIn:"root",factory:()=>!0});function u0(e,t){return t.map(n=>n.replace(Mg,e))}let l0=(()=>{class e{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=WE(a),this.defaultRenderer=new Rg(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Nr.ShadowDom&&(r={...r,encapsulation:Nr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof d0?i.applyToHost(n):i instanceof Og&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case Nr.Emulated:o=new d0(u,c,r,this.appId,h,s,a,f);break;case Nr.ShadowDom:return new $V(u,c,n,r,s,a,this.nonce,f);default:o=new Og(u,c,r,h,s,a,f)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(ze(r0),ze(s0),ze(qh),ze(LV),ze(Br),ze(Co),ze(Lt),ze($y))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();class Rg{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Tg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(c0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(c0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Tg[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Tg[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Wi.DashCase|Wi.Important)?t.style.setProperty(n,r,i&Wi.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Wi.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=no().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function c0(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class $V extends Rg{constructor(t,n,r,i,o,s,a,u){super(t,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=u0(i.id,i.styles);for(const h of c){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Og extends Rg{constructor(t,n,r,i,o,s,a,u){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?u0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class d0 extends Og{constructor(t,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(t,n,r,o,s,a,u,c),this.contentAttr=function jV(e){return"_ngcontent-%COMP%".replace(Mg,e)}(c),this.hostAttr=function VV(e){return"_nghost-%COMP%".replace(Mg,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}const h0=["alt","control","meta","shift"],HV={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function f0(e){return{appProviders:[...QV,...e?.providers??[]],platformProviders:ZV}}const ZV=[{provide:Co,useValue:"browser"},{provide:Uy,useValue:function WV(){Sg.makeCurrent()},multi:!0},{provide:Br,useFactory:function JV(){return function OM(e){zh=e}(document),document},deps:[]}],QV=[{provide:ah,useValue:"root"},{provide:oi,useFactory:function KV(){return new oi},deps:[]},{provide:Ig,useClass:(()=>{class e extends o0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(ze(Br))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[Br,Lt,Co]},{provide:Ig,useClass:(()=>{class e extends o0{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>no().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),h0.forEach(c=>{const h=r.indexOf(c);h>-1&&(r.splice(h,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=HV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),h0.forEach(s=>{s!==i&&(0,GV[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(ze(Br))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[Br]},l0,s0,r0,{provide:sw,useExisting:l0},{provide:KE,useClass:xV,deps:[]},[]];let XV=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(ze(Br))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Us=ge(635);const v0=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function y0(e){return T(e?.then)}function _0(e){return T(e[I])}function w0(e){return Symbol.asyncIterator&&T(e?.[Symbol.asyncIterator])}function b0(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const D0=function iU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function C0(e){return T(e?.[D0])}function E0(e){return(0,Us.__asyncGenerator)(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield(0,Us.__await)(n.read());if(i)return yield(0,Us.__await)(void 0);yield yield(0,Us.__await)(r)}}finally{n.releaseLock()}})}function S0(e){return T(e?.getReader)}function fi(e){if(e instanceof L)return e;if(null!=e){if(_0(e))return function oU(e){return new L(t=>{const n=e[I]();if(T(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(v0(e))return function sU(e){return new L(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(y0(e))return function aU(e){return new L(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Qe)})}(e);if(w0(e))return I0(e);if(C0(e))return function uU(e){return new L(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(S0(e))return function lU(e){return I0(E0(e))}(e)}throw b0(e)}function I0(e){return new L(t=>{(function cU(e,t){var n,r,i,o;return(0,Us.__awaiter)(this,void 0,void 0,function*(){try{for(n=(0,Us.__asyncValues)(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Fi(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function A0(e,t=0){return Dt((n,r)=>{n.subscribe(Jt(r,i=>Fi(r,e,()=>r.next(i),t),()=>Fi(r,e,()=>r.complete(),t),i=>Fi(r,e,()=>r.error(i),t)))})}function T0(e,t=0){return Dt((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function M0(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(n=>{Fi(n,t,()=>{const r=e[Symbol.asyncIterator]();Fi(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function On(e,t){return t?function mU(e,t){if(null!=e){if(_0(e))return function dU(e,t){return fi(e).pipe(T0(t),A0(t))}(e,t);if(v0(e))return function fU(e,t){return new L(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(y0(e))return function hU(e,t){return fi(e).pipe(T0(t),A0(t))}(e,t);if(w0(e))return M0(e,t);if(C0(e))return function pU(e,t){return new L(n=>{let r;return Fi(n,t,()=>{r=e[D0](),Fi(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}(e,t);if(S0(e))return function gU(e,t){return M0(E0(e),t)}(e,t)}throw b0(e)}(e,t):fi(e)}function Ng(e){return e[e.length-1]}function R0(e){return T(Ng(e))?e.pop():void 0}function id(e){return function vU(e){return e&&T(e.schedule)}(Ng(e))?e.pop():void 0}function tt(...e){return On(e,id(e))}const od=U(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:yU}=Array,{getPrototypeOf:_U,prototype:wU,keys:bU}=Object;function O0(e){if(1===e.length){const t=e[0];if(yU(t))return{args:t,keys:null};if(function DU(e){return e&&"object"==typeof e&&_U(e)===wU}(t)){const n=bU(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:CU}=Array;function N0(e){return mt(t=>function EU(e,t){return CU(t)?e(...t):e(t)}(e,t))}function x0(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function k0(...e){const t=id(e),n=R0(e),{args:r,keys:i}=O0(e);if(0===r.length)return On([],t);const o=new L(function SU(e,t,n=m){return r=>{P0(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)P0(t,()=>{const c=On(e[u],t);let h=!1;c.subscribe(Jt(r,f=>{o[u]=f,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>x0(i,s):m));return n?o.pipe(N0(n)):o}function P0(e,t,n){e?Fi(n,e,t):t()}function er(e,t,n=1/0){return T(t)?er((r,i)=>mt((o,s)=>t(r,o,i,s))(fi(e(r,i))),n):("number"==typeof t&&(n=t),Dt((r,i)=>function IU(e,t,n,r,i,o,s,a){const u=[];let c=0,h=0,f=!1;const D=()=>{f&&!u.length&&!c&&t.complete()},A=P=>c<r?R(P):u.push(P),R=P=>{o&&t.next(P),c++;let B=!1;fi(n(P,h++)).subscribe(Jt(t,W=>{i?.(W),o?A(W):t.next(W)},()=>{B=!0},void 0,()=>{if(B)try{for(c--;u.length&&c<r;){const W=u.shift();s?Fi(t,s,()=>R(W)):R(W)}D()}catch(W){t.error(W)}}))};return e.subscribe(Jt(t,A,()=>{f=!0,D()})),()=>{a?.()}}(r,i,e,n)))}function kg(...e){return function AU(){return function xg(e=1/0){return er(m,e)}(1)}()(On(e,id(e)))}function F0(e){return new L(t=>{fi(e()).subscribe(t)})}function sd(e,t){const n=T(e)?e:()=>e,r=i=>i.error(n());return new L(t?i=>t.schedule(r,0,i):r)}const pi=new L(e=>e.complete());function Pg(){return Dt((e,t)=>{let n=null;e._refCount++;const r=Jt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class L0 extends L{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ee;const n=this.getSubject();t.add(this.source.subscribe(Jt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ee.EMPTY)}return t}refCount(){return Pg()(this)}}function gi(e,t){return Dt((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Jt(r,u=>{i?.unsubscribe();let c=0;const h=o++;fi(e(u,h)).subscribe(i=Jt(r,f=>r.next(t?t(u,f,h,c++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $s(e){return e<=0?()=>pi:Dt((t,n)=>{let r=0;t.subscribe(Jt(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ro(e,t){return Dt((n,r)=>{let i=0;n.subscribe(Jt(r,o=>e.call(t,o,i++)&&r.next(o)))})}function ad(e){return Dt((t,n)=>{let r=!1;t.subscribe(Jt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function j0(e=RU){return Dt((t,n)=>{let r=!1;t.subscribe(Jt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function RU(){return new od}function xo(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ro((i,o)=>e(i,o,r)):m,$s(1),n?ad(t):j0(()=>new od))}function Mu(e,t){return T(t)?er(e,t,1):er(e,1)}function tr(e,t,n){const r=T(e)||t||n?{next:e,error:t,complete:n}:e;return r?Dt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Jt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):m}function Bs(e){return Dt((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Jt(n,void 0,void 0,s=>{o=fi(e(s,Bs(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Fg(e){return e<=0?()=>pi:Dt((t,n)=>{let r=[];t.subscribe(Jt(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ru(e){return Dt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const it="primary",Ou=Symbol("RouteTitle");class FU{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Hs(e){return new FU(e)}function LU(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function mi(e,t){const n=e?Lg(e):void 0,r=t?Lg(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!V0(e[i],t[i]))return!1;return!0}function Lg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function V0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function U0(e){return e.length>0?e[e.length-1]:null}function io(e){return function rU(e){return!!e&&(e instanceof L||T(e.lift)&&T(e.subscribe))}(e)?e:_u(e)?On(Promise.resolve(e)):tt(e)}const VU={exact:function H0(e,t,n){if(!ko(e.segments,t.segments)||!ud(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!H0(e.children[r],t.children[r],n))return!1;return!0},subset:G0},$0={exact:function UU(e,t){return mi(e,t)},subset:function $U(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>V0(e[n],t[n]))},ignored:()=>!0};function B0(e,t,n){return VU[n.paths](e.root,t.root,n.matrixParams)&&$0[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function G0(e,t,n){return z0(e,t,t.segments,n)}function z0(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!ko(i,n)||t.hasChildren()||!ud(i,n,r))}if(e.segments.length===n.length){if(!ko(e.segments,n)||!ud(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!G0(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(ko(e.segments,i)&&ud(e.segments,i,r)&&e.children[it])&&z0(e.children[it],t,o,r)}}function ud(e,t,n){return t.every((r,i)=>$0[n](e[i].parameters,r.parameters))}class Gs{constructor(t=new jt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return GU.serialize(this)}}class jt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ld(this)}}class Nu{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Hs(this.parameters),this._parameterMap}toString(){return K0(this)}}function ko(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let zs=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>new jg,providedIn:"root"})}}return e})();class jg{parse(t){const n=new t$(t);return new Gs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${xu(t.root,!0)}`,r=function WU(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${cd(n)}=${cd(i)}`).join("&"):`${cd(n)}=${cd(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function zU(e){return encodeURI(e)}(t.fragment)}`:""}`}}const GU=new jg;function ld(e){return e.segments.map(t=>K0(t)).join("/")}function xu(e,t){if(!e.hasChildren())return ld(e);if(t){const n=e.children[it]?xu(e.children[it],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==it&&r.push(`${i}:${xu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function HU(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===it&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==it&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===it?[xu(e.children[it],!1)]:[`${i}:${xu(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[it]?`${ld(e)}/${n[0]}`:`${ld(e)}/(${n.join("//")})`}}function q0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cd(e){return q0(e).replace(/%3B/gi,";")}function Vg(e){return q0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dd(e){return decodeURIComponent(e)}function W0(e){return dd(e.replace(/\+/g,"%20"))}function K0(e){return`${Vg(e.path)}${function qU(e){return Object.entries(e).map(([t,n])=>`;${Vg(t)}=${Vg(n)}`).join("")}(e.parameters)}`}const KU=/^[^\/()?;#]+/;function Ug(e){const t=e.match(KU);return t?t[0]:""}const JU=/^[^\/()?;=#]+/,YU=/^[^=?&#]+/,XU=/^[^&#]+/;class t${constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[it]=new jt(t,n)),r}parseSegment(){const t=Ug(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(t),new Nu(dd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function ZU(e){const t=e.match(JU);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ug(this.remaining);i&&(r=i,this.capture(r))}t[dd(n)]=dd(r)}parseQueryParam(t){const n=function QU(e){const t=e.match(YU);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function e$(e){const t=e.match(XU);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=W0(n),o=W0(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ug(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=it);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[it]:new jt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Q(4011,!1)}}function J0(e){return e.segments.length>0?new jt([],{[it]:e}):e}function Z0(e){const t={};for(const[r,i]of Object.entries(e.children)){const o=Z0(i);if(r===it&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function n$(e){if(1===e.numberOfChildren&&e.children[it]){const t=e.children[it];return new jt(e.segments.concat(t.segments),t.children)}return e}(new jt(e.segments,t))}function qs(e){return e instanceof Gs}function Y0(e){let t;const i=J0(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new jt(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function Q0(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return $g(i,i,i,n,r);const o=function i$(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new eS(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new eS(n,t,r)}(t);if(o.toRoot())return $g(i,i,new jt([],{}),n,r);const s=function o$(e,t,n){if(e.isAbsolute)return new fd(t,!0,0);if(!n)return new fd(t,!1,NaN);if(null===n.parent)return new fd(n,!0,0);const r=hd(e.commands[0])?0:1;return function s$(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new fd(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Pu(s.segmentGroup,s.index,o.commands):tS(s.segmentGroup,s.index,o.commands);return $g(i,s.segmentGroup,a,n,r)}function hd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ku(e){return"object"==typeof e&&null!=e&&e.outlets}function $g(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`}),s=e===t?n:X0(e,t,n);const a=J0(Z0(s));return new Gs(a,o,i)}function X0(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:X0(o,t,n)}),new jt(e.segments,r)}class eS{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&hd(r[0]))throw new Q(4003,!1);const i=r.find(ku);if(i&&i!==U0(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fd{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function tS(e,t,n){if(e??=new jt([],{}),0===e.segments.length&&e.hasChildren())return Pu(e,t,n);const r=function u$(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(ku(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!rS(u,c,s))return o;r+=2}else{if(!rS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new jt(e.segments.slice(0,r.pathIndex),{});return o.children[it]=new jt(e.segments.slice(r.pathIndex),e.children),Pu(o,0,i)}return r.match&&0===i.length?new jt(e.segments,{}):r.match&&!e.hasChildren()?Bg(e,t,n):r.match?Pu(e,0,i):Bg(e,t,n)}function Pu(e,t,n){if(0===n.length)return new jt(e.segments,{});{const r=function a$(e){return ku(e[0])?e[0].outlets:{[it]:e}}(n),i={};if(Object.keys(r).some(o=>o!==it)&&e.children[it]&&1===e.numberOfChildren&&0===e.children[it].segments.length){const o=Pu(e.children[it],t,n);return new jt(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tS(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new jt(e.segments,i)}}function Bg(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(ku(o)){const u=l$(o.outlets);return new jt(r,u)}if(0===i&&hd(n[0])){r.push(new Nu(e.segments[t].path,nS(n[0]))),i++;continue}const s=ku(o)?o.outlets[it]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&hd(a)?(r.push(new Nu(s,nS(a))),i+=2):(r.push(new Nu(s,{})),i++)}return new jt(r,{})}function l$(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Bg(new jt([],{}),0,r))}),t}function nS(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function rS(e,t,n){return e==n.path&&mi(t,n.parameters)}const Fu="imperative";var yt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(yt||{});class vi{constructor(t,n){this.id=t,this.url=n}}class Hg extends vi{constructor(t,n,r="imperative",i=null){super(t,n),this.type=yt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Po extends vi{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Er=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Er||{}),Gg=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Gg||{});class Ws extends vi{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lu extends vi{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=yt.NavigationSkipped}}class pd extends vi{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iS extends vi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c$ extends vi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d$ extends vi{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class h$ extends vi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f$ extends vi{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p${constructor(t){this.route=t,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class g${constructor(t){this.route=t,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class m${constructor(t){this.snapshot=t,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v${constructor(t){this.snapshot=t,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y${constructor(t){this.snapshot=t,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _${constructor(t){this.snapshot=t,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zg{}class qg{constructor(t){this.url=t}}class w${constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ju,this.attachRef=null}}let ju=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new w$,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class oS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Wg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Wg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Kg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Kg(t,this._root).map(n=>n.value)}}function Wg(e,t){if(e===t.value)return t;for(const n of t.children){const r=Wg(e,n);if(r)return r}return null}function Kg(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Kg(e,n);if(r.length)return r.unshift(t),r}return[]}class zr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ks(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class sS extends oS{constructor(t,n){super(t),this.snapshot=n,Yg(this,t)}toString(){return this.snapshot.toString()}}function aS(e){const t=function b$(e){const o=new Zg([],{},{},"",{},it,e,null,{});return new uS("",new zr(o,[]))}(e),n=new tn([new Nu("",{})]),r=new tn({}),i=new tn({}),o=new tn({}),s=new tn(""),a=new Li(n,r,o,s,i,it,e,t.root);return a.snapshot=t.root,new sS(new zr(a,[]),t)}class Li{constructor(t,n,r,i,o,s,a,u){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(mt(c=>c[Ou]))??tt(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(mt(t=>Hs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(mt(t=>Hs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jg(e,t,n="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===t||"always"!==n&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&cS(i)&&(r.resolve[Ou]=i.title),r}class Zg{get title(){return this.data?.[Ou]}constructor(t,n,r,i,o,s,a,u,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uS extends oS{constructor(t,n){super(n),this.url=t,Yg(this,n)}toString(){return lS(this._root)}}function Yg(e,t){t.value._routerState=e,t.children.forEach(n=>Yg(e,n))}function lS(e){const t=e.children.length>0?` { ${e.children.map(lS).join(", ")} } `:"";return`${e.value}${t}`}function Qg(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,mi(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),mi(t.params,n.params)||e.paramsSubject.next(n.params),function jU(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!mi(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),mi(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Xg(e,t){const n=mi(e.params,t.params)&&function BU(e,t){return ko(e,t)&&e.every((n,r)=>mi(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Xg(e.parent,t.parent))}function cS(e){return"string"==typeof e.title||null===e.title}let em=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new rn,this.deactivateEvents=new rn,this.attachEvents=new rn,this.detachEvents=new rn,this.parentContexts=te(ju),this.location=te(Vr),this.changeDetector=te(wu),this.environmentInjector=te(mr),this.inputBinder=te(gd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new tm(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Je({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ir]})}}return e})();class tm{__ngOutletInjector(t){return new tm(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Li?this.route:t===ju?this.childContexts:this.parent.get(t,n)}}const gd=new l("");function Vu(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function C$(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Vu(e,r,i);return Vu(e,r)})}(e,t,n);return new zr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Vu(e,a)),s}}const r=function E$(e){return new Li(new tn(e.url),new tn(e.params),new tn(e.queryParams),new tn(e.fragment),new tn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Vu(e,o));return new zr(r,i)}}const hS="ngNavigationCancelingError";function fS(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=qs(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=pS(!1,Er.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function pS(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[hS]=!0,n.cancellationCode=t,n}function gS(e){return!!e&&e[hS]}let mS=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["ng-component"]],standalone:!0,features:[Dr],decls:1,vars:0,template:function(r,i){1&r&&Ni(0,"router-outlet")},dependencies:[em],encapsulation:2})}}return e})();function nm(e){const t=e.children&&e.children.map(nm),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==it&&(n.component=mS),n}function yi(e){return e.outlet||it}function Uu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class N${constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Qg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Ks(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ks(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ks(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Ks(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new _$(o.value.snapshot))}),t.children.length&&this.forwardEvent(new v$(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(Qg(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qg(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Uu(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class vS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class md{constructor(t,n){this.component=t,this.route=n}}function x$(e,t,n){const r=e._root;return $u(r,t?t._root:null,n,[r.value])}function Js(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function sl(e){return null!==la(e)}(e)?t.get(e):e:r}function $u(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ks(t);return e.children.forEach(s=>{(function P$(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function F$(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ko(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ko(e.url,t.url)||!mi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xg(e,t)||!mi(e.queryParams,t.queryParams);default:return!Xg(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vS(r)):(o.data=s.data,o._resolvedData=s._resolvedData),$u(e,t,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new md(a.outlet.component,s))}else s&&Bu(t,a,i),i.canActivateChecks.push(new vS(r)),$u(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Bu(a,n.getContext(s),i)),i}function Bu(e,t,n){const r=Ks(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Bu(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new md(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Hu(e){return"function"==typeof e}function yS(e){return e instanceof od||"EmptyError"===e?.name}const vd=Symbol("INITIAL_VALUE");function Zs(){return gi(e=>k0(e.map(t=>t.pipe($s(1),function MU(...e){const t=id(e);return Dt((n,r)=>{(t?kg(e,n,t):kg(e,n)).subscribe(r)})}(vd)))).pipe(mt(t=>{for(const n of t)if(!0!==n){if(n===vd)return vd;if(!1===n||n instanceof Gs)return n}return!0}),ro(t=>t!==vd),$s(1)))}function _S(e){return function v(...e){return O(e)}(tr(t=>{if(qs(t))throw fS(0,t)}),mt(t=>!0===t))}class rm{constructor(t){this.segmentGroup=t||null}}class im extends Error{constructor(t){super(),this.urlTree=t}}function Ys(e){return sd(new rm(e))}class tB{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[it])return sd(new Q(4e3,!1));i=i.children[it]}}applyRedirectCommands(t,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new im(i);return i}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Gs(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(t,u,r,i)}),new jt(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const om={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nB(e,t,n,r,i){const o=sm(e,t,n);return o.matched?(r=function I$(e,t){return e.providers&&!e._injector&&(e._injector=up(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function Q$(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?tt(i.map(s=>{const a=Js(s,e);return io(function B$(e){return e&&Hu(e.canMatch)}(a)?a.canMatch(t,n):Ei(e,()=>a(t,n)))})).pipe(Zs(),_S()):tt(!0)}(r,t,n).pipe(mt(s=>!0===s?o:{...om}))):tt(o)}function sm(e,t,n){if("**"===t.path)return function rB(e){return{matched:!0,parameters:e.length>0?U0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...om}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||LU)(n,e,t);if(!i)return{...om};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wS(e,t,n,r){return n.length>0&&function sB(e,t,n){return n.some(r=>yd(e,t,r)&&yi(r)!==it)}(e,n,r)?{segmentGroup:new jt(t,oB(r,new jt(n,e.children))),slicedSegments:[]}:0===n.length&&function aB(e,t,n){return n.some(r=>yd(e,t,r))}(e,n,r)?{segmentGroup:new jt(e.segments,iB(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new jt(e.segments,e.children),slicedSegments:n}}function iB(e,t,n,r){const i={};for(const o of n)if(yd(e,t,o)&&!r[yi(o)]){const s=new jt([],{});i[yi(o)]=s}return{...r,...i}}function oB(e,t){const n={};n[it]=t;for(const r of e)if(""===r.path&&yi(r)!==it){const i=new jt([],{});n[yi(r)]=i}return n}function yd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class cB{}class fB{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new tB(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Q(4002,`'${t.segmentGroup}'`)}recognize(){const t=wS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(mt(n=>{const r=new Zg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),i=new zr(r,n),o=new uS("",i),s=function r$(e,t,n=null,r=null){return Q0(Y0(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,it).pipe(Bs(r=>{if(r instanceof im)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rm?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,i=Jg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(mt(o=>o instanceof zr?[o]:[]))}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return On(i).pipe(Mu(o=>{const s=r.children[o],a=function R$(e,t){const n=e.filter(r=>yi(r)===t);return n.push(...e.filter(r=>yi(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function NU(e,t){return Dt(function OU(e,t,n,r,i){return(o,s)=>{let a=n,u=t,c=0;o.subscribe(Jt(s,h=>{const f=c++;u=a?e(u,h,f):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),ad(null),function xU(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ro((i,o)=>e(i,o,r)):m,Fg(1),n?ad(t):j0(()=>new od))}(),er(o=>{if(null===o)return Ys(r);const s=bS(o);return function pB(e){e.sort((t,n)=>t.value.outlet===it?-1:n.value.outlet===it?1:t.value.outlet.localeCompare(n.value.outlet))}(s),tt(s)}))}processSegment(t,n,r,i,o,s){return On(n).pipe(Mu(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Bs(u=>{if(u instanceof rm)return tt(null);throw u}))),xo(a=>!!a),Bs(a=>{if(yS(a))return function lB(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?tt(new cB):Ys(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function uB(e,t,n,r){return!!(yi(e)===r||r!==it&&yd(t,n,e))&&sm(t,e,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Ys(i):Ys(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:h}=sm(n,i,o);if(!a)return Ys(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,f).pipe(er(D=>this.processSegment(t,r,n,D.concat(h),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){const s=nB(n,r,i,t);return"**"===r.path&&(n.children={}),s.pipe(gi(a=>a.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(gi(({routes:u})=>{const c=r._loadedInjector??t,{consumedSegments:h,remainingSegments:f,parameters:D}=a,A=new Zg(h,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function mB(e){return e.data||{}}(r),yi(r),r.component??r._loadedComponent??null,r,function vB(e){return e.resolve||{}}(r)),{segmentGroup:R,slicedSegments:P}=wS(n,h,f,u);if(0===P.length&&R.hasChildren())return this.processChildren(c,u,R).pipe(mt(W=>null===W?null:new zr(A,W)));if(0===u.length&&0===P.length)return tt(new zr(A,[]));const B=yi(r)===o;return this.processSegment(c,u,R,P,B?it:o,!0).pipe(mt(W=>new zr(A,W instanceof zr?[W]:[])))})):Ys(n)))}getChildConfig(t,n,r){return n.children?tt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?tt({routes:n._loadedRoutes,injector:n._loadedInjector}):function Y$(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?tt(!0):tt(i.map(s=>{const a=Js(s,e);return io(function j$(e){return e&&Hu(e.canLoad)}(a)?a.canLoad(t,n):Ei(e,()=>a(t,n)))})).pipe(Zs(),_S())}(t,n,r).pipe(er(i=>i?this.configLoader.loadChildren(t,n).pipe(tr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function eB(e){return sd(pS(!1,Er.GuardRejected))}())):tt({routes:[],injector:t})}}function gB(e){const t=e.value.routeConfig;return t&&""===t.path}function bS(e){const t=[],n=new Set;for(const r of e){if(!gB(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=bS(r.children);t.push(new zr(r.value,i))}return t.filter(r=>!n.has(r))}function DS(e){const t=e.children.map(n=>DS(n)).flat();return[e,...t]}function am(e){return gi(t=>{const n=e(t);return n?On(n).pipe(mt(()=>t)):tt(t)})}let CS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===it);return r}getResolvedTitleForRoute(n){return n.data[Ou]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>te(CB),providedIn:"root"})}}return e})(),CB=(()=>{class e extends CS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(ze(XV))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Gu=new l("",{providedIn:"root",factory:()=>({})}),_d=new l("");let ES=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(D1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return tt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=io(n.loadComponent()).pipe(mt(SS),tr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ru(()=>{this.componentLoaders.delete(n)})),i=new L0(r,()=>new fe).pipe(Pg());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function EB(e,t,n,r){return io(e.loadChildren()).pipe(mt(SS),er(i=>i instanceof Zw||Array.isArray(i)?tt(i):On(t.compileModuleAsync(i))),mt(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(_d,[],{optional:!0,self:!0}).flat()),{routes:s.map(nm),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Ru(()=>{this.childrenLoaders.delete(r)})),s=new L0(o,()=>new fe).pipe(Pg());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function SS(e){return function SB(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let um=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>te(IB),providedIn:"root"})}}return e})(),IB=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const IS=new l("");let wd=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.transitionAbortSubject=new fe,this.configLoader=te(ES),this.environmentInjector=te(mr),this.urlSerializer=te(zs),this.rootContexts=te(ju),this.location=te(Cu),this.inputBindingEnabled=null!==te(gd,{optional:!0}),this.titleStrategy=te(CS),this.options=te(Gu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te(um),this.createViewTransition=te(IS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>tt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new g$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new p$(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new tn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ro(o=>0!==o.id),mt(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),gi(o=>{let s=!1,a=!1;return tt(o).pipe(gi(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Er.SupersededByNewNavigation),pi;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new Lu(u.id,this.urlSerializer.serialize(u.rawUrl),f,Gg.IgnoredSameUrlNavigation)),u.resolve(null),pi}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return tt(u).pipe(gi(f=>{const D=this.transitions?.getValue();return this.events.next(new Hg(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),D!==this.transitions?.getValue()?pi:Promise.resolve(f)}),function yB(e,t,n,r,i,o){return er(s=>function dB(e,t,n,r,i,o,s="emptyOnly"){return new fB(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(mt(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),tr(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const D=new iS(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(D)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:f,extractedUrl:D,source:A,restoredState:R,extras:P}=u,B=new Hg(f,this.urlSerializer.serialize(D),A,R);this.events.next(B);const W=aS(this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:W,urlAfterRedirects:D,extras:{...P,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=D,tt(o)}{const f="";return this.events.next(new Lu(u.id,this.urlSerializer.serialize(u.extractedUrl),f,Gg.IgnoredByUrlHandlingStrategy)),u.resolve(null),pi}}),tr(u=>{const c=new c$(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),mt(u=>(this.currentTransition=o={...u,guards:x$(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function H$(e,t){return er(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?tt({...n,guardsResult:!0}):function G$(e,t,n,r){return On(e).pipe(er(i=>function Z$(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?tt(o.map(a=>{const u=Uu(t)??i,c=Js(a,u);return io(function $$(e){return e&&Hu(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):Ei(u,()=>c(e,t,n,r))).pipe(xo())})).pipe(Zs()):tt(!0)}(i.component,i.route,n,t,r)),xo(i=>!0!==i,!0))}(s,r,i,e).pipe(er(a=>a&&function L$(e){return"boolean"==typeof e}(a)?function z$(e,t,n,r){return On(t).pipe(Mu(i=>kg(function W$(e,t){return null!==e&&t&&t(new m$(e)),tt(!0)}(i.route.parent,r),function q$(e,t){return null!==e&&t&&t(new y$(e)),tt(!0)}(i.route,r),function J$(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function k$(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>F0(()=>tt(s.guards.map(u=>{const c=Uu(s.node)??n,h=Js(u,c);return io(function U$(e){return e&&Hu(e.canActivateChild)}(h)?h.canActivateChild(r,e):Ei(c,()=>h(r,e))).pipe(xo())})).pipe(Zs())));return tt(o).pipe(Zs())}(e,i.path,n),function K$(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(o=>F0(()=>{const s=Uu(t)??n,a=Js(o,s);return io(function V$(e){return e&&Hu(e.canActivate)}(a)?a.canActivate(t,e):Ei(s,()=>a(t,e))).pipe(xo())}));return tt(i).pipe(Zs())}(e,i.route,n))),xo(i=>!0!==i,!0))}(r,o,e,t):tt(a)),mt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),tr(u=>{if(o.guardsResult=u.guardsResult,qs(u.guardsResult))throw fS(0,u.guardsResult);const c=new d$(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),ro(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",Er.GuardRejected),!1)),am(u=>{if(u.guards.canActivateChecks.length)return tt(u).pipe(tr(c=>{const h=new h$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),gi(c=>{let h=!1;return tt(c).pipe(function _B(e,t){return er(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return tt(n);const o=new Set(i.map(u=>u.route)),s=new Set;for(const u of o)if(!s.has(u))for(const c of DS(u))s.add(c);let a=0;return On(s).pipe(Mu(u=>o.has(u)?function wB(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!cS(i)&&(o[Ou]=i.title),function bB(e,t,n,r){const i=Lg(e);if(0===i.length)return tt({});const o={};return On(i).pipe(er(s=>function DB(e,t,n,r){const i=Uu(t)??r,o=Js(e,i);return io(o.resolve?o.resolve(t,n):Ei(i,()=>o(t,n)))}(e[s],t,n,r).pipe(xo(),tr(a=>{o[s]=a}))),Fg(1),function kU(e){return mt(()=>e)}(o),Bs(s=>yS(s)?pi:sd(s)))}(o,e,t,r).pipe(mt(s=>(e._resolvedData=s,e.data=Jg(e,e.parent,n).resolve,null)))}(u,r,e,t):(u.data=Jg(u,u.parent,e).resolve,tt(void 0))),tr(()=>a++),Fg(1),er(u=>a===s.size?tt(n):pi))})}(this.paramsInheritanceStrategy,this.environmentInjector),tr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",Er.NoDataFromResolver)}}))}),tr(c=>{const h=new f$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),am(u=>{const c=h=>{const f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(tr(D=>{h.component=D}),mt(()=>{})));for(const D of h.children)f.push(...c(D));return f};return k0(c(u.targetSnapshot.root)).pipe(ad(null),$s(1))}),am(()=>this.afterPreactivation()),gi(()=>{const{currentSnapshot:u,targetSnapshot:c}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,c.root);return h?On(h).pipe(mt(()=>o)):tt(o)}),mt(u=>{const c=function D$(e,t,n){const r=Vu(e,t._root,n?n._root:void 0);return new sS(r,t)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),tr(()=>{this.events.next(new zg)}),((e,t,n,r)=>mt(i=>(new N$(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),$s(1),tr({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Po(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function PU(e){return Dt((t,n)=>{fi(e).subscribe(Jt(n,()=>n.complete(),Le)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(tr(u=>{throw u}))),Ru(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Er.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bs(u=>{if(a=!0,gS(u))this.events.next(new Ws(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function S$(e){return gS(e)&&qs(e.url)}(u)?this.events.next(new qg(u.url)):o.resolve(!1);else{this.events.next(new pd(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return pi}))}))}cancelNavigationTransition(n,r,i){const o=new Ws(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function MB(e){return e!==Fu}let RB=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>te(NB),providedIn:"root"})}}return e})();class OB{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let NB=(()=>{class e extends OB{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(e)))(i||e)}})()}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),TS=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:()=>te(xB),providedIn:"root"})}}return e})(),xB=(()=>{class e extends TS{constructor(){super(...arguments),this.location=te(Cu),this.urlSerializer=te(zs),this.options=te(Gu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te(um),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gs,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=aS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Hg)this.stateMemento=this.createStateMemento();else if(n instanceof Lu)this.rawUrlTree=r.initialUrl;else if(n instanceof iS){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof zg?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Ws&&(n.code===Er.GuardRejected||n.code===Er.NoDataFromResolver)?this.restoreHistory(r):n instanceof pd?this.restoreHistory(r,!0):n instanceof Po&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&0===o&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(e)))(i||e)}})()}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var zu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(zu||{});function kB(e){throw e}const PB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=te(OC),this.stateManager=te(TS),this.options=te(Gu,{optional:!0})||{},this.pendingTasks=te(Yi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(wd),this.urlSerializer=te(zs),this.location=te(Cu),this.urlHandlingStrategy=te(um),this._events=new fe,this.errorHandler=this.options.errorHandler||kB,this.navigated=!1,this.routeReuseStrategy=te(RB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(_d,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(gd,{optional:!0}),this.eventsSubscription=new ee,this.isNgZoneEnabled=te(Lt)instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Ws&&r.code!==Er.Redirect&&r.code!==Er.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Po)this.navigated=!0;else if(r instanceof qg){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||MB(i.source)};this.scheduleNavigation(s,Fu,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function jB(e){return!(e instanceof zg||e instanceof qg)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(nm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let f,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{f=Y0(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return Q0(f,n,h,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=qs(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fu,null,r)}navigate(n,r={skipLocationChange:!1}){return function LB(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Q(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...PB}:!1===r?{...FB}:r,qs(n))return B0(this.currentUrlTree,n,i);const o=this.parseUrl(n);return B0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((f,D)=>{a=f,u=D});const h=this.pendingTasks.add();return function MS(e,t){e.events.pipe(ro(n=>n instanceof Po||n instanceof Ws||n instanceof pd||n instanceof Lu),mt(n=>n instanceof Po||n instanceof Lu?zu.COMPLETE:n instanceof Ws&&(n.code===Er.Redirect||n.code===Er.SupersededByNewNavigation)?zu.REDIRECTING:zu.FAILED),ro(n=>n!==zu.REDIRECTING),$s(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qu=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Po&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function u_(e,t,n){return function mR(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?a_:hf}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(oe(qr),oe(Li),function Ta(e){return function WT(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(av(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Ot(),e)}("tabindex"),oe(Oi),oe(_r),oe(Hc))}}static{this.\u0275dir=Je({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&on("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&li("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ut.HasDecoratorInputTransform,"preserveFragment","preserveFragment",js],skipLocationChange:[Ut.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",js],replaceUrl:[Ut.HasDecoratorInputTransform,"replaceUrl","replaceUrl",js],routerLink:"routerLink"},standalone:!0,features:[Jw,Ir]})}}return e})();const lm=new l("");function OS(e){return e.routerState.root}function NS(){const e=te(ur);return t=>{const n=e.get(eo);if(t!==n.components[0])return;const r=e.get(qr),i=e.get(xS);1===e.get(cm)&&r.initialNavigation(),e.get(kS,null,ht.Optional)?.setUpPreloading(),e.get(lm,null,ht.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const xS=new l("",{factory:()=>new fe}),cm=new l("",{providedIn:"root",factory:()=>1}),kS=new l(""),WB=e=>["/details",e];function KB(e,t){if(1&e&&(rt(0,"section",0)(1,"p",1),un(2),pt(),rt(3,"div")(4,"div",2),un(5),pt(),rt(6,"a",3),un(7,"Learn More"),pt()()()),2&e){const n=t.$implicit;Nt(2),hi(n.id),Nt(3),hi(n.shortUrl),Nt(),An("routerLink",cC(3,WB,n.id))}}let FS=(()=>{class e{constructor(){this.links=_y.required()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-link-shower"]],inputs:{links:[Ut.SignalBased,"links"]},standalone:!0,features:[Dr],decls:2,vars:0,consts:[[1,"listing"],[1,"listing-id"],[1,"listing-short"],[3,"routerLink"]],template:function(r,i){1&r&&Ap(0,KB,8,5,"section",0,Ip),2&r&&Tp(i.links())},dependencies:[qu],styles:[".listing[_ngcontent-%COMP%]{background:var(--accent-color);border-radius:30px;display:flex;flex-direction:row;align-items:center}.listing-id[_ngcontent-%COMP%]{margin:20px}"]})}}return e})();class bd{}class Dd{}class Rr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Rr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Rr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Rr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class JB{encodeKey(t){return LS(t)}encodeValue(t){return LS(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const YB=/%(\d[a-f0-9])/gi,QB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LS(e){return encodeURIComponent(e).replace(YB,(t,n)=>QB[n]??t)}function Cd(e){return`${e}`}class oo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new JB,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ZB(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(Cd):[Cd(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new oo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Cd(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Cd(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class XB{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function jS(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function VS(e){return typeof Blob<"u"&&e instanceof Blob}function US(e){return typeof FormData<"u"&&e instanceof FormData}class Wu{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function e2(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Rr,this.context??=new XB,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new oo,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||jS(this.body)||VS(this.body)||US(this.body)||function t2(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof oo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||US(this.body)?null:VS(this.body)?this.body.type||null:jS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress;let c=t.headers||this.headers,h=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((D,A)=>D.set(A,t.setHeaders[A]),c)),t.setParams&&(h=Object.keys(t.setParams).reduce((D,A)=>D.set(A,t.setParams[A]),h)),new Wu(n,r,s,{params:h,headers:c,context:f,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}}var so=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(so||{});class hm{constructor(t,n=Ku.Ok,r="OK"){this.headers=t.headers||new Rr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ed extends hm{constructor(t={}){super(t),this.type=so.ResponseHeader}clone(t={}){return new Ed({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ao extends hm{constructor(t={}){super(t),this.type=so.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ao({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qs extends hm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var Ku=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Ku||{});function fm(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let pm=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Wu)o=n;else{let u,c;u=i.headers instanceof Rr?i.headers:new Rr(i.headers),i.params&&(c=i.params instanceof oo?i.params:new oo({fromObject:i.params})),o=new Wu(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const s=tt(o).pipe(Mu(u=>this.handler.handle(u)));if(n instanceof Wu||"events"===i.observe)return s;const a=s.pipe(ro(u=>u instanceof ao));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(mt(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(mt(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(mt(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(mt(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new oo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,fm(i,r))}post(n,r,i={}){return this.request("POST",n,fm(i,r))}put(n,r,i={}){return this.request("PUT",n,fm(i,r))}static{this.\u0275fac=function(r){return new(r||e)(ze(bd))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();function BS(e,t){return t(e)}function s2(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const HS=new l(""),Ju=new l(""),GS=new l(""),zS=new l("");function u2(){let e=null;return(t,n)=>{null===e&&(e=(te(HS,{optional:!0})??[]).reduceRight(s2,BS));const r=te(Yi),i=r.add();return e(t,n).pipe(Ru(()=>r.remove(i)))}}let qS=(()=>{class e extends bd{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=te(Yi);const i=te(zS,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ju),...this.injector.get(GS,[])]));this.chain=i.reduceRight((o,s)=>function a2(e,t,n){return(r,i)=>Ei(n,()=>t(r,o=>e(o,i)))}(o,s,this.injector),BS)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ru(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(ze(Dd),ze(mr))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();const f2=/^\)\]\}',?\n/;let KS=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Q(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?On(r.\u0275loadImpl()):tt(null)).pipe(gi(()=>new L(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((P,B)=>s.setRequestHeader(P,B.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const P=n.detectContentTypeHeader();null!==P&&s.setRequestHeader("Content-Type",P)}if(n.responseType){const P=n.responseType.toLowerCase();s.responseType="json"!==P?P:"text"}const a=n.serializeBody();let u=null;const c=()=>{if(null!==u)return u;const P=s.statusText||"OK",B=new Rr(s.getAllResponseHeaders()),W=function p2(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||n.url;return u=new Ed({headers:B,status:s.status,statusText:P,url:W}),u},h=()=>{let{headers:P,status:B,statusText:W,url:z}=c(),ye=null;B!==Ku.NoContent&&(ye=typeof s.response>"u"?s.responseText:s.response),0===B&&(B=ye?Ku.Ok:0);let He=B>=200&&B<300;if("json"===n.responseType&&"string"==typeof ye){const dt=ye;ye=ye.replace(f2,"");try{ye=""!==ye?JSON.parse(ye):null}catch(Tt){ye=dt,He&&(He=!1,ye={error:Tt,text:ye})}}He?(o.next(new ao({body:ye,headers:P,status:B,statusText:W,url:z||void 0})),o.complete()):o.error(new Qs({error:ye,headers:P,status:B,statusText:W,url:z||void 0}))},f=P=>{const{url:B}=c(),W=new Qs({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:B||void 0});o.error(W)};let D=!1;const A=P=>{D||(o.next(c()),D=!0);let B={type:so.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(B.total=P.total),"text"===n.responseType&&s.responseText&&(B.partialText=s.responseText),o.next(B)},R=P=>{let B={type:so.UploadProgress,loaded:P.loaded};P.lengthComputable&&(B.total=P.total),o.next(B)};return s.addEventListener("load",h),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),n.reportProgress&&(s.addEventListener("progress",A),null!==a&&s.upload&&s.upload.addEventListener("progress",R)),s.send(a),o.next({type:so.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",h),s.removeEventListener("timeout",f),n.reportProgress&&(s.removeEventListener("progress",A),null!==a&&s.upload&&s.upload.removeEventListener("progress",R)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(ze(KE))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();const vm=new l(""),JS=new l("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ZS=new l("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class YS{}let v2=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=VE(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(ze(Br),ze(Co),ze(JS))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac})}}return e})();function y2(e,t){const n=e.url.toLowerCase();if(!te(vm)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=te(YS).getToken(),i=te(ZS);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var uo=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(uo||{});const QS=new l("");let ym=(()=>{class e{constructor(n){this.http=n,this.baseUrl="https://lil-link.onrender.com/api/link"}getAllLinks(){return this.http.get(this.baseUrl+"/get-all")}getLinkById(n){return this.http.get(this.baseUrl+"/get-by-id/"+n)}getLinkByShort(n){return this.http.get(this.baseUrl+"/get-by-short/"+n)}static{this.\u0275fac=function(r){return new(r||e)(ze(pm))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sI=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(oe(Oi),oe(_r))}}static{this.\u0275dir=Je({type:e})}}return e})(),Lo=(()=>{class e extends sI{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(e)))(i||e)}})()}static{this.\u0275dir=Je({type:e,features:[xt]})}}return e})();const wi=new l(""),Bn=new l(""),co=new l("");function vI(e){return null!=e}function yI(e){return _u(e)?On(e):e}function _I(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function wI(e,t){return t.map(n=>n(e))}function bI(e){return e.map(t=>function N2(e){return!e.validate}(t)?t:n=>t.validate(n))}function wm(e){return null!=e?function DI(e){if(!e)return null;const t=e.filter(vI);return 0==t.length?null:function(n){return _I(wI(n,t))}}(bI(e)):null}function bm(e){return null!=e?function CI(e){if(!e)return null;const t=e.filter(vI);return 0==t.length?null:function(n){return function I2(...e){const t=R0(e),{args:n,keys:r}=O0(e),i=new L(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let h=0;h<s;h++){let f=!1;fi(n[h]).subscribe(Jt(o,D=>{f||(f=!0,c--),a[h]=D},()=>u--,void 0,()=>{(!u||!f)&&(c||o.next(r?x0(r,a):a),o.complete())}))}});return t?i.pipe(N0(t)):i}(wI(n,t).map(yI)).pipe(mt(_I))}}(bI(e)):null}function EI(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Dm(e){return e?Array.isArray(e)?e:[e]:[]}function Ad(e,t){return Array.isArray(e)?e.includes(t):e===t}function AI(e,t){const n=Dm(t);return Dm(e).forEach(i=>{Ad(n,i)||n.push(i)}),n}function TI(e,t){return Dm(t).filter(n=>!Ad(e,n))}class MI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=bm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class nr extends MI{get formDirective(){return null}get path(){return null}}class RI{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Td=(()=>{class e extends RI{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(oe(nr,10))}}static{this.\u0275dir=Je({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&bc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[xt]})}}return e})();const Zu="VALID",Rd="INVALID",Xs="PENDING",Yu="DISABLED";function Od(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Am{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zu}get invalid(){return this.status===Rd}get pending(){return this.status==Xs}get disabled(){return this.status===Yu}get enabled(){return this.status!==Yu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(AI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(AI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(TI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(TI(t,this._rawAsyncValidators))}hasValidator(t){return Ad(this._rawValidators,t)}hasAsyncValidator(t){return Ad(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Yu,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Zu,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zu||this.status===Xs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yu:Zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xs,this._hasOwnPendingAsyncValidator=!0;const n=yI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new rn,this.statusChanges=new rn}_calculateStatus(){return this._allControlsDisabled()?Yu:this.errors?Rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xs)?Xs:this._anyControlsHaveStatus(Rd)?Rd:Zu}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Od(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function L2(e){return Array.isArray(e)?wm(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function j2(e){return Array.isArray(e)?bm(e):e||null}(this._rawAsyncValidators)}}class Tm extends Am{constructor(t,n,r){super(function Sm(e){return(Od(e)?e.validators:e)||null}(n),function Im(e,t){return(Od(t)?t.asyncValidators:e)||null}(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function xI(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new Q(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function NI(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ea=new l("CallSetDisabledState",{providedIn:"root",factory:()=>Nd}),Nd="always";function Pd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Mm(e,t){const n=function SI(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(EI(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function II(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(EI(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Pd(t._rawValidators,i),Pd(t._rawAsyncValidators,i)}function kI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}const K2={provide:nr,useExisting:St(()=>ta)},Xu=Promise.resolve();let ta=(()=>{class e extends nr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new rn,this.form=new Tm({},wm(n),bm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Xu.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),function Qu(e,t,n=Nd){Mm(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function $2(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&kI(e,t)})}(e,t),function H2(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function B2(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&kI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function U2(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Xu.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Xu.then(()=>{const r=this._findContainer(n.path),i=new Tm({});(function PI(e,t){Mm(e,t)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Xu.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Xu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function FI(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||e)(oe(Bn,10),oe(co,10),oe(ea,8))}}static{this.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&on("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[Ut.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qt([K2]),xt]})}}return e})();Promise.resolve();let Ld=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Je({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const aH={provide:wi,useExisting:St(()=>Fm),multi:!0};function YI(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Fm=(()=>{class e extends Lo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=YI(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function uH(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(e)))(i||e)}})()}static{this.\u0275dir=Je({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&on("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([aH]),xt]})}}return e})(),QI=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(YI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(oe(_r),oe(Oi),oe(Fm,9))}}static{this.\u0275dir=Je({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const lH={provide:wi,useExisting:St(()=>Lm),multi:!0};function XI(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Lm=(()=>{class e extends Lo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function cH(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rn(e)))(i||e)}})()}static{this.\u0275dir=Je({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&on("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([lH]),xt]})}}return e})(),eA=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(XI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(XI(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(oe(_r),oe(Oi),oe(Lm,9))}}static{this.\u0275dir=Je({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),_H=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=pa({type:e})}static{this.\u0275inj=fr({})}}return e})(),Vm=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ea,useValue:n.callSetDisabledState??Nd}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=pa({type:e})}static{this.\u0275inj=fr({imports:[_H]})}}return e})();function bH(e,t){if(1&e&&(rt(0,"option",3),un(1),pt()),2&e){const n=t.$implicit;An("value",n),Nt(),hi(n)}}let DH=(()=>{class e{constructor(){this.categories=_y.required(),this.selectedCategory=Zi(""),this.searchText=Zi(""),this.trimmedSearchText=lg(()=>this.searchText().trim()),this.search=new rn}ngOnInit(){const n=this.categories();n.length&&this.selectedCategory.set(n[0])}onSearch(){const n=this.searchText();if(!n)return;const r=[this.selectedCategory(),n];console.log(r),this.search.emit(r)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-search"]],inputs:{categories:[Ut.SignalBased,"categories"]},outputs:{search:"search"},standalone:!0,features:[Dr],decls:13,vars:3,consts:[[1,"search-form","unified",3,"ngSubmit"],[1,"select-wrapper"],[1,"select",3,"input","value"],[3,"value"],[1,"arrow"],[1,"input-wrapper"],[1,"separator"],["type","text","placeholder","Search\u2026",1,"input",3,"input","value"],["type","submit",1,"btn",3,"disabled"]],template:function(r,i){1&r&&(rt(0,"form",0),on("ngSubmit",function(){return i.onSearch()}),rt(1,"div",1)(2,"select",2),on("input",function(s){return i.selectedCategory.set(s.target.value)}),Ap(3,bH,2,2,"option",3,Ip),pt(),rt(5,"span",4),un(6,"\u25bc"),pt()(),rt(7,"div",5)(8,"span",6),un(9,"/"),pt(),rt(10,"input",7),on("input",function(s){return i.searchText.set(s.target.value)}),pt()(),rt(11,"button",8),un(12," Search "),pt()()),2&r&&(Nt(2),An("value",i.selectedCategory()),Nt(),Tp(i.categories()),Nt(7),An("value",i.searchText()),Nt(),An("disabled",!i.trimmedSearchText()))},dependencies:[Vm,Ld,QI,eA,Td,ta],styles:[".search-form.unified[_ngcontent-%COMP%]{display:flex;max-width:600px;margin:1rem auto;border-radius:24px;overflow:hidden;box-shadow:0 2px 12px #00000014}.select-wrapper[_ngcontent-%COMP%]{position:relative;flex:1;background-color:#f0f0f0;border-radius:24px 0 0 24px;transition:background-color .2s,box-shadow .2s}.select-wrapper[_ngcontent-%COMP%]:focus-within{background-color:#e6f0ff;box-shadow:0 0 0 2px #007bff26}.select[_ngcontent-%COMP%]{width:100%;padding:.5rem 2rem .5rem .75rem;border:none;font-size:1rem;background:transparent;appearance:none;cursor:pointer;outline:none}.arrow[_ngcontent-%COMP%]{position:absolute;top:50%;right:.75rem;transform:translateY(-50%);pointer-events:none;color:#555;font-size:.5rem;transition:transform .2s}.select[_ngcontent-%COMP%]:focus + .arrow[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(180deg)}.input-wrapper[_ngcontent-%COMP%]{flex:2;display:flex;align-items:center;background-color:#fff;border-left:1px solid #ddd;border-radius:0}.separator[_ngcontent-%COMP%]{padding:.5rem;-webkit-user-select:none;user-select:none;font-weight:700;font-size:1rem}.input[_ngcontent-%COMP%]{flex:2;padding:.5rem;border:none;font-size:1rem;background-color:#fff;border-left:1px solid #ddd;outline:none;transition:background-color .2s,box-shadow .2s}.input[_ngcontent-%COMP%]:focus{background-color:#f9f9f9}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1rem;border:none;border-radius:0 24px 24px 0;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .2s,opacity .2s}.btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#0056b3}.btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"]})}}return e})(),CH=(()=>{class e{constructor(){this.router=te(qr),this.linksService=te(ym),this.searchCategories=["/link","/wishlist"],this.linksService.getAllLinks().subscribe(n=>{this.links=n})}onSearch(n){n.length<2||this.router.navigate(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-home"]],standalone:!0,features:[Dr],decls:4,vars:2,consts:[[3,"search","categories"],[1,"results"],[3,"links"]],template:function(r,i){1&r&&(rt(0,"section")(1,"app-search",0),on("search",function(s){return i.onSearch(s)}),pt(),rt(2,"section",1),Ni(3,"app-link-shower",2),pt()()),2&r&&(Nt(),An("categories",i.searchCategories),Nt(2),An("links",i.links))},dependencies:[FS,DH],styles:[".results[_ngcontent-%COMP%]{display:grid;column-gap:14px;row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(400px,400px));margin-top:50px;justify-content:space-around}input[type=text][_ngcontent-%COMP%]{border:solid 1px var(--primary-color);padding:10px;border-radius:8px;margin-right:4px;display:inline-block;width:30%}button[_ngcontent-%COMP%]{padding:10px;border:solid 1px var(--primary-color);background:var(--primary-color);color:#fff;border-radius:8px}@media (min-width: 500px) and (max-width: 768px){.results[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}input[type=text][_ngcontent-%COMP%]{width:70%}}@media (max-width: 499px){.results[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return e})(),EH=(()=>{class e{constructor(){this.route=te(Li),this.linksService=te(ym),this.linkId=-1,this.linkId=Number(this.route.snapshot.params.id),this.linksService.getLinkById(this.linkId).subscribe(n=>{this.link=n})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-details"]],standalone:!0,features:[Dr],decls:8,vars:4,consts:[[1,"listing"],[1,"listing-id"],[1,"listing-original",3,"href"],[1,"listing-short"]],template:function(r,i){1&r&&(rt(0,"section",0)(1,"p",1),un(2),pt(),rt(3,"div")(4,"a",2),un(5),pt(),rt(6,"div",3),un(7),pt()()()),2&r&&(Nt(2),hi(null==i.link?null:i.link.id),Nt(2),Fp("href",null==i.link?null:i.link.originalUrl,hf),Nt(),Ac("",null==i.link?null:i.link.originalUrl," "),Nt(2),hi(null==i.link?null:i.link.shortUrl))},styles:[".listing[_ngcontent-%COMP%]{background:var(--accent-color);border-radius:30px;display:flex;flex-direction:row;align-items:center}.listing-original[_ngcontent-%COMP%]{color:var(--primary-color)}.listing-id[_ngcontent-%COMP%]{margin:20px}"]})}}return e})(),SH=(()=>{class e{constructor(){this.route=te(Li),this.linksService=te(ym),this.shortUrl=this.route.snapshot.params.link,this.linksService.getLinkByShort(this.shortUrl).subscribe(n=>{this.link=n,this.link&&this.link.originalUrl&&(window.location.href=this.link?.originalUrl)})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-link-sorter"]],standalone:!0,features:[Dr],decls:11,vars:3,consts:[[1,"listing"],[1,"listing-id"],[1,"listing-original"],[1,"listing-short"]],template:function(r,i){1&r&&(rt(0,"div")(1,"h1"),un(2,"You are accessing the following link."),pt()(),rt(3,"section",0)(4,"p",1),un(5),pt(),rt(6,"div")(7,"div",2),un(8),pt(),rt(9,"div",3),un(10),pt()()()),2&r&&(Nt(5),hi(null==i.link?null:i.link.id),Nt(3),hi(null==i.link?null:i.link.originalUrl),Nt(2),hi(null==i.link?null:i.link.shortUrl))},styles:[".listing[_ngcontent-%COMP%]{background:var(--accent-color);border-radius:30px;display:flex;flex-direction:row;align-items:center}.listing-original[_ngcontent-%COMP%]{color:var(--primary-color)}.listing-id[_ngcontent-%COMP%]{margin:20px}"]})}}return e})(),IH=(()=>{class e{constructor(n){this.http=n,this.baseUrl="https://lil-link.onrender.com/api/wishlist"}getLinkByName(n){return this.http.get(this.baseUrl+"/get-by-name/"+n)}static{this.\u0275fac=function(r){return new(r||e)(ze(pm))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),AH=(()=>{class e{constructor(){this.route=te(Li),this.wishlistService=te(IH),this.link=this.route.snapshot.params.link,this.wishlistService.getLinkByName(this.link).subscribe(n=>{this.wishlist=n})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-wishlist-sorter"]],standalone:!0,features:[Dr],decls:5,vars:3,consts:[[1,"links"],[3,"links"]],template:function(r,i){1&r&&(rt(0,"div")(1,"h1"),un(2),pt()(),rt(3,"section",0),Ni(4,"app-link-shower",1),pt()),2&r&&(Nt(2),jp("This is the wishlist saved as ",i.wishlist.name,", with id ",i.wishlist.id,""),Nt(2),An("links",i.wishlist.links))},dependencies:[FS]})}}return e})();var Um=ge(992),cA=ge.t(Um,2);const{createClient:TH}=Um||cA;let MH=(()=>{class e{constructor(){this.supabaseUrl="https://wphshfgaldlhwemutbmr.supabase.co",this.supabasePublicKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndwaHNoZmdhbGRsaHdlbXV0Ym1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzOTIxNzAsImV4cCI6MjA4MDk2ODE3MH0.f3O6ZJLZJ51PDIejcjNeO0nyluKpsHN1aTb8S-LqqQE",this.supabase=TH(this.supabaseUrl,this.supabasePublicKey,{auth:{persistSession:!1}})}get client(){return this.supabase}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$m=(()=>{class e{constructor(n){this.supabaseService=n,this.session=Zi(null),this.user=lg(()=>this.session()?.user??null),this.isLoggedIn=lg(()=>null!==this.user()),this.supabase=n.client,this.supabase.auth.getSession().then(({data:r})=>{this.session.set(r.session)}),this.supabase.auth.onAuthStateChange((r,i)=>{this.session.set(i)})}signUp(n,r){var i=this;return(0,E.A)(function*(){const{data:o,error:s}=yield i.supabase.auth.signUp({email:n,password:r});return s&&console.error("Sign-up error: "+s.message),o})()}signIn(n,r){var i=this;return(0,E.A)(function*(){const{data:o,error:s}=yield i.supabase.auth.signInWithPassword({email:n,password:r});return s&&console.error("Sign-in error: "+s.message),o})()}signOut(){var n=this;return(0,E.A)(function*(){const{error:r}=yield n.supabase.auth.signOut();r&&console.log("Sign-out error: "+r.message)})()}static{this.\u0275fac=function(r){return new(r||e)(ze(MH))}}static{this.\u0275prov=De({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const RH=[{path:"",component:CH,title:"lil-link"},{path:"sign-up",component:(()=>{class e{constructor(){this.emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,this.authService=te($m),this.email=Zi(""),this.password=Zi("")}disableButton(){return!this.email()||!this.password()||!this.emailRegex.test(this.email())}onSignUp(){this.authService.signUp(this.email(),this.password()).then(n=>{this.responseData=n})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-sign-up"]],standalone:!0,features:[Dr],decls:7,vars:3,consts:[[1,"sign-up-form","unified",3,"ngSubmit"],[1,"email-wrapper"],["type","email","placeholder","e-mail",1,"input",3,"input","value"],[1,"password-wrapper"],["type","password","placeholder","password",1,"input",3,"input","value"],["type","submit",1,"btn",3,"disabled"]],template:function(r,i){1&r&&(rt(0,"form",0),on("ngSubmit",function(){return i.onSignUp()}),rt(1,"div",1)(2,"input",2),on("input",function(s){return i.email.set(s.target.value)}),pt()(),rt(3,"div",3)(4,"input",4),on("input",function(s){return i.password.set(s.target.value)}),pt()(),rt(5,"button",5),un(6," sign up "),pt()()),2&r&&(Nt(2),An("value",i.email()),Nt(2),An("value",i.password()),Nt(),An("disabled",i.disableButton()))},dependencies:[Vm,Ld,Td,ta],styles:[".sign-up-form[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:30px;background-color:#fff;border-radius:12px;box-shadow:0 8px 20px #0000001a;display:flex;flex-direction:column;gap:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.email-wrapper[_ngcontent-%COMP%], .password-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input[_ngcontent-%COMP%]{padding:12px 15px;border:1px solid #ccc;border-radius:8px;font-size:16px;transition:border-color .3s,box-shadow .3s}.input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 5px #4f46e566;outline:none}.btn[_ngcontent-%COMP%]{padding:12px;font-size:16px;font-weight:700;color:#fff;background-color:var(--primary-color);border:none;border-radius:8px;cursor:pointer;transition:background-color .3s,transform .2s}.btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--primary-color);transform:translateY(-2px)}.btn[_ngcontent-%COMP%]:disabled{background-color:var(--disabled-color);cursor:not-allowed}.input[_ngcontent-%COMP%]::placeholder{color:#a1a1aa;opacity:1}@media (max-width: 480px){.sign-up-form[_ngcontent-%COMP%]{padding:20px;margin:30px 10px}}"]})}}return e})(),title:"sign up"},{path:"sign-in",component:(()=>{class e{constructor(){this.emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,this.authService=te($m),this.email=Zi(""),this.password=Zi("")}disableButton(){return!this.email()||!this.password()||!this.emailRegex.test(this.email())}onSignIn(){this.authService.signIn(this.email(),this.password()).then(n=>{this.responseData=n})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-sign-in"]],standalone:!0,features:[Dr],decls:7,vars:3,consts:[[1,"sign-in-form","unified",3,"ngSubmit"],[1,"email-wrapper"],["type","email","placeholder","e-mail",1,"input",3,"input","value"],[1,"password-wrapper"],["type","password","placeholder","password",1,"input",3,"input","value"],["type","submit",1,"btn",3,"disabled"]],template:function(r,i){1&r&&(rt(0,"form",0),on("ngSubmit",function(){return i.onSignIn()}),rt(1,"div",1)(2,"input",2),on("input",function(s){return i.email.set(s.target.value)}),pt()(),rt(3,"div",3)(4,"input",4),on("input",function(s){return i.password.set(s.target.value)}),pt()(),rt(5,"button",5),un(6," sign in "),pt()()),2&r&&(Nt(2),An("value",i.email()),Nt(2),An("value",i.password()),Nt(),An("disabled",i.disableButton()))},dependencies:[Vm,Ld,Td,ta],styles:[".sign-in-form[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:30px;background-color:#fff;border-radius:12px;box-shadow:0 8px 20px #0000001a;display:flex;flex-direction:column;gap:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.email-wrapper[_ngcontent-%COMP%], .password-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input[_ngcontent-%COMP%]{padding:12px 15px;border:1px solid #ccc;border-radius:8px;font-size:16px;transition:border-color .3s,box-shadow .3s}.input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 5px #4f46e566;outline:none}.btn[_ngcontent-%COMP%]{padding:12px;font-size:16px;font-weight:700;color:#fff;background-color:var(--primary-color);border:none;border-radius:8px;cursor:pointer;transition:background-color .3s,transform .2s}.btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--primary-color);transform:translateY(-2px)}.btn[_ngcontent-%COMP%]:disabled{background-color:var(--disabled-color);cursor:not-allowed}.input[_ngcontent-%COMP%]::placeholder{color:#a1a1aa;opacity:1}@media (max-width: 480px){.sign-in-form[_ngcontent-%COMP%]{padding:20px;margin:30px 10px}}"]})}}return e})(),title:"sign in"},{path:"details/:id",component:EH,title:"details"},{path:"link/:link",component:SH,title:"link"},{path:"wishlist/:link",component:AH,title:"wishlist"}];const NH={providers:[function HB(e,...t){return zo([{provide:_d,multi:!0,useValue:e},[],{provide:Li,useFactory:OS,deps:[qr]},{provide:Qp,multi:!0,useFactory:NS},t.map(n=>n.\u0275providers)])}(RH),function _2(...e){const t=[pm,KS,qS,{provide:bd,useExisting:qS},{provide:Dd,useExisting:KS},{provide:Ju,useValue:y2,multi:!0},{provide:vm,useValue:!0},{provide:YS,useClass:v2}];for(const n of e)t.push(...n.\u0275providers);return zo(t)}(function w2(){return function Fo(e,t){return{\u0275kind:e,\u0275providers:t}}(uo.LegacyInterceptors,[{provide:QS,useFactory:u2},{provide:Ju,useExisting:QS,multi:!0}])}()),[]]};let xH=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-lil-link-logo"]],standalone:!0,features:[Dr],decls:6,vars:0,consts:[[1,"logo"],[1,"icon"],[1,"link-part","part1"],[1,"link-part","part2"],[1,"text"]],template:function(r,i){1&r&&(rt(0,"div",0)(1,"div",1),Ni(2,"div",2)(3,"div",3),pt(),rt(4,"span",4),un(5,"lil-link"),pt()())},styles:[".logo[_ngcontent-%COMP%]{display:flex;align-items:center;font-family:Segoe UI,sans-serif;font-weight:700;font-size:1.5rem;color:#007bff;gap:.5rem;cursor:pointer;transition:transform .2s}.logo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.icon[_ngcontent-%COMP%]{position:relative;width:24px;height:24px}.link-part[_ngcontent-%COMP%]{position:absolute;width:12px;height:4px;border:3px solid #007bff;border-radius:4px;transform-origin:center;transition:transform .3s}.part1[_ngcontent-%COMP%]{transform:rotate(45deg);top:2px;left:2px}.part2[_ngcontent-%COMP%]{transform:rotate(-45deg);top:14px;left:10px}.logo[_ngcontent-%COMP%]:hover   .part1[_ngcontent-%COMP%]{transform:rotate(45deg) translate(1px,-1px)}.logo[_ngcontent-%COMP%]:hover   .part2[_ngcontent-%COMP%]{transform:rotate(-45deg) translate(-1px,1px)}"]})}}return e})();const kH=()=>["/"],PH=()=>["/sign-up"],FH=()=>["/sign-in"];function LH(e,t){1&e&&(rt(0,"a",3),un(1," sign up "),pt(),rt(2,"a",4),un(3," sign in "),pt()),2&e&&(An("routerLink",Mc(2,PH)),Nt(2),An("routerLink",Mc(3,FH)))}function jH(e,t){if(1&e){const n=function Yb(){return q()}();rt(0,"a",5),on("click",function(){return function jv(e){return We.lFrame.contextLView=e,e[Gt]}(n),function Vv(e){return We.lFrame.contextLView=null,e}(OD().authService.signOut())}),un(1," sign out "),pt()}}let VH=(()=>{class e{constructor(n){this.authService=n}static{this.\u0275fac=function(r){return new(r||e)(oe($m))}}static{this.\u0275cmp=gr({type:e,selectors:[["app-header"]],standalone:!0,features:[Dr],decls:6,vars:3,consts:[[1,"header-wrapper"],[3,"routerLink"],[1,"auth-btn-wrapper"],[1,"sign-up-btn",3,"routerLink"],[1,"sign-in-btn",3,"routerLink"],[1,"sign-out-btn",3,"click"]],template:function(r,i){1&r&&(rt(0,"header",0)(1,"a",1),Ni(2,"app-lil-link-logo"),pt(),rt(3,"div",2),ms(4,LH,4,4)(5,jH,2,0),pt()()),2&r&&(Nt(),An("routerLink",Mc(2,kH)),Nt(3),function Wb(e,t,n){ai("NgControlFlow");const r=q(),i=Lr(),o=Mp(r,Ye+e);if(fn(r,i,t)){const a=N(null);try{if(Ff(o,0),-1!==t){const u=Rp(r[de],Ye+t),c=ps(o,u.tView.ssrId);Ha(o,Ba(r,u,n,{dehydratedView:c}),0,fs(u,c))}}finally{N(a)}}else{const a=z_(o,0);void 0!==a&&(a[Gt]=n)}}(4,i.authService.isLoggedIn()?5:4))},dependencies:[qu,xH],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.header-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.auth-btn-wrapper[_ngcontent-%COMP%]{display:flex;gap:12px}.auth-btn-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:15px;font-weight:500;padding:8px 18px;border-radius:8px;transition:background-color .25s ease,color .25s ease,box-shadow .25s ease,transform .15s ease}.sign-up-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;box-shadow:0 2px 6px #4f46e533}.sign-up-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 4px 10px #4f46e54d}.sign-in-btn[_ngcontent-%COMP%]{border:2px solid var(--primary-color);color:var(--primary-color);background:transparent}.sign-in-btn[_ngcontent-%COMP%]:hover{background-color:#eef2ff;transform:translateY(-1px)}.sign-out-btn[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;box-shadow:0 2px 6px #4f46e533}.sign-out-btn[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);transform:translateY(-1px);box-shadow:0 4px 10px #4f46e54d}"]})}}return e})();(function qV(e,t){return uL({rootComponent:e,...f0(t)})})((()=>{class e{constructor(){this.title="lil-link",this.router=te(qr);const n=window.location.hash.replace("#",""),r=n.split("/")[2];n.startsWith("/link/")?this.router.navigate(["/link",r]):n.startsWith("/wishlist/")&&this.router.navigate(["/wishlist",r])}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=gr({type:e,selectors:[["app-root"]],standalone:!0,features:[Dr],decls:4,vars:0,consts:[[1,"content"]],template:function(r,i){1&r&&(rt(0,"main"),Ni(1,"app-header"),rt(2,"section",0),Ni(3,"router-outlet"),pt()())},dependencies:[Yj,em,VH]})}}return e})(),NH).catch(e=>console.error(e))},980:(kt,J,ge)=>{"use strict";ge.r(J),ge.d(J,{AuthAdminApi:()=>zd,AuthApiError:()=>Me,AuthClient:()=>$o,AuthError:()=>Ae,AuthImplicitGrantRedirectError:()=>Bt,AuthInvalidCredentialsError:()=>Ct,AuthInvalidJwtError:()=>wn,AuthInvalidTokenResponseError:()=>gt,AuthPKCEGrantCodeExchangeError:()=>ln,AuthRetryableFetchError:()=>sn,AuthSessionMissingError:()=>at,AuthUnknownError:()=>Te,AuthWeakPasswordError:()=>Mn,CustomAuthError:()=>Fe,GoTrueAdminApi:()=>hr,GoTrueClient:()=>sl,NavigatorLockAcquireTimeoutError:()=>oa,SIGN_OUT_SCOPES:()=>po,isAuthApiError:()=>Ke,isAuthError:()=>Z,isAuthImplicitGrantRedirectError:()=>kn,isAuthRetryableFetchError:()=>Ze,isAuthSessionMissingError:()=>Pt,isAuthWeakPasswordError:()=>Or,lockInternals:()=>ir,navigatorLock:()=>Ci,processLock:()=>Hm});var E=ge(467),Ee=ge(635);const Pe=3e4,x=3*Pe,X="X-Supabase-Api-Version",_e={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Ae extends Error{constructor(w,d,l){super(w),this.__isAuthError=!0,this.name="AuthError",this.status=d,this.code=l}}function Z(y){return"object"==typeof y&&null!==y&&"__isAuthError"in y}class Me extends Ae{constructor(w,d,l){super(w,d,l),this.name="AuthApiError",this.status=d,this.code=l}}function Ke(y){return Z(y)&&"AuthApiError"===y.name}class Te extends Ae{constructor(w,d){super(w),this.name="AuthUnknownError",this.originalError=d}}class Fe extends Ae{constructor(w,d,l,p){super(w,l,p),this.name=d,this.status=l}}class at extends Fe{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pt(y){return Z(y)&&"AuthSessionMissingError"===y.name}class gt extends Fe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ct extends Fe{constructor(w){super(w,"AuthInvalidCredentialsError",400,void 0)}}class Bt extends Fe{constructor(w,d=null){super(w,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=d}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kn(y){return Z(y)&&"AuthImplicitGrantRedirectError"===y.name}class ln extends Fe{constructor(w,d=null){super(w,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=d}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sn extends Fe{constructor(w,d){super(w,"AuthRetryableFetchError",d,void 0)}}function Ze(y){return Z(y)&&"AuthRetryableFetchError"===y.name}class Mn extends Fe{constructor(w,d,l){super(w,"AuthWeakPasswordError",d,"weak_password"),this.reasons=l}}function Or(y){return Z(y)&&"AuthWeakPasswordError"===y.name}class wn extends Fe{constructor(w){super(w,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hn=" \t\n\r=".split(""),Xt=(()=>{const y=new Array(128);for(let w=0;w<y.length;w+=1)y[w]=-1;for(let w=0;w<Hn.length;w+=1)y[Hn[w].charCodeAt(0)]=-2;for(let w=0;w<Pn.length;w+=1)y[Pn[w].charCodeAt(0)]=w;return y})();function Sr(y,w,d){if(null!==y)for(w.queue=w.queue<<8|y,w.queuedBits+=8;w.queuedBits>=6;)d(Pn[w.queue>>w.queuedBits-6&63]),w.queuedBits-=6;else if(w.queuedBits>0)for(w.queue=w.queue<<6-w.queuedBits,w.queuedBits=6;w.queuedBits>=6;)d(Pn[w.queue>>w.queuedBits-6&63]),w.queuedBits-=6}function F(y,w,d){const l=Xt[y];if(!(l>-1)){if(-2===l)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(y)}"`)}for(w.queue=w.queue<<6|l,w.queuedBits+=6;w.queuedBits>=8;)d(w.queue>>w.queuedBits-8&255),w.queuedBits-=8}function H(y){const w=[],d=b=>{w.push(String.fromCodePoint(b))},l={utf8seq:0,codepoint:0},p={queue:0,queuedBits:0},_=b=>{!function ie(y,w,d){if(0===w.utf8seq){if(y<=127)return void d(y);for(let l=1;l<6;l+=1)if(!(y>>7-l&1)){w.utf8seq=l;break}if(2===w.utf8seq)w.codepoint=31&y;else if(3===w.utf8seq)w.codepoint=15&y;else{if(4!==w.utf8seq)throw new Error("Invalid UTF-8 sequence");w.codepoint=7&y}w.utf8seq-=1}else if(w.utf8seq>0){if(y<=127)throw new Error("Invalid UTF-8 sequence");w.codepoint=w.codepoint<<6|63&y,w.utf8seq-=1,0===w.utf8seq&&d(w.codepoint)}}(b,l,d)};for(let b=0;b<y.length;b+=1)F(y.charCodeAt(b),p,_);return w.join("")}function G(y,w){if(!(y<=127)){if(y<=2047)return w(192|y>>6),void w(128|63&y);if(y<=65535)return w(224|y>>12),w(128|y>>6&63),void w(128|63&y);if(y<=1114111)return w(240|y>>18),w(128|y>>12&63),w(128|y>>6&63),void w(128|63&y);throw new Error(`Unrecognized Unicode codepoint: ${y.toString(16)}`)}w(y)}function Se(y){const w=[],d={queue:0,queuedBits:0},l=p=>{w.push(p)};for(let p=0;p<y.length;p+=1)F(y.charCodeAt(p),d,l);return new Uint8Array(w)}function g(y){const w=[],d={queue:0,queuedBits:0},l=p=>{w.push(p)};return y.forEach(p=>Sr(p,d,l)),Sr(null,d,l),w.join("")}const U=()=>typeof window<"u"&&typeof document<"u",K={tested:!1,writable:!1},Y=()=>{if(!U())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(K.tested)return K.writable;const y=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(y,y),globalThis.localStorage.removeItem(y),K.tested=!0,K.writable=!0}catch{K.tested=!0,K.writable=!1}return K.writable},me=y=>y?(...w)=>y(...w):(...w)=>fetch(...w),Ce=y=>"object"==typeof y&&null!==y&&"status"in y&&"ok"in y&&"json"in y&&"function"==typeof y.json,ke=function(){var y=(0,E.A)(function*(w,d,l){yield w.setItem(d,JSON.stringify(l))});return function(d,l,p){return y.apply(this,arguments)}}(),Re=function(){var y=(0,E.A)(function*(w,d){const l=yield w.getItem(d);if(!l)return null;try{return JSON.parse(l)}catch{return l}});return function(d,l){return y.apply(this,arguments)}}(),je=function(){var y=(0,E.A)(function*(w,d){yield w.removeItem(d)});return function(d,l){return y.apply(this,arguments)}}();class Qe{constructor(){this.promise=new Qe.promiseConstructor((w,d)=>{this.resolve=w,this.reject=d})}}function Le(y){const w=y.split(".");if(3!==w.length)throw new wn("Invalid JWT structure");for(let l=0;l<w.length;l++)if(!ue.test(w[l]))throw new wn("JWT not in base64url format");return{header:JSON.parse(H(w[0])),payload:JSON.parse(H(w[1])),signature:Se(w[2]),raw:{header:w[0],payload:w[1]}}}function _t(){return(_t=(0,E.A)(function*(y){return yield new Promise(w=>{setTimeout(()=>w(null),y)})})).apply(this,arguments)}function Gn(y){return("0"+y.toString(16)).substr(-2)}function Vt(){return(Vt=(0,E.A)(function*(y){const d=(new TextEncoder).encode(y),l=yield crypto.subtle.digest("SHA-256",d),p=new Uint8Array(l);return Array.from(p).map(_=>String.fromCharCode(_)).join("")})).apply(this,arguments)}function Ui(){return Ui=(0,E.A)(function*(y){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),y;const d=yield function bn(y){return Vt.apply(this,arguments)}(y);return btoa(d).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),Ui.apply(this,arguments)}function zn(y,w){return Wr.apply(this,arguments)}function Wr(){return Wr=(0,E.A)(function*(y,w,d=!1){const l=function en(){const w=new Uint32Array(56);if(typeof crypto>"u"){const d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=d.length;let p="";for(let _=0;_<56;_++)p+=d.charAt(Math.floor(Math.random()*l));return p}return crypto.getRandomValues(w),Array.from(w,Gn).join("")}();let p=l;d&&(p+="/PASSWORD_RECOVERY"),yield ke(y,`${w}-code-verifier`,p);const _=yield function Vi(y){return Ui.apply(this,arguments)}(l);return[_,l===_?"plain":"s256"]}),Wr.apply(this,arguments)}Qe.promiseConstructor=Promise;const qn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,na=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function I(y){if(!na.test(y))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function m(){return new Proxy({},{get:(w,d)=>{if("__isUserNotAvailableProxy"===d)return!0;if("symbol"==typeof d){const l=d.toString();if("Symbol(Symbol.toPrimitive)"===l||"Symbol(Symbol.toStringTag)"===l||"Symbol(util.inspect.custom)"===l)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${d}" property of the session object is not supported. Please use getUser() instead.`)},set:(w,d)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${d}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(w,d)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${d}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function O(y){return JSON.parse(JSON.stringify(y))}const L=y=>y.msg||y.message||y.error_description||y.error||JSON.stringify(y),ve=[502,503,504];function Ne(y){return ut.apply(this,arguments)}function ut(){return(ut=(0,E.A)(function*(y){var w;if(!Ce(y))throw new sn(L(y),0);if(ve.includes(y.status))throw new sn(L(y),y.status);let d,l;try{d=yield y.json()}catch(_){throw new Te(L(_),_)}const p=function bi(y){const w=y.headers.get(X);if(!w||!w.match(qn))return null;try{return new Date(`${w}T00:00:00.0Z`)}catch{return null}}(y);if(p&&p.getTime()>=_e["2024-01-01"].timestamp&&"object"==typeof d&&d&&"string"==typeof d.code?l=d.code:"object"==typeof d&&d&&"string"==typeof d.error_code&&(l=d.error_code),l){if("weak_password"===l)throw new Mn(L(d),y.status,(null===(w=d.weak_password)||void 0===w?void 0:w.reasons)||[]);if("session_not_found"===l)throw new at}else if("object"==typeof d&&d&&"object"==typeof d.weak_password&&d.weak_password&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.reasons.reduce((_,b)=>_&&"string"==typeof b,!0))throw new Mn(L(d),y.status,d.weak_password.reasons);throw new Me(L(d),y.status||500,l)})).apply(this,arguments)}const Ue=(y,w,d,l)=>{const p={method:y,headers:w?.headers||{}};return"GET"===y?p:(p.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},w?.headers),p.body=JSON.stringify(l),Object.assign(Object.assign({},p),d))};function fe(y,w,d,l){return mn.apply(this,arguments)}function mn(){return mn=(0,E.A)(function*(y,w,d,l){var p;const _=Object.assign({},l?.headers);_[X]||(_[X]=_e["2024-01-01"].name),l?.jwt&&(_.Authorization=`Bearer ${l.jwt}`);const b=null!==(p=l?.query)&&void 0!==p?p:{};l?.redirectTo&&(b.redirect_to=l.redirectTo);const C=Object.keys(b).length?"?"+new URLSearchParams(b).toString():"",M=yield function tn(y,w,d,l,p,_){return Kr.apply(this,arguments)}(y,w,d+C,{headers:_,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(M):{data:Object.assign({},M),error:null}}),mn.apply(this,arguments)}function Kr(){return(Kr=(0,E.A)(function*(y,w,d,l,p,_){const b=Ue(w,l,p,_);let C;try{C=yield y(d,Object.assign({},b))}catch(M){throw console.error(M),new sn(L(M),0)}if(C.ok||(yield Ne(C)),l?.noResolveJson)return C;try{return yield C.json()}catch(M){yield Ne(M)}})).apply(this,arguments)}function Dt(y){var w;let d=null;return function Q(y){return y.access_token&&y.refresh_token&&y.expires_in}(y)&&(d=Object.assign({},y),y.expires_at||(d.expires_at=function S(y){return Math.round(Date.now()/1e3)+y}(y.expires_in))),{data:{session:d,user:null!==(w=y.user)&&void 0!==w?w:y},error:null}}function Jt(y){const w=Dt(y);return!w.error&&y.weak_password&&"object"==typeof y.weak_password&&Array.isArray(y.weak_password.reasons)&&y.weak_password.reasons.length&&y.weak_password.message&&"string"==typeof y.weak_password.message&&y.weak_password.reasons.reduce((d,l)=>d&&"string"==typeof l,!0)&&(w.data.weak_password=y.weak_password),w}function rr(y){var w;return{data:{user:null!==(w=y.user)&&void 0!==w?w:y},error:null}}function mt(y){return{data:y,error:null}}function Bm(y){const{action_link:w,email_otp:d,hashed_token:l,redirect_to:p,verification_type:_}=y,b=(0,Ee.__rest)(y,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:w,email_otp:d,hashed_token:l,redirect_to:p,verification_type:_},user:Object.assign({},b)},error:null}}function ra(y){return y}const po=["global","local","others"];class hr{constructor({url:w="",headers:d={},fetch:l}){this.url=w,this.headers=d,this.fetch=me(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(w){var d=this;return(0,E.A)(function*(l,p=po[0]){if(po.indexOf(p)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${po.join(", ")}`);try{return yield fe(d.fetch,"POST",`${d.url}/logout?scope=${p}`,{headers:d.headers,jwt:l,noResolveJson:!0}),{data:null,error:null}}catch(_){if(Z(_))return{data:null,error:_};throw _}}).apply(this,arguments)}inviteUserByEmail(w){var d=this;return(0,E.A)(function*(l,p={}){try{return yield fe(d.fetch,"POST",`${d.url}/invite`,{body:{email:l,data:p.data},headers:d.headers,redirectTo:p.redirectTo,xform:rr})}catch(_){if(Z(_))return{data:{user:null},error:_};throw _}}).apply(this,arguments)}generateLink(w){var d=this;return(0,E.A)(function*(){try{const{options:l}=w,p=(0,Ee.__rest)(w,["options"]),_=Object.assign(Object.assign({},p),l);return"newEmail"in p&&(_.new_email=p?.newEmail,delete _.newEmail),yield fe(d.fetch,"POST",`${d.url}/admin/generate_link`,{body:_,headers:d.headers,xform:Bm,redirectTo:l?.redirectTo})}catch(l){if(Z(l))return{data:{properties:null,user:null},error:l};throw l}})()}createUser(w){var d=this;return(0,E.A)(function*(){try{return yield fe(d.fetch,"POST",`${d.url}/admin/users`,{body:w,headers:d.headers,xform:rr})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}})()}listUsers(w){var d=this;return(0,E.A)(function*(){var l,p,_,b,C,M,k;try{const V={nextPage:null,lastPage:0,total:0},ce=yield fe(d.fetch,"GET",`${d.url}/admin/users`,{headers:d.headers,noResolveJson:!0,query:{page:null!==(p=null===(l=w?.page)||void 0===l?void 0:l.toString())&&void 0!==p?p:"",per_page:null!==(b=null===(_=w?.perPage)||void 0===_?void 0:_.toString())&&void 0!==b?b:""},xform:ra});if(ce.error)throw ce.error;const we=yield ce.json(),$e=null!==(C=ce.headers.get("x-total-count"))&&void 0!==C?C:0,Ie=null!==(k=null===(M=ce.headers.get("link"))||void 0===M?void 0:M.split(","))&&void 0!==k?k:[];return Ie.length>0&&(Ie.forEach(Xe=>{const lt=parseInt(Xe.split(";")[0].split("=")[1].substring(0,1)),vt=JSON.parse(Xe.split(";")[1].split("=")[1]);V[`${vt}Page`]=lt}),V.total=parseInt($e)),{data:Object.assign(Object.assign({},we),V),error:null}}catch(V){if(Z(V))return{data:{users:[]},error:V};throw V}})()}getUserById(w){var d=this;return(0,E.A)(function*(){I(w);try{return yield fe(d.fetch,"GET",`${d.url}/admin/users/${w}`,{headers:d.headers,xform:rr})}catch(l){if(Z(l))return{data:{user:null},error:l};throw l}})()}updateUserById(w,d){var l=this;return(0,E.A)(function*(){I(w);try{return yield fe(l.fetch,"PUT",`${l.url}/admin/users/${w}`,{body:d,headers:l.headers,xform:rr})}catch(p){if(Z(p))return{data:{user:null},error:p};throw p}})()}deleteUser(w){var d=this;return(0,E.A)(function*(l,p=!1){I(l);try{return yield fe(d.fetch,"DELETE",`${d.url}/admin/users/${l}`,{headers:d.headers,body:{should_soft_delete:p},xform:rr})}catch(_){if(Z(_))return{data:{user:null},error:_};throw _}}).apply(this,arguments)}_listFactors(w){var d=this;return(0,E.A)(function*(){I(w.userId);try{const{data:l,error:p}=yield fe(d.fetch,"GET",`${d.url}/admin/users/${w.userId}/factors`,{headers:d.headers,xform:_=>({data:{factors:_},error:null})});return{data:l,error:p}}catch(l){if(Z(l))return{data:null,error:l};throw l}})()}_deleteFactor(w){var d=this;return(0,E.A)(function*(){I(w.userId),I(w.id);try{return{data:yield fe(d.fetch,"DELETE",`${d.url}/admin/users/${w.userId}/factors/${w.id}`,{headers:d.headers}),error:null}}catch(l){if(Z(l))return{data:null,error:l};throw l}})()}_listOAuthClients(w){var d=this;return(0,E.A)(function*(){var l,p,_,b,C,M,k;try{const V={nextPage:null,lastPage:0,total:0},ce=yield fe(d.fetch,"GET",`${d.url}/admin/oauth/clients`,{headers:d.headers,noResolveJson:!0,query:{page:null!==(p=null===(l=w?.page)||void 0===l?void 0:l.toString())&&void 0!==p?p:"",per_page:null!==(b=null===(_=w?.perPage)||void 0===_?void 0:_.toString())&&void 0!==b?b:""},xform:ra});if(ce.error)throw ce.error;const we=yield ce.json(),$e=null!==(C=ce.headers.get("x-total-count"))&&void 0!==C?C:0,Ie=null!==(k=null===(M=ce.headers.get("link"))||void 0===M?void 0:M.split(","))&&void 0!==k?k:[];return Ie.length>0&&(Ie.forEach(Xe=>{const lt=parseInt(Xe.split(";")[0].split("=")[1].substring(0,1)),vt=JSON.parse(Xe.split(";")[1].split("=")[1]);V[`${vt}Page`]=lt}),V.total=parseInt($e)),{data:Object.assign(Object.assign({},we),V),error:null}}catch(V){if(Z(V))return{data:{clients:[]},error:V};throw V}})()}_createOAuthClient(w){var d=this;return(0,E.A)(function*(){try{return yield fe(d.fetch,"POST",`${d.url}/admin/oauth/clients`,{body:w,headers:d.headers,xform:l=>({data:l,error:null})})}catch(l){if(Z(l))return{data:null,error:l};throw l}})()}_getOAuthClient(w){var d=this;return(0,E.A)(function*(){try{return yield fe(d.fetch,"GET",`${d.url}/admin/oauth/clients/${w}`,{headers:d.headers,xform:l=>({data:l,error:null})})}catch(l){if(Z(l))return{data:null,error:l};throw l}})()}_updateOAuthClient(w,d){var l=this;return(0,E.A)(function*(){try{return yield fe(l.fetch,"PUT",`${l.url}/admin/oauth/clients/${w}`,{body:d,headers:l.headers,xform:p=>({data:p,error:null})})}catch(p){if(Z(p))return{data:null,error:p};throw p}})()}_deleteOAuthClient(w){var d=this;return(0,E.A)(function*(){try{return yield fe(d.fetch,"DELETE",`${d.url}/admin/oauth/clients/${w}`,{headers:d.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(Z(l))return{data:null,error:l};throw l}})()}_regenerateOAuthClientSecret(w){var d=this;return(0,E.A)(function*(){try{return yield fe(d.fetch,"POST",`${d.url}/admin/oauth/clients/${w}/regenerate_secret`,{headers:d.headers,xform:l=>({data:l,error:null})})}catch(l){if(Z(l))return{data:null,error:l};throw l}})()}}function Di(y={}){return{getItem:w=>y[w]||null,setItem:(w,d)=>{y[w]=d},removeItem:w=>{delete y[w]}}}const ir={debug:!!(globalThis&&Y()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class Jr extends Error{constructor(w){super(w),this.isAcquireTimeout=!0}}class oa extends Jr{}class sa extends Jr{}function Ci(y,w,d){return el.apply(this,arguments)}function el(){return el=(0,E.A)(function*(y,w,d){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",y,w);const l=new globalThis.AbortController;return w>0&&setTimeout(()=>{l.abort(),ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",y)},w),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(y,0===w?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},function(){var p=(0,E.A)(function*(_){if(!_){if(0===w)throw ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",y),new oa(`Acquiring an exclusive Navigator LockManager lock "${y}" immediately failed`);if(ir.debug)try{const b=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(b,null,"  "))}catch(b){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",b)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield d()}ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",y,_.name);try{return yield d()}finally{ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",y,_.name)}});return function(_){return p.apply(this,arguments)}}()))}),el.apply(this,arguments)}const wt={};function Hm(y,w,d){return tl.apply(this,arguments)}function tl(){return tl=(0,E.A)(function*(y,w,d){var l;const p=null!==(l=wt[y])&&void 0!==l?l:Promise.resolve(),_=Promise.race([p.catch(()=>null),w>=0?new Promise((b,C)=>{setTimeout(()=>{C(new sa(`Acquring process lock with name "${y}" timed out`))},w)}):null].filter(b=>b)).catch(b=>{if(b&&b.isAcquireTimeout)throw b;return null}).then((0,E.A)(function*(){return yield d()}));return wt[y]=_.catch(function(){var b=(0,E.A)(function*(C){if(C&&C.isAcquireTimeout)return yield p,null;throw C});return function(C){return b.apply(this,arguments)}}()),yield _}),tl.apply(this,arguments)}function nl(y){if(!/^0x[a-fA-F0-9]{40}$/.test(y))throw new Error(`@supabase/auth-js: Address "${y}" is invalid.`);return y.toLowerCase()}function aa(y){const w=(new TextEncoder).encode(y);return"0x"+Array.from(w,l=>l.toString(16).padStart(2,"0")).join("")}class an extends Error{constructor({message:w,code:d,cause:l,name:p}){var _;super(w,{cause:l}),this.__isWebAuthnError=!0,this.name=null!==(_=p??(l instanceof Error?l.name:void 0))&&void 0!==_?_:"Unknown Error",this.code=d}}class St extends an{constructor(w,d){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d,message:w}),this.name="WebAuthnUnknownError",this.originalError=d}}function Uo({error:y,options:w}){var d,l,p;const{publicKey:_}=w;if(!_)throw Error("options was missing required publicKey property");if("AbortError"===y.name){if(w.signal instanceof AbortSignal)return new an({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:y})}else if("ConstraintError"===y.name){if(!0===(null===(d=_.authenticatorSelection)||void 0===d?void 0:d.requireResidentKey))return new an({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:y});if("conditional"===w.mediation&&"required"===(null===(l=_.authenticatorSelection)||void 0===l?void 0:l.userVerification))return new an({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:y});if("required"===(null===(p=_.authenticatorSelection)||void 0===p?void 0:p.userVerification))return new an({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:y})}else{if("InvalidStateError"===y.name)return new an({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:y});if("NotAllowedError"===y.name)return new an({message:y.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:y});if("NotSupportedError"===y.name)return 0===_.pubKeyCredParams.filter(C=>"public-key"===C.type).length?new an({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:y}):new an({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:y});if("SecurityError"===y.name){const b=window.location.hostname;if(!Ud(b))return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:y});if(_.rp.id!==b)return new an({message:`The RP ID "${_.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:y})}else if("TypeError"===y.name){if(_.user.id.byteLength<1||_.user.id.byteLength>64)return new an({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:y})}else if("UnknownError"===y.name)return new an({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:y})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:y})}function Wn({error:y,options:w}){const{publicKey:d}=w;if(!d)throw Error("options was missing required publicKey property");if("AbortError"===y.name){if(w.signal instanceof AbortSignal)return new an({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:y})}else{if("NotAllowedError"===y.name)return new an({message:y.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:y});if("SecurityError"===y.name){const l=window.location.hostname;if(!Ud(l))return new an({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:y});if(d.rpId!==l)return new an({message:`The RP ID "${d.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:y})}else if("UnknownError"===y.name)return new an({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:y})}return new an({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:y})}const Vd=new class zm{createNewAbortSignal(){if(this.controller){const d=new Error("Cancelling existing WebAuthn API call for new one");d.name="AbortError",this.controller.abort(d)}const w=new AbortController;return this.controller=w,w.signal}cancelCeremony(){if(this.controller){const w=new Error("Manually cancelling existing WebAuthn API call");w.name="AbortError",this.controller.abort(w),this.controller=void 0}}};function qm(y){if(!y)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(y);const{challenge:w,user:d,excludeCredentials:l}=y,p=(0,Ee.__rest)(y,["challenge","user","excludeCredentials"]),_=Se(w).buffer,b=Object.assign(Object.assign({},d),{id:Se(d.id).buffer}),C=Object.assign(Object.assign({},p),{challenge:_,user:b});if(l&&l.length>0){C.excludeCredentials=new Array(l.length);for(let M=0;M<l.length;M++){const k=l[M];C.excludeCredentials[M]=Object.assign(Object.assign({},k),{id:Se(k.id).buffer,type:k.type||"public-key",transports:k.transports})}}return C}function Zr(y){if(!y)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(y);const{challenge:w,allowCredentials:d}=y,l=(0,Ee.__rest)(y,["challenge","allowCredentials"]),p=Se(w).buffer,_=Object.assign(Object.assign({},l),{challenge:p});if(d&&d.length>0){_.allowCredentials=new Array(d.length);for(let b=0;b<d.length;b++){const C=d[b];_.allowCredentials[b]=Object.assign(Object.assign({},C),{id:Se(C.id).buffer,type:C.type||"public-key",transports:C.transports})}}return _}function Wm(y){var w;if("toJSON"in y&&"function"==typeof y.toJSON)return y.toJSON();const d=y;return{id:y.id,rawId:y.id,response:{attestationObject:g(new Uint8Array(y.response.attestationObject)),clientDataJSON:g(new Uint8Array(y.response.clientDataJSON))},type:"public-key",clientExtensionResults:y.getClientExtensionResults(),authenticatorAttachment:null!==(w=d.authenticatorAttachment)&&void 0!==w?w:void 0}}function Km(y){var w;if("toJSON"in y&&"function"==typeof y.toJSON)return y.toJSON();const d=y,l=y.getClientExtensionResults(),p=y.response;return{id:y.id,rawId:y.id,response:{authenticatorData:g(new Uint8Array(p.authenticatorData)),clientDataJSON:g(new Uint8Array(p.clientDataJSON)),signature:g(new Uint8Array(p.signature)),userHandle:p.userHandle?g(new Uint8Array(p.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:null!==(w=d.authenticatorAttachment)&&void 0!==w?w:void 0}}function Ud(y){return"localhost"===y||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(y)}function $d(){var y,w;return!!(U()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(y=navigator?.credentials)||void 0===y?void 0:y.create)&&"function"==typeof(null===(w=navigator?.credentials)||void 0===w?void 0:w.get))}function rl(){return(rl=(0,E.A)(function*(y){try{const w=yield navigator.credentials.create(y);return w?w instanceof PublicKeyCredential?{data:w,error:null}:{data:null,error:new St("Browser returned unexpected credential type",w)}:{data:null,error:new St("Empty credential response",w)}}catch(w){return{data:null,error:Uo({error:w,options:y})}}})).apply(this,arguments)}function il(){return(il=(0,E.A)(function*(y){try{const w=yield navigator.credentials.get(y);return w?w instanceof PublicKeyCredential?{data:w,error:null}:{data:null,error:new St("Browser returned unexpected credential type",w)}:{data:null,error:new St("Empty credential response",w)}}catch(w){return{data:null,error:Wn({error:w,options:y})}}})).apply(this,arguments)}const Kn={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ve={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ua(...y){const w=p=>null!==p&&"object"==typeof p&&!Array.isArray(p),d=p=>p instanceof ArrayBuffer||ArrayBuffer.isView(p),l={};for(const p of y)if(p)for(const _ in p){const b=p[_];if(void 0!==b)if(Array.isArray(b))l[_]=b;else if(d(b))l[_]=b;else if(w(b)){const C=l[_];l[_]=w(C)?ua(C,b):ua(b)}else l[_]=b}return l}class Ym{constructor(w){this.client=w,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(w){var d=this;return(0,E.A)(function*(){return d.client.mfa.enroll(Object.assign(Object.assign({},w),{factorType:"webauthn"}))})()}_challenge(w,d){var l=this;return(0,E.A)(function*({factorId:p,webauthn:_,friendlyName:b,signal:C},M){try{const{data:k,error:V}=yield l.client.mfa.challenge({factorId:p,webauthn:_});if(!k)return{data:null,error:V};const ce=C??Vd.createNewAbortSignal();if("create"===k.webauthn.type){const{user:we}=k.webauthn.credential_options.publicKey;we.name||(we.name=`${we.id}:${b}`),we.displayName||(we.displayName=we.name)}switch(k.webauthn.type){case"create":{const we=function Jm(y,w){return ua(Kn,y,w||{})}(k.webauthn.credential_options.publicKey,M?.create),{data:$e,error:Ie}=yield function Bd(y){return rl.apply(this,arguments)}({publicKey:we,signal:ce});return $e?{data:{factorId:p,challengeId:k.id,webauthn:{type:k.webauthn.type,credential_response:$e}},error:null}:{data:null,error:Ie}}case"request":{const we=function Zm(y,w){return ua(Ve,y,w||{})}(k.webauthn.credential_options.publicKey,M?.request),{data:$e,error:Ie}=yield function Hd(y){return il.apply(this,arguments)}(Object.assign(Object.assign({},k.webauthn.credential_options),{publicKey:we,signal:ce}));return $e?{data:{factorId:p,challengeId:k.id,webauthn:{type:k.webauthn.type,credential_response:$e}},error:null}:{data:null,error:Ie}}}}catch(k){return Z(k)?{data:null,error:k}:{data:null,error:new Te("Unexpected error in challenge",k)}}}).apply(this,arguments)}_verify(w){var d=this;return(0,E.A)(function*({challengeId:l,factorId:p,webauthn:_}){return d.client.mfa.verify({factorId:p,challengeId:l,webauthn:_})}).apply(this,arguments)}_authenticate(w,d){var l=this;return(0,E.A)(function*({factorId:p,webauthn:{rpId:_=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:b=(typeof window<"u"?[window.location.origin]:void 0),signal:C}={}},M){if(!_)return{data:null,error:new Ae("rpId is required for WebAuthn authentication")};try{if(!$d())return{data:null,error:new Te("Browser does not support WebAuthn",null)};const{data:k,error:V}=yield l.challenge({factorId:p,webauthn:{rpId:_,rpOrigins:b},signal:C},{request:M});if(!k)return{data:null,error:V};const{webauthn:ce}=k;return l._verify({factorId:p,challengeId:k.challengeId,webauthn:{type:ce.type,rpId:_,rpOrigins:b,credential_response:ce.credential_response}})}catch(k){return Z(k)?{data:null,error:k}:{data:null,error:new Te("Unexpected error in authenticate",k)}}}).apply(this,arguments)}_register(w,d){var l=this;return(0,E.A)(function*({friendlyName:p,webauthn:{rpId:_=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:b=(typeof window<"u"?[window.location.origin]:void 0),signal:C}={}},M){if(!_)return{data:null,error:new Ae("rpId is required for WebAuthn registration")};try{if(!$d())return{data:null,error:new Te("Browser does not support WebAuthn",null)};const{data:k,error:V}=yield l._enroll({friendlyName:p});if(!k)return yield l.client.mfa.listFactors().then($e=>{var Ie;return null===(Ie=$e.data)||void 0===Ie?void 0:Ie.all.find(Xe=>"webauthn"===Xe.factor_type&&Xe.friendly_name===p&&"unverified"!==Xe.status)}).then($e=>$e?l.client.mfa.unenroll({factorId:$e?.id}):void 0),{data:null,error:V};const{data:ce,error:we}=yield l._challenge({factorId:k.id,friendlyName:k.friendly_name,webauthn:{rpId:_,rpOrigins:b},signal:C},{create:M});return ce?l._verify({factorId:k.id,challengeId:ce.challengeId,webauthn:{rpId:_,rpOrigins:b,type:ce.webauthn.type,credential_response:ce.webauthn.credential_response}}):{data:null,error:we}}catch(k){return Z(k)?{data:null,error:k}:{data:null,error:new Te("Unexpected error in register",k)}}}).apply(this,arguments)}}!function Et(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Qm={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.87.1"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function De(y,w,d){return ol.apply(this,arguments)}function ol(){return(ol=(0,E.A)(function*(y,w,d){return yield d()})).apply(this,arguments)}const fr={},sl=(()=>{class y{get jwks(){var d,l;return null!==(l=null===(d=fr[this.storageKey])||void 0===d?void 0:d.jwks)&&void 0!==l?l:{keys:[]}}set jwks(d){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{jwks:d})}get jwks_cached_at(){var d,l;return null!==(l=null===(d=fr[this.storageKey])||void 0===d?void 0:d.cachedAt)&&void 0!==l?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(d){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{cachedAt:d})}constructor(d){var p,_,b,l=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const C=Object.assign(Object.assign({},Qm),d);if(this.storageKey=C.storageKey,this.instanceID=null!==(p=y.nextInstanceID[this.storageKey])&&void 0!==p?p:0,y.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!C.debug,"function"==typeof C.debug&&(this.logger=C.debug),this.instanceID>0&&U()){const M=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(M),this.logDebugMessages&&console.trace(M)}if(this.persistSession=C.persistSession,this.autoRefreshToken=C.autoRefreshToken,this.admin=new hr({url:C.url,headers:C.headers,fetch:C.fetch}),this.url=C.url,this.headers=C.headers,this.fetch=me(C.fetch),this.lock=C.lock||De,this.detectSessionInUrl=C.detectSessionInUrl,this.flowType=C.flowType,this.hasCustomAuthorizationHeader=C.hasCustomAuthorizationHeader,this.throwOnError=C.throwOnError,this.lock=C.lock?C.lock:this.persistSession&&U()&&null!==(_=globalThis?.navigator)&&void 0!==_&&_.locks?Ci:De,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ym(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(C.storage?this.storage=C.storage:Y()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Di(this.memoryStorage)),C.userStorage&&(this.userStorage=C.userStorage)):(this.memoryStorage={},this.storage=Di(this.memoryStorage)),U()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(M){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",M)}null===(b=this.broadcastChannel)||void 0===b||b.addEventListener("message",function(){var M=(0,E.A)(function*(k){l._debug("received broadcast notification from other tab or client",k),yield l._notifyAllSubscribers(k.data.event,k.data.session,!1)});return function(k){return M.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(d){if(this.throwOnError&&d&&d.error)throw d.error;return d}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.87.1) ${(new Date).toISOString()}`}_debug(...d){return this.logDebugMessages&&this.logger(this._logPrefix(),...d),this}initialize(){var d=this;return(0,E.A)(function*(){return d.initializePromise||(d.initializePromise=(0,E.A)(function*(){return yield d._acquireLock(-1,(0,E.A)(function*(){return yield d._initialize()}))})()),yield d.initializePromise})()}_initialize(){var d=this;return(0,E.A)(function*(){var l;try{let p={},_="none";if(U()&&(p=function ee(y){const w={},d=new URL(y);if(d.hash&&"#"===d.hash[0])try{new URLSearchParams(d.hash.substring(1)).forEach((p,_)=>{w[_]=p})}catch{}return d.searchParams.forEach((l,p)=>{w[p]=l}),w}(window.location.href),d._isImplicitGrantCallback(p)?_="implicit":(yield d._isPKCECallback(p))&&(_="pkce")),U()&&d.detectSessionInUrl&&"none"!==_){const{data:b,error:C}=yield d._getSessionFromURL(p,_);if(C){if(d._debug("#_initialize()","error detecting session from URL",C),kn(C)){const V=null===(l=C.details)||void 0===l?void 0:l.code;if("identity_already_exists"===V||"identity_not_found"===V||"single_identity_not_deletable"===V)return{error:C}}return yield d._removeSession(),{error:C}}const{session:M,redirectType:k}=b;return d._debug("#_initialize()","detected session in URL",M,"redirect type",k),yield d._saveSession(M),setTimeout((0,E.A)(function*(){"recovery"===k?yield d._notifyAllSubscribers("PASSWORD_RECOVERY",M):yield d._notifyAllSubscribers("SIGNED_IN",M)}),0),{error:null}}return yield d._recoverAndRefresh(),{error:null}}catch(p){return Z(p)?d._returnResult({error:p}):d._returnResult({error:new Te("Unexpected error during initialization",p)})}finally{yield d._handleVisibilityChange(),d._debug("#_initialize()","end")}})()}signInAnonymously(d){var l=this;return(0,E.A)(function*(){var p,_,b;try{const C=yield fe(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{data:null!==(_=null===(p=d?.options)||void 0===p?void 0:p.data)&&void 0!==_?_:{},gotrue_meta_security:{captcha_token:null===(b=d?.options)||void 0===b?void 0:b.captchaToken}},xform:Dt}),{data:M,error:k}=C;if(k||!M)return l._returnResult({data:{user:null,session:null},error:k});const V=M.session,ce=M.user;return M.session&&(yield l._saveSession(M.session),yield l._notifyAllSubscribers("SIGNED_IN",V)),l._returnResult({data:{user:ce,session:V},error:null})}catch(C){if(Z(C))return l._returnResult({data:{user:null,session:null},error:C});throw C}})()}signUp(d){var l=this;return(0,E.A)(function*(){var p,_,b;try{let C;if("email"in d){const{email:we,password:$e,options:Ie}=d;let Xe=null,lt=null;"pkce"===l.flowType&&([Xe,lt]=yield zn(l.storage,l.storageKey)),C=yield fe(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,redirectTo:Ie?.emailRedirectTo,body:{email:we,password:$e,data:null!==(p=Ie?.data)&&void 0!==p?p:{},gotrue_meta_security:{captcha_token:Ie?.captchaToken},code_challenge:Xe,code_challenge_method:lt},xform:Dt})}else{if(!("phone"in d))throw new Ct("You must provide either an email or phone number and a password");{const{phone:we,password:$e,options:Ie}=d;C=yield fe(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{phone:we,password:$e,data:null!==(_=Ie?.data)&&void 0!==_?_:{},channel:null!==(b=Ie?.channel)&&void 0!==b?b:"sms",gotrue_meta_security:{captcha_token:Ie?.captchaToken}},xform:Dt})}}const{data:M,error:k}=C;if(k||!M)return yield je(l.storage,`${l.storageKey}-code-verifier`),l._returnResult({data:{user:null,session:null},error:k});const V=M.session,ce=M.user;return M.session&&(yield l._saveSession(M.session),yield l._notifyAllSubscribers("SIGNED_IN",V)),l._returnResult({data:{user:ce,session:V},error:null})}catch(C){if(yield je(l.storage,`${l.storageKey}-code-verifier`),Z(C))return l._returnResult({data:{user:null,session:null},error:C});throw C}})()}signInWithPassword(d){var l=this;return(0,E.A)(function*(){try{let p;if("email"in d){const{email:C,password:M,options:k}=d;p=yield fe(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{email:C,password:M,gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Jt})}else{if(!("phone"in d))throw new Ct("You must provide either an email or phone number and a password");{const{phone:C,password:M,options:k}=d;p=yield fe(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{phone:C,password:M,gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Jt})}}const{data:_,error:b}=p;if(b)return l._returnResult({data:{user:null,session:null},error:b});if(!_||!_.session||!_.user){const C=new gt;return l._returnResult({data:{user:null,session:null},error:C})}return _.session&&(yield l._saveSession(_.session),yield l._notifyAllSubscribers("SIGNED_IN",_.session)),l._returnResult({data:Object.assign({user:_.user,session:_.session},_.weak_password?{weakPassword:_.weak_password}:null),error:b})}catch(p){if(Z(p))return l._returnResult({data:{user:null,session:null},error:p});throw p}})()}signInWithOAuth(d){var l=this;return(0,E.A)(function*(){var p,_,b,C;return yield l._handleProviderSignIn(d.provider,{redirectTo:null===(p=d.options)||void 0===p?void 0:p.redirectTo,scopes:null===(_=d.options)||void 0===_?void 0:_.scopes,queryParams:null===(b=d.options)||void 0===b?void 0:b.queryParams,skipBrowserRedirect:null===(C=d.options)||void 0===C?void 0:C.skipBrowserRedirect})})()}exchangeCodeForSession(d){var l=this;return(0,E.A)(function*(){return yield l.initializePromise,l._acquireLock(-1,(0,E.A)(function*(){return l._exchangeCodeForSession(d)}))})()}signInWithWeb3(d){var l=this;return(0,E.A)(function*(){const{chain:p}=d;switch(p){case"ethereum":return yield l.signInWithEthereum(d);case"solana":return yield l.signInWithSolana(d);default:throw new Error(`@supabase/auth-js: Unsupported chain "${p}"`)}})()}signInWithEthereum(d){var l=this;return(0,E.A)(function*(){var p,_,b,C,M,k,V,ce,we,$e,Ie;let Xe,lt;if("message"in d)Xe=d.message,lt=d.signature;else{const{wallet:Mt,statement:Rt,options:nt}=d;let Ge;if(U())if("object"==typeof Mt)Ge=Mt;else{const Yr=window;if(!("ethereum"in Yr)||"object"!=typeof Yr.ethereum||!("request"in Yr.ethereum)||"function"!=typeof Yr.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");Ge=Yr.ethereum}else{if("object"!=typeof Mt||!nt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Ge=Mt}const be=new URL(null!==(p=nt?.url)&&void 0!==p?p:window.location.href),st=yield Ge.request({method:"eth_requestAccounts"}).then(Yr=>Yr).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!st||0===st.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Zt=nl(st[0]);let Dn=null===(_=nt?.signInWithEthereum)||void 0===_?void 0:_.chainId;Dn||(Dn=function cn(y){return parseInt(y,16)}(yield Ge.request({method:"eth_chainId"}))),Xe=function Gm(y){var w;const{chainId:d,domain:l,expirationTime:p,issuedAt:_=new Date,nonce:b,notBefore:C,requestId:M,resources:k,scheme:V,uri:ce,version:we}=y;if(!Number.isInteger(d))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${d}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(b&&b.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${b}`);if(!ce)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==we)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${we}`);if(null!==(w=y.statement)&&void 0!==w&&w.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${y.statement}`);const lt=`${V?`${V}://${l}`:l} wants you to sign in with your Ethereum account:\n${nl(y.address)}\n\n${y.statement?`${y.statement}\n`:""}`;let vt=`URI: ${ce}\nVersion: ${we}\nChain ID: ${d}${b?`\nNonce: ${b}`:""}\nIssued At: ${_.toISOString()}`;if(p&&(vt+=`\nExpiration Time: ${p.toISOString()}`),C&&(vt+=`\nNot Before: ${C.toISOString()}`),M&&(vt+=`\nRequest ID: ${M}`),k){let Mt="\nResources:";for(const Rt of k){if(!Rt||"string"!=typeof Rt)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Rt}`);Mt+=`\n- ${Rt}`}vt+=Mt}return`${lt}\n${vt}`}({domain:be.host,address:Zt,statement:Rt,uri:be.href,version:"1",chainId:Dn,nonce:null===(b=nt?.signInWithEthereum)||void 0===b?void 0:b.nonce,issuedAt:null!==(M=null===(C=nt?.signInWithEthereum)||void 0===C?void 0:C.issuedAt)&&void 0!==M?M:new Date,expirationTime:null===(k=nt?.signInWithEthereum)||void 0===k?void 0:k.expirationTime,notBefore:null===(V=nt?.signInWithEthereum)||void 0===V?void 0:V.notBefore,requestId:null===(ce=nt?.signInWithEthereum)||void 0===ce?void 0:ce.requestId,resources:null===(we=nt?.signInWithEthereum)||void 0===we?void 0:we.resources}),lt=yield Ge.request({method:"personal_sign",params:[aa(Xe),Zt]})}try{const{data:vt,error:Mt}=yield fe(l.fetch,"POST",`${l.url}/token?grant_type=web3`,{headers:l.headers,body:Object.assign({chain:"ethereum",message:Xe,signature:lt},null!==($e=d.options)&&void 0!==$e&&$e.captchaToken?{gotrue_meta_security:{captcha_token:null===(Ie=d.options)||void 0===Ie?void 0:Ie.captchaToken}}:null),xform:Dt});if(Mt)throw Mt;if(!vt||!vt.session||!vt.user){const Rt=new gt;return l._returnResult({data:{user:null,session:null},error:Rt})}return vt.session&&(yield l._saveSession(vt.session),yield l._notifyAllSubscribers("SIGNED_IN",vt.session)),l._returnResult({data:Object.assign({},vt),error:Mt})}catch(vt){if(Z(vt))return l._returnResult({data:{user:null,session:null},error:vt});throw vt}})()}signInWithSolana(d){var l=this;return(0,E.A)(function*(){var p,_,b,C,M,k,V,ce,we,$e,Ie,Xe;let lt,vt;if("message"in d)lt=d.message,vt=d.signature;else{const{wallet:Rt,statement:nt,options:Ge}=d;let be;if(U())if("object"==typeof Rt)be=Rt;else{const Zt=window;if(!("solana"in Zt)||"object"!=typeof Zt.solana||!("signIn"in Zt.solana&&"function"==typeof Zt.solana.signIn||"signMessage"in Zt.solana&&"function"==typeof Zt.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");be=Zt.solana}else{if("object"!=typeof Rt||!Ge?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");be=Rt}const st=new URL(null!==(p=Ge?.url)&&void 0!==p?p:window.location.href);if("signIn"in be&&be.signIn){const Zt=yield be.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},Ge?.signInWithSolana),{version:"1",domain:st.host,uri:st.href}),nt?{statement:nt}:null));let Dn;if(Array.isArray(Zt)&&Zt[0]&&"object"==typeof Zt[0])Dn=Zt[0];else{if(!(Zt&&"object"==typeof Zt&&"signedMessage"in Zt&&"signature"in Zt))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Dn=Zt}if(!("signedMessage"in Dn&&"signature"in Dn&&("string"==typeof Dn.signedMessage||Dn.signedMessage instanceof Uint8Array)&&Dn.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");lt="string"==typeof Dn.signedMessage?Dn.signedMessage:(new TextDecoder).decode(Dn.signedMessage),vt=Dn.signature}else{if(!("signMessage"in be&&"function"==typeof be.signMessage&&"publicKey"in be&&"object"==typeof be&&be.publicKey&&"toBase58"in be.publicKey&&"function"==typeof be.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");lt=[`${st.host} wants you to sign in with your Solana account:`,be.publicKey.toBase58(),...nt?["",nt,""]:[""],"Version: 1",`URI: ${st.href}`,`Issued At: ${null!==(b=null===(_=Ge?.signInWithSolana)||void 0===_?void 0:_.issuedAt)&&void 0!==b?b:(new Date).toISOString()}`,...null!==(C=Ge?.signInWithSolana)&&void 0!==C&&C.notBefore?[`Not Before: ${Ge.signInWithSolana.notBefore}`]:[],...null!==(M=Ge?.signInWithSolana)&&void 0!==M&&M.expirationTime?[`Expiration Time: ${Ge.signInWithSolana.expirationTime}`]:[],...null!==(k=Ge?.signInWithSolana)&&void 0!==k&&k.chainId?[`Chain ID: ${Ge.signInWithSolana.chainId}`]:[],...null!==(V=Ge?.signInWithSolana)&&void 0!==V&&V.nonce?[`Nonce: ${Ge.signInWithSolana.nonce}`]:[],...null!==(ce=Ge?.signInWithSolana)&&void 0!==ce&&ce.requestId?[`Request ID: ${Ge.signInWithSolana.requestId}`]:[],...null!==($e=null===(we=Ge?.signInWithSolana)||void 0===we?void 0:we.resources)&&void 0!==$e&&$e.length?["Resources",...Ge.signInWithSolana.resources.map(Dn=>`- ${Dn}`)]:[]].join("\n");const Zt=yield be.signMessage((new TextEncoder).encode(lt),"utf8");if(!(Zt&&Zt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");vt=Zt}}try{const{data:Mt,error:Rt}=yield fe(l.fetch,"POST",`${l.url}/token?grant_type=web3`,{headers:l.headers,body:Object.assign({chain:"solana",message:lt,signature:g(vt)},null!==(Ie=d.options)&&void 0!==Ie&&Ie.captchaToken?{gotrue_meta_security:{captcha_token:null===(Xe=d.options)||void 0===Xe?void 0:Xe.captchaToken}}:null),xform:Dt});if(Rt)throw Rt;if(!Mt||!Mt.session||!Mt.user){const nt=new gt;return l._returnResult({data:{user:null,session:null},error:nt})}return Mt.session&&(yield l._saveSession(Mt.session),yield l._notifyAllSubscribers("SIGNED_IN",Mt.session)),l._returnResult({data:Object.assign({},Mt),error:Rt})}catch(Mt){if(Z(Mt))return l._returnResult({data:{user:null,session:null},error:Mt});throw Mt}})()}_exchangeCodeForSession(d){var l=this;return(0,E.A)(function*(){const p=yield Re(l.storage,`${l.storageKey}-code-verifier`),[_,b]=(p??"").split("/");try{const{data:C,error:M}=yield fe(l.fetch,"POST",`${l.url}/token?grant_type=pkce`,{headers:l.headers,body:{auth_code:d,code_verifier:_},xform:Dt});if(yield je(l.storage,`${l.storageKey}-code-verifier`),M)throw M;if(!C||!C.session||!C.user){const k=new gt;return l._returnResult({data:{user:null,session:null,redirectType:null},error:k})}return C.session&&(yield l._saveSession(C.session),yield l._notifyAllSubscribers("SIGNED_IN",C.session)),l._returnResult({data:Object.assign(Object.assign({},C),{redirectType:b??null}),error:M})}catch(C){if(yield je(l.storage,`${l.storageKey}-code-verifier`),Z(C))return l._returnResult({data:{user:null,session:null,redirectType:null},error:C});throw C}})()}signInWithIdToken(d){var l=this;return(0,E.A)(function*(){try{const{options:p,provider:_,token:b,access_token:C,nonce:M}=d,k=yield fe(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,body:{provider:_,id_token:b,access_token:C,nonce:M,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Dt}),{data:V,error:ce}=k;if(ce)return l._returnResult({data:{user:null,session:null},error:ce});if(!V||!V.session||!V.user){const we=new gt;return l._returnResult({data:{user:null,session:null},error:we})}return V.session&&(yield l._saveSession(V.session),yield l._notifyAllSubscribers("SIGNED_IN",V.session)),l._returnResult({data:V,error:ce})}catch(p){if(Z(p))return l._returnResult({data:{user:null,session:null},error:p});throw p}})()}signInWithOtp(d){var l=this;return(0,E.A)(function*(){var p,_,b,C,M;try{if("email"in d){const{email:k,options:V}=d;let ce=null,we=null;"pkce"===l.flowType&&([ce,we]=yield zn(l.storage,l.storageKey));const{error:$e}=yield fe(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{email:k,data:null!==(p=V?.data)&&void 0!==p?p:{},create_user:null===(_=V?.shouldCreateUser)||void 0===_||_,gotrue_meta_security:{captcha_token:V?.captchaToken},code_challenge:ce,code_challenge_method:we},redirectTo:V?.emailRedirectTo});return l._returnResult({data:{user:null,session:null},error:$e})}if("phone"in d){const{phone:k,options:V}=d,{data:ce,error:we}=yield fe(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{phone:k,data:null!==(b=V?.data)&&void 0!==b?b:{},create_user:null===(C=V?.shouldCreateUser)||void 0===C||C,gotrue_meta_security:{captcha_token:V?.captchaToken},channel:null!==(M=V?.channel)&&void 0!==M?M:"sms"}});return l._returnResult({data:{user:null,session:null,messageId:ce?.message_id},error:we})}throw new Ct("You must provide either an email or phone number.")}catch(k){if(yield je(l.storage,`${l.storageKey}-code-verifier`),Z(k))return l._returnResult({data:{user:null,session:null},error:k});throw k}})()}verifyOtp(d){var l=this;return(0,E.A)(function*(){var p,_;try{let b,C;"options"in d&&(b=null===(p=d.options)||void 0===p?void 0:p.redirectTo,C=null===(_=d.options)||void 0===_?void 0:_.captchaToken);const{data:M,error:k}=yield fe(l.fetch,"POST",`${l.url}/verify`,{headers:l.headers,body:Object.assign(Object.assign({},d),{gotrue_meta_security:{captcha_token:C}}),redirectTo:b,xform:Dt});if(k)throw k;if(!M)throw new Error("An error occurred on token verification.");const V=M.session,ce=M.user;return V?.access_token&&(yield l._saveSession(V),yield l._notifyAllSubscribers("recovery"==d.type?"PASSWORD_RECOVERY":"SIGNED_IN",V)),l._returnResult({data:{user:ce,session:V},error:null})}catch(b){if(Z(b))return l._returnResult({data:{user:null,session:null},error:b});throw b}})()}signInWithSSO(d){var l=this;return(0,E.A)(function*(){var p,_,b,C,M;try{let k=null,V=null;"pkce"===l.flowType&&([k,V]=yield zn(l.storage,l.storageKey));const ce=yield fe(l.fetch,"POST",`${l.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in d?{provider_id:d.providerId}:null),"domain"in d?{domain:d.domain}:null),{redirect_to:null!==(_=null===(p=d.options)||void 0===p?void 0:p.redirectTo)&&void 0!==_?_:void 0}),null!==(b=d?.options)&&void 0!==b&&b.captchaToken?{gotrue_meta_security:{captcha_token:d.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:k,code_challenge_method:V}),headers:l.headers,xform:mt});return!(null===(C=ce.data)||void 0===C)&&C.url&&U()&&!(null!==(M=d.options)&&void 0!==M&&M.skipBrowserRedirect)&&window.location.assign(ce.data.url),l._returnResult(ce)}catch(k){if(yield je(l.storage,`${l.storageKey}-code-verifier`),Z(k))return l._returnResult({data:null,error:k});throw k}})()}reauthenticate(){var d=this;return(0,E.A)(function*(){return yield d.initializePromise,yield d._acquireLock(-1,(0,E.A)(function*(){return yield d._reauthenticate()}))})()}_reauthenticate(){var d=this;return(0,E.A)(function*(){try{return yield d._useSession(function(){var l=(0,E.A)(function*(p){const{data:{session:_},error:b}=p;if(b)throw b;if(!_)throw new at;const{error:C}=yield fe(d.fetch,"GET",`${d.url}/reauthenticate`,{headers:d.headers,jwt:_.access_token});return d._returnResult({data:{user:null,session:null},error:C})});return function(p){return l.apply(this,arguments)}}())}catch(l){if(Z(l))return d._returnResult({data:{user:null,session:null},error:l});throw l}})()}resend(d){var l=this;return(0,E.A)(function*(){try{const p=`${l.url}/resend`;if("email"in d){const{email:_,type:b,options:C}=d,{error:M}=yield fe(l.fetch,"POST",p,{headers:l.headers,body:{email:_,type:b,gotrue_meta_security:{captcha_token:C?.captchaToken}},redirectTo:C?.emailRedirectTo});return l._returnResult({data:{user:null,session:null},error:M})}if("phone"in d){const{phone:_,type:b,options:C}=d,{data:M,error:k}=yield fe(l.fetch,"POST",p,{headers:l.headers,body:{phone:_,type:b,gotrue_meta_security:{captcha_token:C?.captchaToken}}});return l._returnResult({data:{user:null,session:null,messageId:M?.message_id},error:k})}throw new Ct("You must provide either an email or phone number and a type")}catch(p){if(Z(p))return l._returnResult({data:{user:null,session:null},error:p});throw p}})()}getSession(){var d=this;return(0,E.A)(function*(){return yield d.initializePromise,yield d._acquireLock(-1,(0,E.A)(function*(){return d._useSession(function(){var p=(0,E.A)(function*(_){return _});return function(_){return p.apply(this,arguments)}}())}))})()}_acquireLock(d,l){var p=this;return(0,E.A)(function*(){p._debug("#_acquireLock","begin",d);try{if(p.lockAcquired){const _=p.pendingInLock.length?p.pendingInLock[p.pendingInLock.length-1]:Promise.resolve(),b=(0,E.A)(function*(){return yield _,yield l()})();return p.pendingInLock.push((0,E.A)(function*(){try{yield b}catch{}})()),b}return yield p.lock(`lock:${p.storageKey}`,d,(0,E.A)(function*(){p._debug("#_acquireLock","lock acquired for storage key",p.storageKey);try{p.lockAcquired=!0;const _=l();for(p.pendingInLock.push((0,E.A)(function*(){try{yield _}catch{}})()),yield _;p.pendingInLock.length;){const b=[...p.pendingInLock];yield Promise.all(b),p.pendingInLock.splice(0,b.length)}return yield _}finally{p._debug("#_acquireLock","lock released for storage key",p.storageKey),p.lockAcquired=!1}}))}finally{p._debug("#_acquireLock","end")}})()}_useSession(d){var l=this;return(0,E.A)(function*(){l._debug("#_useSession","begin");try{const p=yield l.__loadSession();return yield d(p)}finally{l._debug("#_useSession","end")}})()}__loadSession(){var d=this;return(0,E.A)(function*(){d._debug("#__loadSession()","begin"),d.lockAcquired||d._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let l=null;const p=yield Re(d.storage,d.storageKey);if(d._debug("#getSession()","session from storage",p),null!==p&&(d._isValidSession(p)?l=p:(d._debug("#getSession()","session from storage is not valid"),yield d._removeSession())),!l)return{data:{session:null},error:null};const _=!!l.expires_at&&1e3*l.expires_at-Date.now()<x;if(d._debug("#__loadSession()",`session has${_?"":" not"} expired`,"expires_at",l.expires_at),!_){if(d.userStorage){const M=yield Re(d.userStorage,d.storageKey+"-user");l.user=M?.user?M.user:m()}if(d.storage.isServer&&l.user&&!l.user.__isUserNotAvailableProxy){const M={value:d.suppressGetSessionWarning};l.user=function v(y,w){return new Proxy(y,{get:(d,l,p)=>{if("__isInsecureUserWarningProxy"===l)return!0;if("symbol"==typeof l){const _=l.toString();if("Symbol(Symbol.toPrimitive)"===_||"Symbol(Symbol.toStringTag)"===_||"Symbol(util.inspect.custom)"===_||"Symbol(nodejs.util.inspect.custom)"===_)return Reflect.get(d,l,p)}return!w.value&&"string"==typeof l&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),w.value=!0),Reflect.get(d,l,p)}})}(l.user,M),M.value&&(d.suppressGetSessionWarning=!0)}return{data:{session:l},error:null}}const{data:b,error:C}=yield d._callRefreshToken(l.refresh_token);return d._returnResult(C?{data:{session:null},error:C}:{data:{session:b},error:null})}finally{d._debug("#__loadSession()","end")}})()}getUser(d){var l=this;return(0,E.A)(function*(){if(d)return yield l._getUser(d);yield l.initializePromise;const p=yield l._acquireLock(-1,(0,E.A)(function*(){return yield l._getUser()}));return p.data.user&&(l.suppressGetSessionWarning=!0),p})()}_getUser(d){var l=this;return(0,E.A)(function*(){try{return d?yield fe(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:d,xform:rr}):yield l._useSession(function(){var p=(0,E.A)(function*(_){var b,C,M;const{data:k,error:V}=_;if(V)throw V;return null!==(b=k.session)&&void 0!==b&&b.access_token||l.hasCustomAuthorizationHeader?yield fe(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:null!==(M=null===(C=k.session)||void 0===C?void 0:C.access_token)&&void 0!==M?M:void 0,xform:rr}):{data:{user:null},error:new at}});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return Pt(p)&&(yield l._removeSession(),yield je(l.storage,`${l.storageKey}-code-verifier`)),l._returnResult({data:{user:null},error:p});throw p}})()}updateUser(d){var l=this;return(0,E.A)(function*(p,_={}){return yield l.initializePromise,yield l._acquireLock(-1,(0,E.A)(function*(){return yield l._updateUser(p,_)}))}).apply(this,arguments)}_updateUser(d){var l=this;return(0,E.A)(function*(p,_={}){try{return yield l._useSession(function(){var b=(0,E.A)(function*(C){const{data:M,error:k}=C;if(k)throw k;if(!M.session)throw new at;const V=M.session;let ce=null,we=null;"pkce"===l.flowType&&null!=p.email&&([ce,we]=yield zn(l.storage,l.storageKey));const{data:$e,error:Ie}=yield fe(l.fetch,"PUT",`${l.url}/user`,{headers:l.headers,redirectTo:_?.emailRedirectTo,body:Object.assign(Object.assign({},p),{code_challenge:ce,code_challenge_method:we}),jwt:V.access_token,xform:rr});if(Ie)throw Ie;return V.user=$e.user,yield l._saveSession(V),yield l._notifyAllSubscribers("USER_UPDATED",V),l._returnResult({data:{user:V.user},error:null})});return function(C){return b.apply(this,arguments)}}())}catch(b){if(yield je(l.storage,`${l.storageKey}-code-verifier`),Z(b))return l._returnResult({data:{user:null},error:b});throw b}}).apply(this,arguments)}setSession(d){var l=this;return(0,E.A)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,E.A)(function*(){return yield l._setSession(d)}))})()}_setSession(d){var l=this;return(0,E.A)(function*(){try{if(!d.access_token||!d.refresh_token)throw new at;const p=Date.now()/1e3;let _=p,b=!0,C=null;const{payload:M}=Le(d.access_token);if(M.exp&&(_=M.exp,b=_<=p),b){const{data:k,error:V}=yield l._callRefreshToken(d.refresh_token);if(V)return l._returnResult({data:{user:null,session:null},error:V});if(!k)return{data:{user:null,session:null},error:null};C=k}else{const{data:k,error:V}=yield l._getUser(d.access_token);if(V)throw V;C={access_token:d.access_token,refresh_token:d.refresh_token,user:k.user,token_type:"bearer",expires_in:_-p,expires_at:_},yield l._saveSession(C),yield l._notifyAllSubscribers("SIGNED_IN",C)}return l._returnResult({data:{user:C.user,session:C},error:null})}catch(p){if(Z(p))return l._returnResult({data:{session:null,user:null},error:p});throw p}})()}refreshSession(d){var l=this;return(0,E.A)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,E.A)(function*(){return yield l._refreshSession(d)}))})()}_refreshSession(d){var l=this;return(0,E.A)(function*(){try{return yield l._useSession(function(){var p=(0,E.A)(function*(_){var b;if(!d){const{data:k,error:V}=_;if(V)throw V;d=null!==(b=k.session)&&void 0!==b?b:void 0}if(!d?.refresh_token)throw new at;const{data:C,error:M}=yield l._callRefreshToken(d.refresh_token);return l._returnResult(M?{data:{user:null,session:null},error:M}:C?{data:{user:C.user,session:C},error:null}:{data:{user:null,session:null},error:null})});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return l._returnResult({data:{user:null,session:null},error:p});throw p}})()}_getSessionFromURL(d,l){var p=this;return(0,E.A)(function*(){try{if(!U())throw new Bt("No browser detected.");if(d.error||d.error_description||d.error_code)throw new Bt(d.error_description||"Error in URL with unspecified error_description",{error:d.error||"unspecified_error",code:d.error_code||"unspecified_code"});switch(l){case"implicit":if("pkce"===p.flowType)throw new ln("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===p.flowType)throw new Bt("Not a valid implicit grant flow url.")}if("pkce"===l){if(p._debug("#_initialize()","begin","is PKCE flow",!0),!d.code)throw new ln("No code detected.");const{data:nt,error:Ge}=yield p._exchangeCodeForSession(d.code);if(Ge)throw Ge;const be=new URL(window.location.href);return be.searchParams.delete("code"),window.history.replaceState(window.history.state,"",be.toString()),{data:{session:nt.session,redirectType:null},error:null}}const{provider_token:_,provider_refresh_token:b,access_token:C,refresh_token:M,expires_in:k,expires_at:V,token_type:ce}=d;if(!(C&&k&&M&&ce))throw new Bt("No session defined in URL");const we=Math.round(Date.now()/1e3),$e=parseInt(k);let Ie=we+$e;V&&(Ie=parseInt(V));const Xe=Ie-we;1e3*Xe<=Pe&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Xe}s, should have been closer to ${$e}s`);const lt=Ie-$e;we-lt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",lt,Ie,we):we-lt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",lt,Ie,we);const{data:vt,error:Mt}=yield p._getUser(C);if(Mt)throw Mt;const Rt={provider_token:_,provider_refresh_token:b,access_token:C,expires_in:$e,expires_at:Ie,refresh_token:M,token_type:ce,user:vt.user};return window.location.hash="",p._debug("#_getSessionFromURL()","clearing window.location.hash"),p._returnResult({data:{session:Rt,redirectType:d.type},error:null})}catch(_){if(Z(_))return p._returnResult({data:{session:null,redirectType:null},error:_});throw _}})()}_isImplicitGrantCallback(d){return!(!d.access_token&&!d.error_description)}_isPKCECallback(d){var l=this;return(0,E.A)(function*(){const p=yield Re(l.storage,`${l.storageKey}-code-verifier`);return!(!d.code||!p)})()}signOut(){var d=this;return(0,E.A)(function*(l={scope:"global"}){return yield d.initializePromise,yield d._acquireLock(-1,(0,E.A)(function*(){return yield d._signOut(l)}))}).apply(this,arguments)}_signOut(){var d=this;return(0,E.A)(function*({scope:l}={scope:"global"}){return yield d._useSession(function(){var p=(0,E.A)(function*(_){var b;const{data:C,error:M}=_;if(M)return d._returnResult({error:M});const k=null===(b=C.session)||void 0===b?void 0:b.access_token;if(k){const{error:V}=yield d.admin.signOut(k,l);if(V&&(!Ke(V)||404!==V.status&&401!==V.status&&403!==V.status))return d._returnResult({error:V})}return"others"!==l&&(yield d._removeSession(),yield je(d.storage,`${d.storageKey}-code-verifier`)),d._returnResult({error:null})});return function(_){return p.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(d){var l=this;const p=function T(){return Symbol("auth-callback")}(),_={id:p,callback:d,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",p),this.stateChangeEmitters.delete(p)}};return this._debug("#onAuthStateChange()","registered callback with id",p),this.stateChangeEmitters.set(p,_),(0,E.A)(function*(){yield l.initializePromise,yield l._acquireLock(-1,(0,E.A)(function*(){l._emitInitialSession(p)}))})(),{data:{subscription:_}}}_emitInitialSession(d){var l=this;return(0,E.A)(function*(){return yield l._useSession(function(){var p=(0,E.A)(function*(_){var b,C;try{const{data:{session:M},error:k}=_;if(k)throw k;yield null===(b=l.stateChangeEmitters.get(d))||void 0===b?void 0:b.callback("INITIAL_SESSION",M),l._debug("INITIAL_SESSION","callback id",d,"session",M)}catch(M){yield null===(C=l.stateChangeEmitters.get(d))||void 0===C?void 0:C.callback("INITIAL_SESSION",null),l._debug("INITIAL_SESSION","callback id",d,"error",M),console.error(M)}});return function(_){return p.apply(this,arguments)}}())})()}resetPasswordForEmail(d){var l=this;return(0,E.A)(function*(p,_={}){let b=null,C=null;"pkce"===l.flowType&&([b,C]=yield zn(l.storage,l.storageKey,!0));try{return yield fe(l.fetch,"POST",`${l.url}/recover`,{body:{email:p,code_challenge:b,code_challenge_method:C,gotrue_meta_security:{captcha_token:_.captchaToken}},headers:l.headers,redirectTo:_.redirectTo})}catch(M){if(yield je(l.storage,`${l.storageKey}-code-verifier`),Z(M))return l._returnResult({data:null,error:M});throw M}}).apply(this,arguments)}getUserIdentities(){var d=this;return(0,E.A)(function*(){var l;try{const{data:p,error:_}=yield d.getUser();if(_)throw _;return d._returnResult({data:{identities:null!==(l=p.user.identities)&&void 0!==l?l:[]},error:null})}catch(p){if(Z(p))return d._returnResult({data:null,error:p});throw p}})()}linkIdentity(d){var l=this;return(0,E.A)(function*(){return"token"in d?l.linkIdentityIdToken(d):l.linkIdentityOAuth(d)})()}linkIdentityOAuth(d){var l=this;return(0,E.A)(function*(){var p;try{const{data:_,error:b}=yield l._useSession(function(){var C=(0,E.A)(function*(M){var k,V,ce,we,$e;const{data:Ie,error:Xe}=M;if(Xe)throw Xe;const lt=yield l._getUrlForProvider(`${l.url}/user/identities/authorize`,d.provider,{redirectTo:null===(k=d.options)||void 0===k?void 0:k.redirectTo,scopes:null===(V=d.options)||void 0===V?void 0:V.scopes,queryParams:null===(ce=d.options)||void 0===ce?void 0:ce.queryParams,skipBrowserRedirect:!0});return yield fe(l.fetch,"GET",lt,{headers:l.headers,jwt:null!==($e=null===(we=Ie.session)||void 0===we?void 0:we.access_token)&&void 0!==$e?$e:void 0})});return function(M){return C.apply(this,arguments)}}());if(b)throw b;return U()&&!(null!==(p=d.options)&&void 0!==p&&p.skipBrowserRedirect)&&window.location.assign(_?.url),l._returnResult({data:{provider:d.provider,url:_?.url},error:null})}catch(_){if(Z(_))return l._returnResult({data:{provider:d.provider,url:null},error:_});throw _}})()}linkIdentityIdToken(d){var l=this;return(0,E.A)(function*(){return yield l._useSession(function(){var p=(0,E.A)(function*(_){var b;try{const{error:C,data:{session:M}}=_;if(C)throw C;const{options:k,provider:V,token:ce,access_token:we,nonce:$e}=d,Ie=yield fe(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,jwt:null!==(b=M?.access_token)&&void 0!==b?b:void 0,body:{provider:V,id_token:ce,access_token:we,nonce:$e,link_identity:!0,gotrue_meta_security:{captcha_token:k?.captchaToken}},xform:Dt}),{data:Xe,error:lt}=Ie;return lt?l._returnResult({data:{user:null,session:null},error:lt}):Xe&&Xe.session&&Xe.user?(Xe.session&&(yield l._saveSession(Xe.session),yield l._notifyAllSubscribers("USER_UPDATED",Xe.session)),l._returnResult({data:Xe,error:lt})):l._returnResult({data:{user:null,session:null},error:new gt})}catch(C){if(yield je(l.storage,`${l.storageKey}-code-verifier`),Z(C))return l._returnResult({data:{user:null,session:null},error:C});throw C}});return function(_){return p.apply(this,arguments)}}())})()}unlinkIdentity(d){var l=this;return(0,E.A)(function*(){try{return yield l._useSession(function(){var p=(0,E.A)(function*(_){var b,C;const{data:M,error:k}=_;if(k)throw k;return yield fe(l.fetch,"DELETE",`${l.url}/user/identities/${d.identity_id}`,{headers:l.headers,jwt:null!==(C=null===(b=M.session)||void 0===b?void 0:b.access_token)&&void 0!==C?C:void 0})});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return l._returnResult({data:null,error:p});throw p}})()}_refreshAccessToken(d){var l=this;return(0,E.A)(function*(){const p=`#_refreshAccessToken(${d.substring(0,5)}...)`;l._debug(p,"begin");try{const _=Date.now();return yield function Ht(y,w){return new Promise((l,p)=>{(0,E.A)(function*(){for(let _=0;_<1/0;_++)try{const b=yield y(_);if(!w(_,null,b))return void l(b)}catch(b){if(!w(_,b))return void p(b)}})()})}(function(){var b=(0,E.A)(function*(C){return C>0&&(yield function ot(y){return _t.apply(this,arguments)}(200*Math.pow(2,C-1))),l._debug(p,"refreshing attempt",C),yield fe(l.fetch,"POST",`${l.url}/token?grant_type=refresh_token`,{body:{refresh_token:d},headers:l.headers,xform:Dt})});return function(C){return b.apply(this,arguments)}}(),(b,C)=>{const M=200*Math.pow(2,b);return C&&Ze(C)&&Date.now()+M-_<Pe})}catch(_){if(l._debug(p,"error",_),Z(_))return l._returnResult({data:{session:null,user:null},error:_});throw _}finally{l._debug(p,"end")}})()}_isValidSession(d){return"object"==typeof d&&null!==d&&"access_token"in d&&"refresh_token"in d&&"expires_at"in d}_handleProviderSignIn(d,l){var p=this;return(0,E.A)(function*(){const _=yield p._getUrlForProvider(`${p.url}/authorize`,d,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return p._debug("#_handleProviderSignIn()","provider",d,"options",l,"url",_),U()&&!l.skipBrowserRedirect&&window.location.assign(_),{data:{provider:d,url:_},error:null}})()}_recoverAndRefresh(){var d=this;return(0,E.A)(function*(){var l,p;const _="#_recoverAndRefresh()";d._debug(_,"begin");try{const b=yield Re(d.storage,d.storageKey);if(b&&d.userStorage){let M=yield Re(d.userStorage,d.storageKey+"-user");!d.storage.isServer&&Object.is(d.storage,d.userStorage)&&!M&&(M={user:b.user},yield ke(d.userStorage,d.storageKey+"-user",M)),b.user=null!==(l=M?.user)&&void 0!==l?l:m()}else if(b&&!b.user&&!b.user){const M=yield Re(d.storage,d.storageKey+"-user");M&&M?.user?(b.user=M.user,yield je(d.storage,d.storageKey+"-user"),yield ke(d.storage,d.storageKey,b)):b.user=m()}if(d._debug(_,"session from storage",b),!d._isValidSession(b))return d._debug(_,"session is not valid"),void(null!==b&&(yield d._removeSession()));const C=1e3*(null!==(p=b.expires_at)&&void 0!==p?p:1/0)-Date.now()<x;if(d._debug(_,`session has${C?"":" not"} expired with margin of ${x}s`),C){if(d.autoRefreshToken&&b.refresh_token){const{error:M}=yield d._callRefreshToken(b.refresh_token);M&&(console.error(M),Ze(M)||(d._debug(_,"refresh failed with a non-retryable error, removing the session",M),yield d._removeSession()))}}else if(b.user&&!0===b.user.__isUserNotAvailableProxy)try{const{data:M,error:k}=yield d._getUser(b.access_token);!k&&M?.user?(b.user=M.user,yield d._saveSession(b),yield d._notifyAllSubscribers("SIGNED_IN",b)):d._debug(_,"could not get user data, skipping SIGNED_IN notification")}catch(M){console.error("Error getting user data:",M),d._debug(_,"error getting user data, skipping SIGNED_IN notification",M)}else yield d._notifyAllSubscribers("SIGNED_IN",b)}catch(b){return d._debug(_,"error",b),void console.error(b)}finally{d._debug(_,"end")}})()}_callRefreshToken(d){var l=this;return(0,E.A)(function*(){var p,_;if(!d)throw new at;if(l.refreshingDeferred)return l.refreshingDeferred.promise;const b=`#_callRefreshToken(${d.substring(0,5)}...)`;l._debug(b,"begin");try{l.refreshingDeferred=new Qe;const{data:C,error:M}=yield l._refreshAccessToken(d);if(M)throw M;if(!C.session)throw new at;yield l._saveSession(C.session),yield l._notifyAllSubscribers("TOKEN_REFRESHED",C.session);const k={data:C.session,error:null};return l.refreshingDeferred.resolve(k),k}catch(C){if(l._debug(b,"error",C),Z(C)){const M={data:null,error:C};return Ze(C)||(yield l._removeSession()),null===(p=l.refreshingDeferred)||void 0===p||p.resolve(M),M}throw null===(_=l.refreshingDeferred)||void 0===_||_.reject(C),C}finally{l.refreshingDeferred=null,l._debug(b,"end")}})()}_notifyAllSubscribers(d,l){var p=this;return(0,E.A)(function*(_,b,C=!0){const M=`#_notifyAllSubscribers(${_})`;p._debug(M,"begin",b,`broadcast = ${C}`);try{p.broadcastChannel&&C&&p.broadcastChannel.postMessage({event:_,session:b});const k=[],V=Array.from(p.stateChangeEmitters.values()).map(function(){var ce=(0,E.A)(function*(we){try{yield we.callback(_,b)}catch($e){k.push($e)}});return function(we){return ce.apply(this,arguments)}}());if(yield Promise.all(V),k.length>0){for(let ce=0;ce<k.length;ce+=1)console.error(k[ce]);throw k[0]}}finally{p._debug(M,"end")}}).apply(this,arguments)}_saveSession(d){var l=this;return(0,E.A)(function*(){l._debug("#_saveSession()",d),l.suppressGetSessionWarning=!0,yield je(l.storage,`${l.storageKey}-code-verifier`);const p=Object.assign({},d);if(l.userStorage){(!p.user||!0!==p.user.__isUserNotAvailableProxy)&&p.user&&(yield ke(l.userStorage,l.storageKey+"-user",{user:p.user}));const b=Object.assign({},p);delete b.user;const C=O(b);yield ke(l.storage,l.storageKey,C)}else{const b=O(p);yield ke(l.storage,l.storageKey,b)}})()}_removeSession(){var d=this;return(0,E.A)(function*(){d._debug("#_removeSession()"),d.suppressGetSessionWarning=!1,yield je(d.storage,d.storageKey),yield je(d.storage,d.storageKey+"-code-verifier"),yield je(d.storage,d.storageKey+"-user"),d.userStorage&&(yield je(d.userStorage,d.storageKey+"-user")),yield d._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const d=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{d&&U()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",d)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){var d=this;return(0,E.A)(function*(){yield d._stopAutoRefresh(),d._debug("#_startAutoRefresh()");const l=setInterval(()=>d._autoRefreshTokenTick(),Pe);d.autoRefreshTicker=l,l&&"object"==typeof l&&"function"==typeof l.unref?l.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(l),setTimeout((0,E.A)(function*(){yield d.initializePromise,yield d._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var d=this;return(0,E.A)(function*(){d._debug("#_stopAutoRefresh()");const l=d.autoRefreshTicker;d.autoRefreshTicker=null,l&&clearInterval(l)})()}startAutoRefresh(){var d=this;return(0,E.A)(function*(){d._removeVisibilityChangedCallback(),yield d._startAutoRefresh()})()}stopAutoRefresh(){var d=this;return(0,E.A)(function*(){d._removeVisibilityChangedCallback(),yield d._stopAutoRefresh()})()}_autoRefreshTokenTick(){var d=this;return(0,E.A)(function*(){d._debug("#_autoRefreshTokenTick()","begin");try{yield d._acquireLock(0,(0,E.A)(function*(){try{const l=Date.now();try{return yield d._useSession(function(){var p=(0,E.A)(function*(_){const{data:{session:b}}=_;if(!b||!b.refresh_token||!b.expires_at)return void d._debug("#_autoRefreshTokenTick()","no session");const C=Math.floor((1e3*b.expires_at-l)/Pe);d._debug("#_autoRefreshTokenTick()",`access token expires in ${C} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),C<=3&&(yield d._callRefreshToken(b.refresh_token))});return function(_){return p.apply(this,arguments)}}())}catch(p){console.error("Auto refresh tick failed with error. This is likely a transient error.",p)}}finally{d._debug("#_autoRefreshTokenTick()","end")}}))}catch(l){if(!(l.isAcquireTimeout||l instanceof Jr))throw l;d._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var d=this;return(0,E.A)(function*(){if(d._debug("#_handleVisibilityChange()"),!U()||!window?.addEventListener)return d.autoRefreshToken&&d.startAutoRefresh(),!1;try{d.visibilityChangedCallback=(0,E.A)(function*(){return yield d._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",d.visibilityChangedCallback),yield d._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}})()}_onVisibilityChanged(d){var l=this;return(0,E.A)(function*(){const p=`#_onVisibilityChanged(${d})`;l._debug(p,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(l.autoRefreshToken&&l._startAutoRefresh(),d||(yield l.initializePromise,yield l._acquireLock(-1,(0,E.A)(function*(){"visible"===document.visibilityState?yield l._recoverAndRefresh():l._debug(p,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&l.autoRefreshToken&&l._stopAutoRefresh()})()}_getUrlForProvider(d,l,p){var _=this;return(0,E.A)(function*(){const b=[`provider=${encodeURIComponent(l)}`];if(p?.redirectTo&&b.push(`redirect_to=${encodeURIComponent(p.redirectTo)}`),p?.scopes&&b.push(`scopes=${encodeURIComponent(p.scopes)}`),"pkce"===_.flowType){const[C,M]=yield zn(_.storage,_.storageKey),k=new URLSearchParams({code_challenge:`${encodeURIComponent(C)}`,code_challenge_method:`${encodeURIComponent(M)}`});b.push(k.toString())}if(p?.queryParams){const C=new URLSearchParams(p.queryParams);b.push(C.toString())}return p?.skipBrowserRedirect&&b.push(`skip_http_redirect=${p.skipBrowserRedirect}`),`${d}?${b.join("&")}`})()}_unenroll(d){var l=this;return(0,E.A)(function*(){try{return yield l._useSession(function(){var p=(0,E.A)(function*(_){var b;const{data:C,error:M}=_;return M?l._returnResult({data:null,error:M}):yield fe(l.fetch,"DELETE",`${l.url}/factors/${d.factorId}`,{headers:l.headers,jwt:null===(b=C?.session)||void 0===b?void 0:b.access_token})});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return l._returnResult({data:null,error:p});throw p}})()}_enroll(d){var l=this;return(0,E.A)(function*(){try{return yield l._useSession(function(){var p=(0,E.A)(function*(_){var b,C;const{data:M,error:k}=_;if(k)return l._returnResult({data:null,error:k});const V=Object.assign({friendly_name:d.friendlyName,factor_type:d.factorType},"phone"===d.factorType?{phone:d.phone}:"totp"===d.factorType?{issuer:d.issuer}:{}),{data:ce,error:we}=yield fe(l.fetch,"POST",`${l.url}/factors`,{body:V,headers:l.headers,jwt:null===(b=M?.session)||void 0===b?void 0:b.access_token});return we?l._returnResult({data:null,error:we}):("totp"===d.factorType&&"totp"===ce.type&&!(null===(C=ce?.totp)||void 0===C)&&C.qr_code&&(ce.totp.qr_code=`data:image/svg+xml;utf-8,${ce.totp.qr_code}`),l._returnResult({data:ce,error:null}))});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return l._returnResult({data:null,error:p});throw p}})()}_verify(d){var l=this;return(0,E.A)(function*(){return l._acquireLock(-1,(0,E.A)(function*(){try{return yield l._useSession(function(){var p=(0,E.A)(function*(_){var b;const{data:C,error:M}=_;if(M)return l._returnResult({data:null,error:M});const k=Object.assign({challenge_id:d.challengeId},"webauthn"in d?{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_response:"create"===d.webauthn.type?Wm(d.webauthn.credential_response):Km(d.webauthn.credential_response)})}:{code:d.code}),{data:V,error:ce}=yield fe(l.fetch,"POST",`${l.url}/factors/${d.factorId}/verify`,{body:k,headers:l.headers,jwt:null===(b=C?.session)||void 0===b?void 0:b.access_token});return ce?l._returnResult({data:null,error:ce}):(yield l._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+V.expires_in},V)),yield l._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",V),l._returnResult({data:V,error:ce}))});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return l._returnResult({data:null,error:p});throw p}}))})()}_challenge(d){var l=this;return(0,E.A)(function*(){return l._acquireLock(-1,(0,E.A)(function*(){try{return yield l._useSession(function(){var p=(0,E.A)(function*(_){var b;const{data:C,error:M}=_;if(M)return l._returnResult({data:null,error:M});const k=yield fe(l.fetch,"POST",`${l.url}/factors/${d.factorId}/challenge`,{body:d,headers:l.headers,jwt:null===(b=C?.session)||void 0===b?void 0:b.access_token});if(k.error)return k;const{data:V}=k;if("webauthn"!==V.type)return{data:V,error:null};switch(V.webauthn.type){case"create":return{data:Object.assign(Object.assign({},V),{webauthn:Object.assign(Object.assign({},V.webauthn),{credential_options:Object.assign(Object.assign({},V.webauthn.credential_options),{publicKey:qm(V.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},V),{webauthn:Object.assign(Object.assign({},V.webauthn),{credential_options:Object.assign(Object.assign({},V.webauthn.credential_options),{publicKey:Zr(V.webauthn.credential_options.publicKey)})})}),error:null}}});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return l._returnResult({data:null,error:p});throw p}}))})()}_challengeAndVerify(d){var l=this;return(0,E.A)(function*(){const{data:p,error:_}=yield l._challenge({factorId:d.factorId});return _?l._returnResult({data:null,error:_}):yield l._verify({factorId:d.factorId,challengeId:p.id,code:d.code})})()}_listFactors(){var d=this;return(0,E.A)(function*(){var l;const{data:{user:p},error:_}=yield d.getUser();if(_)return{data:null,error:_};const b={all:[],phone:[],totp:[],webauthn:[]};for(const C of null!==(l=p?.factors)&&void 0!==l?l:[])b.all.push(C),"verified"===C.status&&b[C.factor_type].push(C);return{data:b,error:null}})()}_getAuthenticatorAssuranceLevel(){var d=this;return(0,E.A)(function*(){var l,p;const{data:{session:_},error:b}=yield d.getSession();if(b)return d._returnResult({data:null,error:b});if(!_)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:C}=Le(_.access_token);let M=null;C.aal&&(M=C.aal);let k=M;return(null!==(p=null===(l=_.user.factors)||void 0===l?void 0:l.filter(we=>"verified"===we.status))&&void 0!==p?p:[]).length>0&&(k="aal2"),{data:{currentLevel:M,nextLevel:k,currentAuthenticationMethods:C.amr||[]},error:null}})()}_getAuthorizationDetails(d){var l=this;return(0,E.A)(function*(){try{return yield l._useSession(function(){var p=(0,E.A)(function*(_){const{data:{session:b},error:C}=_;return C?l._returnResult({data:null,error:C}):b?yield fe(l.fetch,"GET",`${l.url}/oauth/authorizations/${d}`,{headers:l.headers,jwt:b.access_token,xform:M=>({data:M,error:null})}):l._returnResult({data:null,error:new at})});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return l._returnResult({data:null,error:p});throw p}})()}_approveAuthorization(d,l){var p=this;return(0,E.A)(function*(){try{return yield p._useSession(function(){var _=(0,E.A)(function*(b){const{data:{session:C},error:M}=b;if(M)return p._returnResult({data:null,error:M});if(!C)return p._returnResult({data:null,error:new at});const k=yield fe(p.fetch,"POST",`${p.url}/oauth/authorizations/${d}/consent`,{headers:p.headers,jwt:C.access_token,body:{action:"approve"},xform:V=>({data:V,error:null})});return k.data&&k.data.redirect_url&&U()&&!l?.skipBrowserRedirect&&window.location.assign(k.data.redirect_url),k});return function(b){return _.apply(this,arguments)}}())}catch(_){if(Z(_))return p._returnResult({data:null,error:_});throw _}})()}_denyAuthorization(d,l){var p=this;return(0,E.A)(function*(){try{return yield p._useSession(function(){var _=(0,E.A)(function*(b){const{data:{session:C},error:M}=b;if(M)return p._returnResult({data:null,error:M});if(!C)return p._returnResult({data:null,error:new at});const k=yield fe(p.fetch,"POST",`${p.url}/oauth/authorizations/${d}/consent`,{headers:p.headers,jwt:C.access_token,body:{action:"deny"},xform:V=>({data:V,error:null})});return k.data&&k.data.redirect_url&&U()&&!l?.skipBrowserRedirect&&window.location.assign(k.data.redirect_url),k});return function(b){return _.apply(this,arguments)}}())}catch(_){if(Z(_))return p._returnResult({data:null,error:_});throw _}})()}_listOAuthGrants(){var d=this;return(0,E.A)(function*(){try{return yield d._useSession(function(){var l=(0,E.A)(function*(p){const{data:{session:_},error:b}=p;return b?d._returnResult({data:null,error:b}):_?yield fe(d.fetch,"GET",`${d.url}/user/oauth/grants`,{headers:d.headers,jwt:_.access_token,xform:C=>({data:C,error:null})}):d._returnResult({data:null,error:new at})});return function(p){return l.apply(this,arguments)}}())}catch(l){if(Z(l))return d._returnResult({data:null,error:l});throw l}})()}_revokeOAuthGrant(d){var l=this;return(0,E.A)(function*(){try{return yield l._useSession(function(){var p=(0,E.A)(function*(_){const{data:{session:b},error:C}=_;return C?l._returnResult({data:null,error:C}):b?(yield fe(l.fetch,"DELETE",`${l.url}/user/oauth/grants`,{headers:l.headers,jwt:b.access_token,query:{client_id:d.clientId},noResolveJson:!0}),{data:{},error:null}):l._returnResult({data:null,error:new at})});return function(_){return p.apply(this,arguments)}}())}catch(p){if(Z(p))return l._returnResult({data:null,error:p});throw p}})()}fetchJwk(d){var l=this;return(0,E.A)(function*(p,_={keys:[]}){let b=_.keys.find(V=>V.kid===p);if(b)return b;const C=Date.now();if(b=l.jwks.keys.find(V=>V.kid===p),b&&l.jwks_cached_at+6e5>C)return b;const{data:M,error:k}=yield fe(l.fetch,"GET",`${l.url}/.well-known/jwks.json`,{headers:l.headers});if(k)throw k;return M.keys&&0!==M.keys.length&&(l.jwks=M,l.jwks_cached_at=C,b=M.keys.find(V=>V.kid===p),b)?b:null}).apply(this,arguments)}getClaims(d){var l=this;return(0,E.A)(function*(p,_={}){try{let b=p;if(!b){const{data:lt,error:vt}=yield l.getSession();if(vt||!lt.session)return l._returnResult({data:null,error:vt});b=lt.session.access_token}const{header:C,payload:M,signature:k,raw:{header:V,payload:ce}}=Le(b);_?.allowExpired||function Vo(y){if(!y)throw new Error("Missing exp claim");if(y<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(M.exp);const we=C.alg&&!C.alg.startsWith("HS")&&C.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield l.fetchJwk(C.kid,_?.keys?{keys:_.keys}:_?.jwks):null;if(!we){const{error:lt}=yield l.getUser(b);if(lt)throw lt;return{data:{claims:M,header:C,signature:k},error:null}}const $e=function $i(y){switch(y){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(C.alg),Ie=yield crypto.subtle.importKey("jwk",we,$e,!0,["verify"]);if(!(yield crypto.subtle.verify($e,Ie,k,function j(y){const w=[];return function re(y,w){for(let d=0;d<y.length;d+=1){let l=y.charCodeAt(d);if(l>55295&&l<=56319){const p=1024*(l-55296)&65535;l=65536+(y.charCodeAt(d+1)-56320&65535|p),d+=1}G(l,w)}}(y,d=>w.push(d)),new Uint8Array(w)}(`${V}.${ce}`))))throw new wn("Invalid JWT signature");return{data:{claims:M,header:C,signature:k},error:null}}catch(b){if(Z(b))return l._returnResult({data:null,error:b});throw b}}).apply(this,arguments)}}return y.nextInstanceID={},y})(),zd=hr,$o=sl},294:(kt,J,ge)=>{"use strict";ge.r(J),ge.d(J,{FunctionRegion:()=>N,FunctionsClient:()=>ne,FunctionsError:()=>ae,FunctionsFetchError:()=>Pe,FunctionsHttpError:()=>x,FunctionsRelayError:()=>pe});var E=ge(635);class ae extends Error{constructor(se,he="FunctionsError",X){super(se),this.name=he,this.context=X}}class Pe extends ae{constructor(se){super("Failed to send a request to the Edge Function","FunctionsFetchError",se)}}class pe extends ae{constructor(se){super("Relay Error invoking the Edge Function","FunctionsRelayError",se)}}class x extends ae{constructor(se){super("Edge Function returned a non-2xx status code","FunctionsHttpError",se)}}var N=function(le){return le.Any="any",le.ApNortheast1="ap-northeast-1",le.ApNortheast2="ap-northeast-2",le.ApSouth1="ap-south-1",le.ApSoutheast1="ap-southeast-1",le.ApSoutheast2="ap-southeast-2",le.CaCentral1="ca-central-1",le.EuCentral1="eu-central-1",le.EuWest1="eu-west-1",le.EuWest2="eu-west-2",le.EuWest3="eu-west-3",le.SaEast1="sa-east-1",le.UsEast1="us-east-1",le.UsWest1="us-west-1",le.UsWest2="us-west-2",le}(N||{});class ne{constructor(se,{headers:he={},customFetch:X,region:_e=N.Any}={}){var le;this.url=se,this.headers=he,this.region=_e,this.fetch=(le=X)?(...se)=>le(...se):(...se)=>fetch(...se)}setAuth(se){this.headers.Authorization=`Bearer ${se}`}invoke(se){return(0,E.__awaiter)(this,arguments,void 0,function*(he,X={}){var _e;let ue,Oe;try{const{headers:Ae,method:Z,body:Me,signal:Ke,timeout:Te}=X;let Fe={},{region:at}=X;at||(at=this.region);const Pt=new URL(`${this.url}/${he}`);let gt;at&&"any"!==at&&(Fe["x-region"]=at,Pt.searchParams.set("forceFunctionRegion",at)),Me&&(Ae&&!Object.prototype.hasOwnProperty.call(Ae,"Content-Type")||!Ae)?typeof Blob<"u"&&Me instanceof Blob||Me instanceof ArrayBuffer?(Fe["Content-Type"]="application/octet-stream",gt=Me):"string"==typeof Me?(Fe["Content-Type"]="text/plain",gt=Me):typeof FormData<"u"&&Me instanceof FormData?gt=Me:(Fe["Content-Type"]="application/json",gt=JSON.stringify(Me)):gt=Me;let Ct=Ke;Te&&(Oe=new AbortController,ue=setTimeout(()=>Oe.abort(),Te),Ke?(Ct=Oe.signal,Ke.addEventListener("abort",()=>Oe.abort())):Ct=Oe.signal);const Bt=yield this.fetch(Pt.toString(),{method:Z||"POST",headers:Object.assign(Object.assign(Object.assign({},Fe),this.headers),Ae),body:gt,signal:Ct}).catch(Ze=>{throw new Pe(Ze)}),kn=Bt.headers.get("x-relay-error");if(kn&&"true"===kn)throw new pe(Bt);if(!Bt.ok)throw new x(Bt);let sn,ln=(null!==(_e=Bt.headers.get("Content-Type"))&&void 0!==_e?_e:"text/plain").split(";")[0].trim();return sn="application/json"===ln?yield Bt.json():"application/octet-stream"===ln||"application/pdf"===ln?yield Bt.blob():"text/event-stream"===ln?Bt:"multipart/form-data"===ln?yield Bt.formData():yield Bt.text(),{data:sn,error:null,response:Bt}}catch(Ae){return{data:null,error:Ae,response:Ae instanceof x||Ae instanceof pe?Ae.context:void 0}}finally{ue&&clearTimeout(ue)}})}}},958:(kt,J,ge)=>{"use strict";var E=ge(293).default;Object.defineProperty(J,"__esModule",{value:!0});const ae=ge(635).__importDefault(ge(659));J.default=class Pe{constructor(x){var N,ne;this.shouldThrowOnError=!1,this.method=x.method,this.url=x.url,this.headers=new Headers(x.headers),this.schema=x.schema,this.body=x.body,this.shouldThrowOnError=null!==(N=x.shouldThrowOnError)&&void 0!==N&&N,this.signal=x.signal,this.isMaybeSingle=null!==(ne=x.isMaybeSingle)&&void 0!==ne&&ne,this.fetch=x.fetch?x.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(x,N){return this.headers=new Headers(this.headers),this.headers.set(x,N),this}then(x,N){var ne=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let se=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var he=E(function*(X){var _e,ue,Oe,Ae;let Z=null,Me=null,Ke=null,Te=X.status,Fe=X.statusText;if(X.ok){if("HEAD"!==ne.method){const Ct=yield X.text();""===Ct||(Me="text/csv"===ne.headers.get("Accept")||ne.headers.get("Accept")&&null!==(_e=ne.headers.get("Accept"))&&void 0!==_e&&_e.includes("application/vnd.pgrst.plan+text")?Ct:JSON.parse(Ct))}const Pt=null===(ue=ne.headers.get("Prefer"))||void 0===ue?void 0:ue.match(/count=(exact|planned|estimated)/),gt=null===(Oe=X.headers.get("content-range"))||void 0===Oe?void 0:Oe.split("/");Pt&&gt&&gt.length>1&&(Ke=parseInt(gt[1])),ne.isMaybeSingle&&"GET"===ne.method&&Array.isArray(Me)&&(Me.length>1?(Z={code:"PGRST116",details:`Results contain ${Me.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},Me=null,Ke=null,Te=406,Fe="Not Acceptable"):Me=1===Me.length?Me[0]:null)}else{const Pt=yield X.text();try{Z=JSON.parse(Pt),Array.isArray(Z)&&404===X.status&&(Me=[],Z=null,Te=200,Fe="OK")}catch{404===X.status&&""===Pt?(Te=204,Fe="No Content"):Z={message:Pt}}if(Z&&ne.isMaybeSingle&&!(null===(Ae=Z?.details)||void 0===Ae)&&Ae.includes("0 rows")&&(Z=null,Te=200,Fe="OK"),Z&&ne.shouldThrowOnError)throw new ae.default(Z)}return{error:Z,data:Me,count:Ke,status:Te,statusText:Fe}});return function(X){return he.apply(this,arguments)}}());return this.shouldThrowOnError||(se=se.catch(he=>{var X,_e,ue,Oe,Ae,Z;let Me="";const Ke=he?.cause;if(Ke){const Te=null!==(X=Ke?.message)&&void 0!==X?X:"",Fe=null!==(_e=Ke?.code)&&void 0!==_e?_e:"";Me=`${null!==(ue=he?.name)&&void 0!==ue?ue:"FetchError"}: ${he?.message}`,Me+=`\n\nCaused by: ${null!==(Oe=Ke?.name)&&void 0!==Oe?Oe:"Error"}: ${Te}`,Fe&&(Me+=` (${Fe})`),Ke?.stack&&(Me+=`\n${Ke.stack}`)}else Me=null!==(Ae=he?.stack)&&void 0!==Ae?Ae:"";return{error:{message:`${null!==(Z=he?.name)&&void 0!==Z?Z:"FetchError"}: ${he?.message}`,details:Me,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),se.then(x,N)}returns(){return this}overrideTypes(){return this}}},242:(kt,J,ge)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const E=ge(635),Ee=E.__importDefault(ge(666)),ae=E.__importDefault(ge(608));class Pe{constructor(x,{headers:N={},schema:ne,fetch:le}={}){this.url=x,this.headers=new Headers(N),this.schemaName=ne,this.fetch=le}from(x){if(!x||"string"!=typeof x||""===x.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const N=new URL(`${this.url}/${x}`);return new Ee.default(N,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(x){return new Pe(this.url,{headers:this.headers,schema:x,fetch:this.fetch})}rpc(x,N={},{head:ne=!1,get:le=!1,count:se}={}){var he;let X;const _e=new URL(`${this.url}/rpc/${x}`);let ue;ne||le?(X=ne?"HEAD":"GET",Object.entries(N).filter(([Ae,Z])=>void 0!==Z).map(([Ae,Z])=>[Ae,Array.isArray(Z)?`{${Z.join(",")}}`:`${Z}`]).forEach(([Ae,Z])=>{_e.searchParams.append(Ae,Z)})):(X="POST",ue=N);const Oe=new Headers(this.headers);return se&&Oe.set("Prefer",`count=${se}`),new ae.default({method:X,url:_e,headers:Oe,schema:this.schemaName,body:ue,fetch:null!==(he=this.fetch)&&void 0!==he?he:fetch})}}J.default=Pe},659:(kt,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});class ge extends Error{constructor(Ee){super(Ee.message),this.name="PostgrestError",this.details=Ee.details,this.hint=Ee.hint,this.code=Ee.code}}J.default=ge},608:(kt,J,ge)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const Ee=ge(635).__importDefault(ge(342)),ae=new RegExp("[,()]");J.default=class Pe extends Ee.default{eq(x,N){return this.url.searchParams.append(x,`eq.${N}`),this}neq(x,N){return this.url.searchParams.append(x,`neq.${N}`),this}gt(x,N){return this.url.searchParams.append(x,`gt.${N}`),this}gte(x,N){return this.url.searchParams.append(x,`gte.${N}`),this}lt(x,N){return this.url.searchParams.append(x,`lt.${N}`),this}lte(x,N){return this.url.searchParams.append(x,`lte.${N}`),this}like(x,N){return this.url.searchParams.append(x,`like.${N}`),this}likeAllOf(x,N){return this.url.searchParams.append(x,`like(all).{${N.join(",")}}`),this}likeAnyOf(x,N){return this.url.searchParams.append(x,`like(any).{${N.join(",")}}`),this}ilike(x,N){return this.url.searchParams.append(x,`ilike.${N}`),this}ilikeAllOf(x,N){return this.url.searchParams.append(x,`ilike(all).{${N.join(",")}}`),this}ilikeAnyOf(x,N){return this.url.searchParams.append(x,`ilike(any).{${N.join(",")}}`),this}regexMatch(x,N){return this.url.searchParams.append(x,`match.${N}`),this}regexIMatch(x,N){return this.url.searchParams.append(x,`imatch.${N}`),this}is(x,N){return this.url.searchParams.append(x,`is.${N}`),this}isDistinct(x,N){return this.url.searchParams.append(x,`isdistinct.${N}`),this}in(x,N){const ne=Array.from(new Set(N)).map(le=>"string"==typeof le&&ae.test(le)?`"${le}"`:`${le}`).join(",");return this.url.searchParams.append(x,`in.(${ne})`),this}contains(x,N){return"string"==typeof N?this.url.searchParams.append(x,`cs.${N}`):Array.isArray(N)?this.url.searchParams.append(x,`cs.{${N.join(",")}}`):this.url.searchParams.append(x,`cs.${JSON.stringify(N)}`),this}containedBy(x,N){return"string"==typeof N?this.url.searchParams.append(x,`cd.${N}`):Array.isArray(N)?this.url.searchParams.append(x,`cd.{${N.join(",")}}`):this.url.searchParams.append(x,`cd.${JSON.stringify(N)}`),this}rangeGt(x,N){return this.url.searchParams.append(x,`sr.${N}`),this}rangeGte(x,N){return this.url.searchParams.append(x,`nxl.${N}`),this}rangeLt(x,N){return this.url.searchParams.append(x,`sl.${N}`),this}rangeLte(x,N){return this.url.searchParams.append(x,`nxr.${N}`),this}rangeAdjacent(x,N){return this.url.searchParams.append(x,`adj.${N}`),this}overlaps(x,N){return this.url.searchParams.append(x,"string"==typeof N?`ov.${N}`:`ov.{${N.join(",")}}`),this}textSearch(x,N,{config:ne,type:le}={}){let se="";return"plain"===le?se="pl":"phrase"===le?se="ph":"websearch"===le&&(se="w"),this.url.searchParams.append(x,`${se}fts${void 0===ne?"":`(${ne})`}.${N}`),this}match(x){return Object.entries(x).forEach(([N,ne])=>{this.url.searchParams.append(N,`eq.${ne}`)}),this}not(x,N,ne){return this.url.searchParams.append(x,`not.${N}.${ne}`),this}or(x,{foreignTable:N,referencedTable:ne=N}={}){return this.url.searchParams.append(ne?`${ne}.or`:"or",`(${x})`),this}filter(x,N,ne){return this.url.searchParams.append(x,`${N}.${ne}`),this}}},666:(kt,J,ge)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const Ee=ge(635).__importDefault(ge(608));J.default=class ae{constructor(pe,{headers:x={},schema:N,fetch:ne}){this.url=pe,this.headers=new Headers(x),this.schema=N,this.fetch=ne}select(pe,x){const{head:N=!1,count:ne}=x??{},le=N?"HEAD":"GET";let se=!1;const he=(pe??"*").split("").map(X=>/\s/.test(X)&&!se?"":('"'===X&&(se=!se),X)).join("");return this.url.searchParams.set("select",he),ne&&this.headers.append("Prefer",`count=${ne}`),new Ee.default({method:le,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(pe,{count:x,defaultToNull:N=!0}={}){var ne;if(x&&this.headers.append("Prefer",`count=${x}`),N||this.headers.append("Prefer","missing=default"),Array.isArray(pe)){const se=pe.reduce((he,X)=>he.concat(Object.keys(X)),[]);if(se.length>0){const he=[...new Set(se)].map(X=>`"${X}"`);this.url.searchParams.set("columns",he.join(","))}}return new Ee.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:pe,fetch:null!==(ne=this.fetch)&&void 0!==ne?ne:fetch})}upsert(pe,{onConflict:x,ignoreDuplicates:N=!1,count:ne,defaultToNull:le=!0}={}){var se;if(this.headers.append("Prefer",`resolution=${N?"ignore":"merge"}-duplicates`),void 0!==x&&this.url.searchParams.set("on_conflict",x),ne&&this.headers.append("Prefer",`count=${ne}`),le||this.headers.append("Prefer","missing=default"),Array.isArray(pe)){const X=pe.reduce((_e,ue)=>_e.concat(Object.keys(ue)),[]);if(X.length>0){const _e=[...new Set(X)].map(ue=>`"${ue}"`);this.url.searchParams.set("columns",_e.join(","))}}return new Ee.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:pe,fetch:null!==(se=this.fetch)&&void 0!==se?se:fetch})}update(pe,{count:x}={}){var N;return x&&this.headers.append("Prefer",`count=${x}`),new Ee.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:pe,fetch:null!==(N=this.fetch)&&void 0!==N?N:fetch})}delete({count:pe}={}){var x;return pe&&this.headers.append("Prefer",`count=${pe}`),new Ee.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(x=this.fetch)&&void 0!==x?x:fetch})}}},342:(kt,J,ge)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});const Ee=ge(635).__importDefault(ge(958));J.default=class ae extends Ee.default{select(pe){let x=!1;const N=(pe??"*").split("").map(ne=>/\s/.test(ne)&&!x?"":('"'===ne&&(x=!x),ne)).join("");return this.url.searchParams.set("select",N),this.headers.append("Prefer","return=representation"),this}order(pe,{ascending:x=!0,nullsFirst:N,foreignTable:ne,referencedTable:le=ne}={}){const se=le?`${le}.order`:"order",he=this.url.searchParams.get(se);return this.url.searchParams.set(se,`${he?`${he},`:""}${pe}.${x?"asc":"desc"}${void 0===N?"":N?".nullsfirst":".nullslast"}`),this}limit(pe,{foreignTable:x,referencedTable:N=x}={}){return this.url.searchParams.set(typeof N>"u"?"limit":`${N}.limit`,`${pe}`),this}range(pe,x,{foreignTable:N,referencedTable:ne=N}={}){const se=typeof ne>"u"?"limit":`${ne}.limit`;return this.url.searchParams.set(typeof ne>"u"?"offset":`${ne}.offset`,`${pe}`),this.url.searchParams.set(se,""+(x-pe+1)),this}abortSignal(pe){return this.signal=pe,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:pe=!1,verbose:x=!1,settings:N=!1,buffers:ne=!1,wal:le=!1,format:se="text"}={}){var he;const X=[pe?"analyze":null,x?"verbose":null,N?"settings":null,ne?"buffers":null,le?"wal":null].filter(Boolean).join("|"),_e=null!==(he=this.headers.get("Accept"))&&void 0!==he?he:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${se}; for="${_e}"; options=${X};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(pe){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${pe}`),this}}},60:(kt,J,ge)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.PostgrestError=J.PostgrestBuilder=J.PostgrestTransformBuilder=J.PostgrestFilterBuilder=J.PostgrestQueryBuilder=J.PostgrestClient=void 0;const E=ge(635),Ee=E.__importDefault(ge(242));J.PostgrestClient=Ee.default;const ae=E.__importDefault(ge(666));J.PostgrestQueryBuilder=ae.default;const Pe=E.__importDefault(ge(608));J.PostgrestFilterBuilder=Pe.default;const pe=E.__importDefault(ge(342));J.PostgrestTransformBuilder=pe.default;const x=E.__importDefault(ge(958));J.PostgrestBuilder=x.default;const N=E.__importDefault(ge(659));J.PostgrestError=N.default,J.default={PostgrestClient:Ee.default,PostgrestQueryBuilder:ae.default,PostgrestFilterBuilder:Pe.default,PostgrestTransformBuilder:pe.default,PostgrestBuilder:x.default,PostgrestError:N.default}},522:(kt,J,ge)=>{"use strict";ge.r(J),ge.d(J,{REALTIME_CHANNEL_STATES:()=>Sr,REALTIME_LISTEN_TYPES:()=>Hn,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>Pn,REALTIME_PRESENCE_LISTEN_EVENTS:()=>Or,REALTIME_SUBSCRIBE_STATES:()=>Xt,RealtimeChannel:()=>F,RealtimeClient:()=>Se,RealtimePresence:()=>wn,WebSocketFactory:()=>ae});var E=ge(467);const ae=class Ee{constructor(){}static detectEnvironment(){var g;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(g=navigator.userAgent)&&void 0!==g&&g.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const S=process.versions;if(S&&S.node){const U=parseInt(S.node.replace(/^v/,"").split(".")[0]);return U>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${U} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${U} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const g=this.detectEnvironment();if(g.constructor)return g.constructor;let S=g.error||"WebSocket not supported in this environment.";throw g.workaround&&(S+=`\n\nSuggested solution: ${g.workaround}`),new Error(S)}static createWebSocket(g,S){return new(this.getWebSocketConstructor())(g,S)}static isWebSocketSupported(){try{const g=this.detectEnvironment();return"native"===g.type||"ws"===g.type}catch{return!1}}},x="1.0.0",ne=x;var _e=function(j){return j[j.connecting=0]="connecting",j[j.open=1]="open",j[j.closing=2]="closing",j[j.closed=3]="closed",j}(_e||{}),ue=function(j){return j.closed="closed",j.errored="errored",j.joined="joined",j.joining="joining",j.leaving="leaving",j}(ue||{}),Oe=function(j){return j.close="phx_close",j.error="phx_error",j.join="phx_join",j.reply="phx_reply",j.leave="phx_leave",j.access_token="access_token",j}(Oe||{}),Ae=function(j){return j.websocket="websocket",j}(Ae||{}),Z=function(j){return j.Connecting="connecting",j.Open="open",j.Closing="closing",j.Closed="closed",j}(Z||{});class Me{constructor(g){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=g??[]}encode(g,S){return g.event!==this.BROADCAST_EVENT||g.payload instanceof ArrayBuffer||"string"!=typeof g.payload.event?S(JSON.stringify([g.join_ref,g.ref,g.topic,g.event,g.payload])):S(this._binaryEncodeUserBroadcastPush(g))}_binaryEncodeUserBroadcastPush(g){var S;return this._isArrayBuffer(null===(S=g.payload)||void 0===S?void 0:S.payload)?this._encodeBinaryUserBroadcastPush(g):this._encodeJsonUserBroadcastPush(g)}_encodeBinaryUserBroadcastPush(g){var S,T;const U=null!==(T=null===(S=g.payload)||void 0===S?void 0:S.payload)&&void 0!==T?T:new ArrayBuffer(0);return this._encodeUserBroadcastPush(g,this.BINARY_ENCODING,U)}_encodeJsonUserBroadcastPush(g){var S,T;const U=null!==(T=null===(S=g.payload)||void 0===S?void 0:S.payload)&&void 0!==T?T:{},Y=(new TextEncoder).encode(JSON.stringify(U)).buffer;return this._encodeUserBroadcastPush(g,this.JSON_ENCODING,Y)}_encodeUserBroadcastPush(g,S,T){var U,K;const Y=g.topic,ee=null!==(U=g.ref)&&void 0!==U?U:"",me=null!==(K=g.join_ref)&&void 0!==K?K:"",Ce=g.payload.event,ke=this.allowedMetadataKeys?this._pick(g.payload,this.allowedMetadataKeys):{},Re=0===Object.keys(ke).length?"":JSON.stringify(ke);if(me.length>255)throw new Error(`joinRef length ${me.length} exceeds maximum of 255`);if(ee.length>255)throw new Error(`ref length ${ee.length} exceeds maximum of 255`);if(Y.length>255)throw new Error(`topic length ${Y.length} exceeds maximum of 255`);if(Ce.length>255)throw new Error(`userEvent length ${Ce.length} exceeds maximum of 255`);if(Re.length>255)throw new Error(`metadata length ${Re.length} exceeds maximum of 255`);const Qe=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+me.length+ee.length+Y.length+Ce.length+Re.length));let Le=new DataView(Qe),ot=0;Le.setUint8(ot++,this.KINDS.userBroadcastPush),Le.setUint8(ot++,me.length),Le.setUint8(ot++,ee.length),Le.setUint8(ot++,Y.length),Le.setUint8(ot++,Ce.length),Le.setUint8(ot++,Re.length),Le.setUint8(ot++,S),Array.from(me,Ht=>Le.setUint8(ot++,Ht.charCodeAt(0))),Array.from(ee,Ht=>Le.setUint8(ot++,Ht.charCodeAt(0))),Array.from(Y,Ht=>Le.setUint8(ot++,Ht.charCodeAt(0))),Array.from(Ce,Ht=>Le.setUint8(ot++,Ht.charCodeAt(0))),Array.from(Re,Ht=>Le.setUint8(ot++,Ht.charCodeAt(0)));var _t=new Uint8Array(Qe.byteLength+T.byteLength);return _t.set(new Uint8Array(Qe),0),_t.set(new Uint8Array(T),Qe.byteLength),_t.buffer}decode(g,S){if(this._isArrayBuffer(g))return S(this._binaryDecode(g));if("string"==typeof g){const T=JSON.parse(g),[U,K,Y,ee,me]=T;return S({join_ref:U,ref:K,topic:Y,event:ee,payload:me})}return S({})}_binaryDecode(g){const S=new DataView(g),T=S.getUint8(0),U=new TextDecoder;if(T===this.KINDS.userBroadcast)return this._decodeUserBroadcast(g,S,U)}_decodeUserBroadcast(g,S,T){const U=S.getUint8(1),K=S.getUint8(2),Y=S.getUint8(3),ee=S.getUint8(4);let me=this.HEADER_LENGTH+4;const Ce=T.decode(g.slice(me,me+U));me+=U;const ke=T.decode(g.slice(me,me+K));me+=K;const Re=T.decode(g.slice(me,me+Y));me+=Y;const je=g.slice(me,g.byteLength),Qe=ee===this.JSON_ENCODING?JSON.parse(T.decode(je)):je,Le={type:this.BROADCAST_EVENT,event:ke,payload:Qe};return Y>0&&(Le.meta=JSON.parse(Re)),{join_ref:null,ref:null,topic:Ce,event:this.BROADCAST_EVENT,payload:Le}}_isArrayBuffer(g){var S;return g instanceof ArrayBuffer||"ArrayBuffer"===(null===(S=g?.constructor)||void 0===S?void 0:S.name)}_pick(g,S){return g&&"object"==typeof g?Object.fromEntries(Object.entries(g).filter(([T])=>S.includes(T))):{}}}class Ke{constructor(g,S){this.callback=g,this.timerCalc=S,this.timer=void 0,this.tries=0,this.callback=g,this.timerCalc=S}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Te=function(j){return j.abstime="abstime",j.bool="bool",j.date="date",j.daterange="daterange",j.float4="float4",j.float8="float8",j.int2="int2",j.int4="int4",j.int4range="int4range",j.int8="int8",j.int8range="int8range",j.json="json",j.jsonb="jsonb",j.money="money",j.numeric="numeric",j.oid="oid",j.reltime="reltime",j.text="text",j.time="time",j.timestamp="timestamp",j.timestamptz="timestamptz",j.timetz="timetz",j.tsrange="tsrange",j.tstzrange="tstzrange",j}(Te||{});const Fe=(j,g,S={})=>{var T;const U=null!==(T=S.skipTypes)&&void 0!==T?T:[];return g?Object.keys(g).reduce((K,Y)=>(K[Y]=at(Y,j,g,U),K),{}):{}},at=(j,g,S,T)=>{const U=g.find(ee=>ee.name===j),K=U?.type,Y=S[j];return K&&!T.includes(K)?Pt(K,Y):gt(Y)},Pt=(j,g)=>{if("_"===j.charAt(0)){const S=j.slice(1,j.length);return ln(g,S)}switch(j){case Te.bool:return Ct(g);case Te.float4:case Te.float8:case Te.int2:case Te.int4:case Te.int8:case Te.numeric:case Te.oid:return Bt(g);case Te.json:case Te.jsonb:return kn(g);case Te.timestamp:return sn(g);default:return gt(g)}},gt=j=>j,Ct=j=>{switch(j){case"t":return!0;case"f":return!1;default:return j}},Bt=j=>{if("string"==typeof j){const g=parseFloat(j);if(!Number.isNaN(g))return g}return j},kn=j=>{if("string"==typeof j)try{return JSON.parse(j)}catch(g){return console.log(`JSON parse error: ${g}`),j}return j},ln=(j,g)=>{if("string"!=typeof j)return j;const S=j.length-1;if("{"===j[0]&&"}"===j[S]){let K;const Y=j.slice(1,S);try{K=JSON.parse("["+Y+"]")}catch{K=Y?Y.split(","):[]}return K.map(ee=>Pt(g,ee))}return j},sn=j=>"string"==typeof j?j.replace(" ","T"):j,Ze=j=>{const g=new URL(j);return g.protocol=g.protocol.replace(/^ws/i,"http"),g.pathname=g.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),g.pathname=""===g.pathname||"/"===g.pathname?"/api/broadcast":g.pathname+"/api/broadcast",g.href};class Mn{constructor(g,S,T={},U=1e4){this.channel=g,this.event=S,this.payload=T,this.timeout=U,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(g){this.timeout=g,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(g){this.payload=Object.assign(Object.assign({},this.payload),g)}receive(g,S){var T;return this._hasReceived(g)&&S(null===(T=this.receivedResp)||void 0===T?void 0:T.response),this.recHooks.push({status:g,callback:S}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},S=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=S,this._matchReceive(S)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(g,S){this.refEvent&&this.channel._trigger(this.refEvent,{status:g,response:S})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:g,response:S}){this.recHooks.filter(T=>T.status===g).forEach(T=>T.callback(S))}_hasReceived(g){return this.receivedResp&&this.receivedResp.status===g}}var Or=function(j){return j.SYNC="sync",j.JOIN="join",j.LEAVE="leave",j}(Or||{});class wn{constructor(g,S){this.channel=g,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const T=S?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(T.state,{},U=>{const{onJoin:K,onLeave:Y,onSync:ee}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wn.syncState(this.state,U,K,Y),this.pendingDiffs.forEach(me=>{this.state=wn.syncDiff(this.state,me,K,Y)}),this.pendingDiffs=[],ee()}),this.channel._on(T.diff,{},U=>{const{onJoin:K,onLeave:Y,onSync:ee}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(U):(this.state=wn.syncDiff(this.state,U,K,Y),ee())}),this.onJoin((U,K,Y)=>{this.channel._trigger("presence",{event:"join",key:U,currentPresences:K,newPresences:Y})}),this.onLeave((U,K,Y)=>{this.channel._trigger("presence",{event:"leave",key:U,currentPresences:K,leftPresences:Y})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(g,S,T,U){const K=this.cloneDeep(g),Y=this.transformState(S),ee={},me={};return this.map(K,(Ce,ke)=>{Y[Ce]||(me[Ce]=ke)}),this.map(Y,(Ce,ke)=>{const Re=K[Ce];if(Re){const je=ke.map(_t=>_t.presence_ref),Qe=Re.map(_t=>_t.presence_ref),Le=ke.filter(_t=>Qe.indexOf(_t.presence_ref)<0),ot=Re.filter(_t=>je.indexOf(_t.presence_ref)<0);Le.length>0&&(ee[Ce]=Le),ot.length>0&&(me[Ce]=ot)}else ee[Ce]=ke}),this.syncDiff(K,{joins:ee,leaves:me},T,U)}static syncDiff(g,S,T,U){const{joins:K,leaves:Y}={joins:this.transformState(S.joins),leaves:this.transformState(S.leaves)};return T||(T=()=>{}),U||(U=()=>{}),this.map(K,(ee,me)=>{var Ce;const ke=null!==(Ce=g[ee])&&void 0!==Ce?Ce:[];if(g[ee]=this.cloneDeep(me),ke.length>0){const Re=g[ee].map(Qe=>Qe.presence_ref),je=ke.filter(Qe=>Re.indexOf(Qe.presence_ref)<0);g[ee].unshift(...je)}T(ee,ke,me)}),this.map(Y,(ee,me)=>{let Ce=g[ee];if(!Ce)return;const ke=me.map(Re=>Re.presence_ref);Ce=Ce.filter(Re=>ke.indexOf(Re.presence_ref)<0),g[ee]=Ce,U(ee,Ce,me),0===Ce.length&&delete g[ee]}),g}static map(g,S){return Object.getOwnPropertyNames(g).map(T=>S(T,g[T]))}static transformState(g){return g=this.cloneDeep(g),Object.getOwnPropertyNames(g).reduce((S,T)=>{const U=g[T];return S[T]="metas"in U?U.metas.map(K=>(K.presence_ref=K.phx_ref,delete K.phx_ref,delete K.phx_ref_prev,K)):U,S},{})}static cloneDeep(g){return JSON.parse(JSON.stringify(g))}onJoin(g){this.caller.onJoin=g}onLeave(g){this.caller.onLeave=g}onSync(g){this.caller.onSync=g}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pn=function(j){return j.ALL="*",j.INSERT="INSERT",j.UPDATE="UPDATE",j.DELETE="DELETE",j}(Pn||{}),Hn=function(j){return j.BROADCAST="broadcast",j.PRESENCE="presence",j.POSTGRES_CHANGES="postgres_changes",j.SYSTEM="system",j}(Hn||{}),Xt=function(j){return j.SUBSCRIBED="SUBSCRIBED",j.TIMED_OUT="TIMED_OUT",j.CLOSED="CLOSED",j.CHANNEL_ERROR="CHANNEL_ERROR",j}(Xt||{});const Sr=ue;class F{constructor(g,S={config:{}},T){var U,K;if(this.topic=g,this.params=S,this.socket=T,this.bindings={},this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=g.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},S.config),this.timeout=this.socket.timeout,this.joinPush=new Mn(this,Oe.join,this.params,this.timeout),this.rejoinTimer=new Ke(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(Y=>Y.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ue.closed,this.socket._remove(this)}),this._onError(Y=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,Y),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",Y=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,Y),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Oe.reply,{},(Y,ee)=>{this._trigger(this._replyEventName(ee),Y)}),this.presence=new wn(this),this.broadcastEndpointURL=Ze(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(K=null===(U=this.params.config)||void 0===U?void 0:U.broadcast)&&void 0!==K&&K.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(g,S=this.timeout){var U,K,Y,T=this;if(this.socket.isConnected()||this.socket.connect(),this.state==ue.closed){const{config:{broadcast:ee,presence:me,private:Ce}}=this.params,ke=null!==(K=null===(U=this.bindings.postgres_changes)||void 0===U?void 0:U.map(Le=>Le.filter))&&void 0!==K?K:[],Re=!!this.bindings[Hn.PRESENCE]&&this.bindings[Hn.PRESENCE].length>0||!0===(null===(Y=this.params.config.presence)||void 0===Y?void 0:Y.enabled),je={},Qe={broadcast:ee,presence:Object.assign(Object.assign({},me),{enabled:Re}),postgres_changes:ke,private:Ce};this.socket.accessTokenValue&&(je.access_token=this.socket.accessTokenValue),this._onError(Le=>g?.(Xt.CHANNEL_ERROR,Le)),this._onClose(()=>g?.(Xt.CLOSED)),this.updateJoinPayload(Object.assign({config:Qe},je)),this.joinedOnce=!0,this._rejoin(S),this.joinPush.receive("ok",function(){var Le=(0,E.A)(function*({postgres_changes:ot}){var _t;if(T.socket._isManualToken()||T.socket.setAuth(),void 0!==ot){const Ht=T.bindings.postgres_changes,Gn=null!==(_t=Ht?.length)&&void 0!==_t?_t:0,en=[];for(let bn=0;bn<Gn;bn++){const Vt=Ht[bn],{filter:{event:Vi,schema:Ui,table:zn,filter:Wr}}=Vt,qn=ot&&ot[bn];if(!(qn&&qn.event===Vi&&F.isFilterValueEqual(qn.schema,Ui)&&F.isFilterValueEqual(qn.table,zn)&&F.isFilterValueEqual(qn.filter,Wr)))return T.unsubscribe(),T.state=ue.errored,void g?.(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));en.push(Object.assign(Object.assign({},Vt),{id:qn.id}))}return T.bindings.postgres_changes=en,void(g&&g(Xt.SUBSCRIBED))}g?.(Xt.SUBSCRIBED)});return function(ot){return Le.apply(this,arguments)}}()).receive("error",Le=>{this.state=ue.errored,g?.(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Le).join(", ")||"error")))}).receive("timeout",()=>{g?.(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(g){var S=this;return(0,E.A)(function*(T,U={}){return yield S.send({type:"presence",event:"track",payload:T},U.timeout||S.timeout)}).apply(this,arguments)}untrack(){var g=this;return(0,E.A)(function*(S={}){return yield g.send({type:"presence",event:"untrack"},S)}).apply(this,arguments)}on(g,S,T){var U=this;return this.state===ue.joined&&g===Hn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then((0,E.A)(function*(){return yield U.subscribe()}))),this._on(g,S,T)}httpSend(g,S){var T=this;return(0,E.A)(function*(U,K,Y={}){var ee;const me=T.socket.accessTokenValue?`Bearer ${T.socket.accessTokenValue}`:"";if(null==K)return Promise.reject("Payload is required for httpSend()");const Ce={method:"POST",headers:{Authorization:me,apikey:T.socket.apiKey?T.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:T.subTopic,event:U,payload:K,private:T.private}]})},ke=yield T._fetchWithTimeout(T.broadcastEndpointURL,Ce,null!==(ee=Y.timeout)&&void 0!==ee?ee:T.timeout);if(202===ke.status)return{success:!0};let Re=ke.statusText;try{const je=yield ke.json();Re=je.error||je.message||Re}catch{}return Promise.reject(new Error(Re))}).apply(this,arguments)}send(g){var S=this;return(0,E.A)(function*(T,U={}){var K,Y;if(S._canPush()||"broadcast"!==T.type)return new Promise(ee=>{var me,Ce,ke;const Re=S._push(T.type,T,U.timeout||S.timeout);"broadcast"===T.type&&!(null!==(ke=null===(Ce=null===(me=S.params)||void 0===me?void 0:me.config)||void 0===Ce?void 0:Ce.broadcast)&&void 0!==ke&&ke.ack)&&ee("ok"),Re.receive("ok",()=>ee("ok")),Re.receive("error",()=>ee("error")),Re.receive("timeout",()=>ee("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:ee,payload:me}=T,ke={method:"POST",headers:{Authorization:S.socket.accessTokenValue?`Bearer ${S.socket.accessTokenValue}`:"",apikey:S.socket.apiKey?S.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:S.subTopic,event:ee,payload:me,private:S.private}]})};try{const Re=yield S._fetchWithTimeout(S.broadcastEndpointURL,ke,null!==(K=U.timeout)&&void 0!==K?K:S.timeout);return yield null===(Y=Re.body)||void 0===Y?void 0:Y.cancel(),Re.ok?"ok":"error"}catch(Re){return"AbortError"===Re.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(g){this.joinPush.updatePayload(g)}unsubscribe(g=this.timeout){this.state=ue.leaving;const S=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Oe.close,"leave",this._joinRef())};this.joinPush.destroy();let T=null;return new Promise(U=>{T=new Mn(this,Oe.leave,{},g),T.receive("ok",()=>{S(),U("ok")}).receive("timeout",()=>{S(),U("timed out")}).receive("error",()=>{U("error")}),T.send(),this._canPush()||T.trigger("ok",{})}).finally(()=>{T?.destroy()})}teardown(){this.pushBuffer.forEach(g=>g.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ue.closed,this.bindings={}}_fetchWithTimeout(g,S,T){var U=this;return(0,E.A)(function*(){const K=new AbortController,Y=setTimeout(()=>K.abort(),T),ee=yield U.socket.fetch(g,Object.assign(Object.assign({},S),{signal:K.signal}));return clearTimeout(Y),ee})()}_push(g,S,T=this.timeout){if(!this.joinedOnce)throw`tried to push '${g}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let U=new Mn(this,g,S,T);return this._canPush()?U.send():this._addToPushBuffer(U),U}_addToPushBuffer(g){if(g.startTimeout(),this.pushBuffer.push(g),this.pushBuffer.length>100){const S=this.pushBuffer.shift();S&&(S.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${S.event}`,S.payload))}}_onMessage(g,S,T){return S}_isMember(g){return this.topic===g}_joinRef(){return this.joinPush.ref}_trigger(g,S,T){var U,K;const Y=g.toLocaleLowerCase(),{close:ee,error:me,leave:Ce,join:ke}=Oe;if(T&&[ee,me,Ce,ke].indexOf(Y)>=0&&T!==this._joinRef())return;let je=this._onMessage(Y,S,T);if(S&&!je)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(Y)?null===(U=this.bindings.postgres_changes)||void 0===U||U.filter(Qe=>{var Le,ot,_t;return"*"===(null===(Le=Qe.filter)||void 0===Le?void 0:Le.event)||(null===(_t=null===(ot=Qe.filter)||void 0===ot?void 0:ot.event)||void 0===_t?void 0:_t.toLocaleLowerCase())===Y}).map(Qe=>Qe.callback(je,T)):null===(K=this.bindings[Y])||void 0===K||K.filter(Qe=>{var Le,ot,_t,Ht,Gn,en;if(["broadcast","presence","postgres_changes"].includes(Y)){if("id"in Qe){const bn=Qe.id,Vt=null===(Le=Qe.filter)||void 0===Le?void 0:Le.event;return bn&&(null===(ot=S.ids)||void 0===ot?void 0:ot.includes(bn))&&("*"===Vt||Vt?.toLocaleLowerCase()===(null===(_t=S.data)||void 0===_t?void 0:_t.type.toLocaleLowerCase()))}{const bn=null===(Gn=null===(Ht=Qe?.filter)||void 0===Ht?void 0:Ht.event)||void 0===Gn?void 0:Gn.toLocaleLowerCase();return"*"===bn||bn===(null===(en=S?.event)||void 0===en?void 0:en.toLocaleLowerCase())}}return Qe.type.toLocaleLowerCase()===Y}).map(Qe=>{if("object"==typeof je&&"ids"in je){const Le=je.data,{schema:ot,table:_t,commit_timestamp:Ht,type:Gn,errors:en}=Le;je=Object.assign(Object.assign({},{schema:ot,table:_t,commit_timestamp:Ht,eventType:Gn,new:{},old:{},errors:en}),this._getPayloadRecords(Le))}Qe.callback(je,T)})}_isClosed(){return this.state===ue.closed}_isJoined(){return this.state===ue.joined}_isJoining(){return this.state===ue.joining}_isLeaving(){return this.state===ue.leaving}_replyEventName(g){return`chan_reply_${g}`}_on(g,S,T){const U=g.toLocaleLowerCase(),K={type:U,filter:S,callback:T};return this.bindings[U]?this.bindings[U].push(K):this.bindings[U]=[K],this}_off(g,S){const T=g.toLocaleLowerCase();return this.bindings[T]&&(this.bindings[T]=this.bindings[T].filter(U=>{var K;return!((null===(K=U.type)||void 0===K?void 0:K.toLocaleLowerCase())===T&&F.isEqual(U.filter,S))})),this}static isEqual(g,S){if(Object.keys(g).length!==Object.keys(S).length)return!1;for(const T in g)if(g[T]!==S[T])return!1;return!0}static isFilterValueEqual(g,S){return(g??void 0)===(S??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(g){this._on(Oe.close,{},g)}_onError(g){this._on(Oe.error,{},S=>g(S))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(g=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(g))}_getPayloadRecords(g){const S={new:{},old:{}};return("INSERT"===g.type||"UPDATE"===g.type)&&(S.new=Fe(g.columns,g.record)),("UPDATE"===g.type||"DELETE"===g.type)&&(S.old=Fe(g.columns,g.old_record)),S}}const $=()=>{},G=[1e3,2e3,5e3,1e4];class Se{constructor(g,S){var T;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$,this.ref=0,this.reconnectTimer=null,this.vsn=ne,this.logger=$,this.conn=null,this.sendBuffer=[],this.serializer=new Me,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=U=>U?(...K)=>U(...K):(...K)=>fetch(...K),null===(T=S?.params)||void 0===T||!T.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=S.params.apikey,this.endPoint=`${g}/${Ae.websocket}`,this.httpEndpoint=Ze(g),this._initializeOptions(S),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(S?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ae.createWebSocket(this.endpointURL())}catch(g){this._setConnectionState("disconnected");const S=g.message;throw S.includes("Node.js")?new Error(`${S}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${S}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(g,S){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const T=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(T),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(g?this.conn.close(g,S??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(g){var S=this;return(0,E.A)(function*(){const T=yield g.unsubscribe();return 0===S.channels.length&&S.disconnect(),T})()}removeAllChannels(){var g=this;return(0,E.A)(function*(){const S=yield Promise.all(g.channels.map(T=>T.unsubscribe()));return g.channels=[],g.disconnect(),S})()}log(g,S,T){this.logger(g,S,T)}connectionState(){switch(this.conn&&this.conn.readyState){case _e.connecting:return Z.Connecting;case _e.open:return Z.Open;case _e.closing:return Z.Closing;default:return Z.Closed}}isConnected(){return this.connectionState()===Z.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(g,S={config:{}}){const T=`realtime:${g}`,U=this.getChannels().find(K=>K.topic===T);if(U)return U;{const K=new F(`realtime:${g}`,S,this);return this.channels.push(K),K}}push(g){const{topic:S,event:T,payload:U,ref:K}=g,Y=()=>{this.encode(g,ee=>{var me;null===(me=this.conn)||void 0===me||me.send(ee)})};this.log("push",`${S} ${T} (${K})`,U),this.isConnected()?Y():this.sendBuffer.push(Y)}setAuth(){var g=this;return(0,E.A)(function*(S=null){g._authPromise=g._performAuth(S);try{yield g._authPromise}finally{g._authPromise=null}}).apply(this,arguments)}_isManualToken(){return this._manuallySetToken}sendHeartbeat(){var g=this;return(0,E.A)(function*(){var S;if(g.isConnected()){if(g.pendingHeartbeatRef){g.pendingHeartbeatRef=null,g.log("transport","heartbeat timeout. Attempting to re-establish connection");try{g.heartbeatCallback("timeout")}catch(T){g.log("error","error in heartbeat callback",T)}return g._wasManualDisconnect=!1,null===(S=g.conn)||void 0===S||S.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var T;g.isConnected()||null===(T=g.reconnectTimer)||void 0===T||T.scheduleTimeout()},100)}g.pendingHeartbeatRef=g._makeRef(),g.push({topic:"phoenix",event:"heartbeat",payload:{},ref:g.pendingHeartbeatRef});try{g.heartbeatCallback("sent")}catch(T){g.log("error","error in heartbeat callback",T)}g._setAuthSafely("heartbeat")}else try{g.heartbeatCallback("disconnected")}catch(T){g.log("error","error in heartbeat callback",T)}})()}onHeartbeat(g){this.heartbeatCallback=g}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(g=>g()),this.sendBuffer=[])}_makeRef(){let g=this.ref+1;return this.ref=g===this.ref?0:g,this.ref.toString()}_leaveOpenTopic(g){let S=this.channels.find(T=>T.topic===g&&(T._isJoined()||T._isJoining()));S&&(this.log("transport",`leaving duplicate topic "${g}"`),S.unsubscribe())}_remove(g){this.channels=this.channels.filter(S=>S.topic!==g.topic)}_onConnMessage(g){this.decode(g.data,S=>{if("phoenix"===S.topic&&"phx_reply"===S.event)try{this.heartbeatCallback("ok"===S.payload.status?"ok":"error")}catch(Ce){this.log("error","error in heartbeat callback",Ce)}S.ref&&S.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:T,event:U,payload:K,ref:Y}=S;this.log("receive",`${K.status||""} ${T} ${U} ${Y?`(${Y})`:""}`.trim(),K),this.channels.filter(Ce=>Ce._isMember(T)).forEach(Ce=>Ce._trigger(U,K,Y)),this._triggerStateCallbacks("message",S)})}_clearTimer(g){var S;"heartbeat"===g&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===g&&(null===(S=this.reconnectTimer)||void 0===S||S.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=g=>this._onConnError(g),this.conn.onmessage=g=>this._onConnMessage(g),this.conn.onclose=g=>this._onConnClose(g))}_teardownConnection(){if(this.conn){if(this.conn.readyState===_e.open||this.conn.readyState===_e.connecting)try{this.conn.close()}catch(g){this.log("error","Error closing connection",g)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(g=>g.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(S=>{this.log("error","error waiting for auth on connect",S),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const g=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(g),this.workerRef.onerror=S=>{this.log("worker","worker error",S.message),this.workerRef.terminate()},this.workerRef.onmessage=S=>{"keepAlive"===S.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(g){var S;this._setConnectionState("disconnected"),this.log("transport","close",g),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(S=this.reconnectTimer)||void 0===S||S.scheduleTimeout(),this._triggerStateCallbacks("close",g)}_onConnError(g){this._setConnectionState("disconnected"),this.log("transport",`${g}`),this._triggerChanError(),this._triggerStateCallbacks("error",g)}_triggerChanError(){this.channels.forEach(g=>g._trigger(Oe.error))}_appendParams(g,S){if(0===Object.keys(S).length)return g;const T=g.match(/\?/)?"&":"?";return`${g}${T}${new URLSearchParams(S)}`}_workerObjectUrl(g){let S;if(g)S=g;else{const T=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});S=URL.createObjectURL(T)}return S}_setConnectionState(g,S=!1){this._connectionState=g,"connecting"===g?this._wasManualDisconnect=!1:"disconnecting"===g&&(this._wasManualDisconnect=S)}_performAuth(){var g=this;return(0,E.A)(function*(S=null){let T,U=!1;if(S)T=S,U=!0;else if(g.accessToken)try{T=yield g.accessToken()}catch(K){g.log("error","Error fetching access token from callback",K),T=g.accessTokenValue}else T=g.accessTokenValue;U?g._manuallySetToken=!0:g.accessToken&&(g._manuallySetToken=!1),g.accessTokenValue!=T&&(g.accessTokenValue=T,g.channels.forEach(K=>{T&&K.updateJoinPayload({access_token:T,version:"realtime-js/2.87.1"}),K.joinedOnce&&K._isJoined()&&K._push(Oe.access_token,{access_token:T})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var g=this;return(0,E.A)(function*(){g._authPromise&&(yield g._authPromise)})()}_setAuthSafely(g="general"){this._isManualToken()||this.setAuth().catch(S=>{this.log("error",`Error setting auth in ${g}`,S)})}_triggerStateCallbacks(g,S){try{this.stateChangeCallbacks[g].forEach(T=>{try{T(S)}catch(U){this.log("error",`error in ${g} callback`,U)}})}catch(T){this.log("error",`error triggering ${g} callbacks`,T)}}_setupReconnectionTimer(){var g=this;this.reconnectTimer=new Ke((0,E.A)(function*(){setTimeout((0,E.A)(function*(){yield g._waitForAuthIfNeeded(),g.isConnected()||g.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(g){var S,T,U,K,Y,ee,me,Ce,ke,Re,je,Qe;switch(this.transport=null!==(S=g?.transport)&&void 0!==S?S:null,this.timeout=null!==(T=g?.timeout)&&void 0!==T?T:1e4,this.heartbeatIntervalMs=null!==(U=g?.heartbeatIntervalMs)&&void 0!==U?U:25e3,this.worker=null!==(K=g?.worker)&&void 0!==K&&K,this.accessToken=null!==(Y=g?.accessToken)&&void 0!==Y?Y:null,this.heartbeatCallback=null!==(ee=g?.heartbeatCallback)&&void 0!==ee?ee:$,this.vsn=null!==(me=g?.vsn)&&void 0!==me?me:ne,g?.params&&(this.params=g.params),g?.logger&&(this.logger=g.logger),(g?.logLevel||g?.log_level)&&(this.logLevel=g.logLevel||g.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(Ce=g?.reconnectAfterMs)&&void 0!==Ce?Ce:Le=>G[Le-1]||1e4,this.vsn){case x:this.encode=null!==(ke=g?.encode)&&void 0!==ke?ke:(Le,ot)=>ot(JSON.stringify(Le)),this.decode=null!==(Re=g?.decode)&&void 0!==Re?Re:(Le,ot)=>ot(JSON.parse(Le));break;case"2.0.0":this.encode=null!==(je=g?.encode)&&void 0!==je?je:this.serializer.encode.bind(this.serializer),this.decode=null!==(Qe=g?.decode)&&void 0!==Qe?Qe:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=g?.workerUrl}}}},514:(kt,J,ge)=>{"use strict";ge.r(J),ge.d(J,{StorageAnalyticsClient:()=>U,StorageApiError:()=>Pe,StorageClient:()=>na,StorageError:()=>Ee,StorageUnknownError:()=>pe,StorageVectorsApiError:()=>me,StorageVectorsClient:()=>bi,StorageVectorsError:()=>Y,StorageVectorsErrorCode:()=>ke,StorageVectorsUnknownError:()=>Ce,VectorBucketApi:()=>qn,VectorBucketScope:()=>Vo,VectorDataApi:()=>Wr,VectorIndexApi:()=>zn,VectorIndexScope:()=>$i,isPlainObject:()=>Qe,isStorageError:()=>ae,isStorageVectorsError:()=>ee,normalizeToFloat32:()=>Le,resolveFetch:()=>Re,resolveResponse:()=>je,validateVectorDimension:()=>ot});var E=ge(635);class Ee extends Error{constructor(m){super(m),this.__isStorageError=!0,this.name="StorageError"}}function ae(I){return"object"==typeof I&&null!==I&&"__isStorageError"in I}class Pe extends Ee{constructor(m,v,O){super(m),this.name="StorageApiError",this.status=v,this.statusCode=O}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pe extends Ee{constructor(m,v){super(m),this.name="StorageUnknownError",this.originalError=v}}const x=I=>I?(...m)=>I(...m):(...m)=>fetch(...m),ne=I=>{if(Array.isArray(I))return I.map(v=>ne(v));if("function"==typeof I||I!==Object(I))return I;const m={};return Object.entries(I).forEach(([v,O])=>{const L=v.replace(/([-_][a-z])/gi,ve=>ve.toUpperCase().replace(/[-_]/g,""));m[L]=ne(O)}),m},he=I=>{var m;return I.msg||I.message||I.error_description||("string"==typeof I.error?I.error:null===(m=I.error)||void 0===m?void 0:m.message)||JSON.stringify(I)},X=(I,m,v)=>(0,E.__awaiter)(void 0,void 0,void 0,function*(){const O=yield Response;I instanceof O&&!v?.noResolveJson?I.json().then(L=>{const ve=I.status||500,Ne=L?.statusCode||ve+"";m(new Pe(he(L),ve,Ne))}).catch(L=>{m(new pe(he(L),L))}):m(new pe(he(I),I))}),_e=(I,m,v,O)=>{const L={method:I,headers:m?.headers||{}};return"GET"!==I&&O?((I=>{if("object"!=typeof I||null===I)return!1;const m=Object.getPrototypeOf(I);return!(null!==m&&m!==Object.prototype&&null!==Object.getPrototypeOf(m)||Symbol.toStringTag in I||Symbol.iterator in I)})(O)?(L.headers=Object.assign({"Content-Type":"application/json"},m?.headers),L.body=JSON.stringify(O)):L.body=O,m?.duplex&&(L.duplex=m.duplex),Object.assign(Object.assign({},L),v)):L};function ue(I,m,v,O,L,ve){return(0,E.__awaiter)(this,void 0,void 0,function*(){return new Promise((Ne,ut)=>{I(v,_e(m,O,L,ve)).then(Ue=>{if(!Ue.ok)throw Ue;return O?.noResolveJson?Ue:Ue.json()}).then(Ue=>Ne(Ue)).catch(Ue=>X(Ue,ut,O))})})}function Oe(I,m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){return ue(I,"GET",m,v,O)})}function Ae(I,m,v,O,L){return(0,E.__awaiter)(this,void 0,void 0,function*(){return ue(I,"POST",m,O,L,v)})}function Z(I,m,v,O,L){return(0,E.__awaiter)(this,void 0,void 0,function*(){return ue(I,"PUT",m,O,L,v)})}function Ke(I,m,v,O,L){return(0,E.__awaiter)(this,void 0,void 0,function*(){return ue(I,"DELETE",m,O,L,v)})}class Te{constructor(m,v){this.downloadFn=m,this.shouldThrowOnError=v}then(m,v){return this.execute().then(m,v)}execute(){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(ae(m))return{data:null,error:m};throw m}})}}var Fe;Fe=Symbol.toStringTag;const Pt=class at{constructor(m,v){this.downloadFn=m,this.shouldThrowOnError=v,this[Fe]="BlobDownloadBuilder",this.promise=null}asStream(){return new Te(this.downloadFn,this.shouldThrowOnError)}then(m,v){return this.getPromise().then(m,v)}catch(m){return this.getPromise().catch(m)}finally(m){return this.getPromise().finally(m)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(ae(m))return{data:null,error:m};throw m}})}},gt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ct={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Bt{constructor(m,v={},O,L){this.shouldThrowOnError=!1,this.url=m,this.headers=v,this.bucketId=O,this.fetch=x(L)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(m,v,O,L){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{let ve;const Ne=Object.assign(Object.assign({},Ct),L);let ut=Object.assign(Object.assign({},this.headers),"POST"===m&&{"x-upsert":String(Ne.upsert)});const Ue=Ne.metadata;typeof Blob<"u"&&O instanceof Blob?(ve=new FormData,ve.append("cacheControl",Ne.cacheControl),Ue&&ve.append("metadata",this.encodeMetadata(Ue)),ve.append("",O)):typeof FormData<"u"&&O instanceof FormData?(ve=O,ve.has("cacheControl")||ve.append("cacheControl",Ne.cacheControl),Ue&&!ve.has("metadata")&&ve.append("metadata",this.encodeMetadata(Ue))):(ve=O,ut["cache-control"]=`max-age=${Ne.cacheControl}`,ut["content-type"]=Ne.contentType,Ue&&(ut["x-metadata"]=this.toBase64(this.encodeMetadata(Ue))),(typeof ReadableStream<"u"&&ve instanceof ReadableStream||ve&&"object"==typeof ve&&"pipe"in ve&&"function"==typeof ve.pipe)&&!Ne.duplex&&(Ne.duplex="half")),L?.headers&&(ut=Object.assign(Object.assign({},ut),L.headers));const fe=this._removeEmptyFolders(v),mn=this._getFinalPath(fe),tn=yield("PUT"==m?Z:Ae)(this.fetch,`${this.url}/object/${mn}`,ve,Object.assign({headers:ut},Ne?.duplex?{duplex:Ne.duplex}:{}));return{data:{path:fe,id:tn.Id,fullPath:tn.Key},error:null}}catch(ve){if(this.shouldThrowOnError)throw ve;if(ae(ve))return{data:null,error:ve};throw ve}})}upload(m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",m,v,O)})}uploadToSignedUrl(m,v,O,L){return(0,E.__awaiter)(this,void 0,void 0,function*(){const ve=this._removeEmptyFolders(m),Ne=this._getFinalPath(ve),ut=new URL(this.url+`/object/upload/sign/${Ne}`);ut.searchParams.set("token",v);try{let Ue;const fe=Object.assign({upsert:Ct.upsert},L),mn=Object.assign(Object.assign({},this.headers),{"x-upsert":String(fe.upsert)});return typeof Blob<"u"&&O instanceof Blob?(Ue=new FormData,Ue.append("cacheControl",fe.cacheControl),Ue.append("",O)):typeof FormData<"u"&&O instanceof FormData?(Ue=O,Ue.append("cacheControl",fe.cacheControl)):(Ue=O,mn["cache-control"]=`max-age=${fe.cacheControl}`,mn["content-type"]=fe.contentType),{data:{path:ve,fullPath:(yield Z(this.fetch,ut.toString(),Ue,{headers:mn})).Key},error:null}}catch(Ue){if(this.shouldThrowOnError)throw Ue;if(ae(Ue))return{data:null,error:Ue};throw Ue}})}createSignedUploadUrl(m,v){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{let O=this._getFinalPath(m);const L=Object.assign({},this.headers);v?.upsert&&(L["x-upsert"]="true");const ve=yield Ae(this.fetch,`${this.url}/object/upload/sign/${O}`,{},{headers:L}),Ne=new URL(this.url+ve.url),ut=Ne.searchParams.get("token");if(!ut)throw new Ee("No token returned by API");return{data:{signedUrl:Ne.toString(),path:m,token:ut},error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(ae(O))return{data:null,error:O};throw O}})}update(m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",m,v,O)})}move(m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:m,destinationKey:v,destinationBucket:O?.destinationBucket},{headers:this.headers}),error:null}}catch(L){if(this.shouldThrowOnError)throw L;if(ae(L))return{data:null,error:L};throw L}})}copy(m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield Ae(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:m,destinationKey:v,destinationBucket:O?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(L){if(this.shouldThrowOnError)throw L;if(ae(L))return{data:null,error:L};throw L}})}createSignedUrl(m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{let L=this._getFinalPath(m),ve=yield Ae(this.fetch,`${this.url}/object/sign/${L}`,Object.assign({expiresIn:v},O?.transform?{transform:O.transform}:{}),{headers:this.headers});const Ne=O?.download?`&download=${!0===O.download?"":O.download}`:"";return ve={signedUrl:encodeURI(`${this.url}${ve.signedURL}${Ne}`)},{data:ve,error:null}}catch(L){if(this.shouldThrowOnError)throw L;if(ae(L))return{data:null,error:L};throw L}})}createSignedUrls(m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{const L=yield Ae(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:v,paths:m},{headers:this.headers}),ve=O?.download?`&download=${!0===O.download?"":O.download}`:"";return{data:L.map(Ne=>Object.assign(Object.assign({},Ne),{signedUrl:Ne.signedURL?encodeURI(`${this.url}${Ne.signedURL}${ve}`):null})),error:null}}catch(L){if(this.shouldThrowOnError)throw L;if(ae(L))return{data:null,error:L};throw L}})}download(m,v){const L=typeof v?.transform<"u"?"render/image/authenticated":"object",ve=this.transformOptsToQueryString(v?.transform||{}),Ne=ve?`?${ve}`:"",ut=this._getFinalPath(m);return new Pt(()=>Oe(this.fetch,`${this.url}/${L}/${ut}${Ne}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){const v=this._getFinalPath(m);try{const O=yield Oe(this.fetch,`${this.url}/object/info/${v}`,{headers:this.headers});return{data:ne(O),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(ae(O))return{data:null,error:O};throw O}})}exists(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){const v=this._getFinalPath(m);try{return yield function Me(I,m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){return ue(I,"HEAD",m,Object.assign(Object.assign({},v),{noResolveJson:!0}),O)})}(this.fetch,`${this.url}/object/${v}`,{headers:this.headers}),{data:!0,error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(ae(O)&&O instanceof pe){const L=O.originalError;if([400,404].includes(L?.status))return{data:!1,error:O}}throw O}})}getPublicUrl(m,v){const O=this._getFinalPath(m),L=[],ve=v?.download?`download=${!0===v.download?"":v.download}`:"";""!==ve&&L.push(ve);const ut=typeof v?.transform<"u"?"render/image":"object",Ue=this.transformOptsToQueryString(v?.transform||{});""!==Ue&&L.push(Ue);let fe=L.join("&");return""!==fe&&(fe=`?${fe}`),{data:{publicUrl:encodeURI(`${this.url}/${ut}/public/${O}${fe}`)}}}remove(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:m},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ae(v))return{data:null,error:v};throw v}})}list(m,v,O){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{const L=Object.assign(Object.assign(Object.assign({},gt),v),{prefix:m||""});return{data:yield Ae(this.fetch,`${this.url}/object/list/${this.bucketId}`,L,{headers:this.headers},O),error:null}}catch(L){if(this.shouldThrowOnError)throw L;if(ae(L))return{data:null,error:L};throw L}})}listV2(m,v){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{const O=Object.assign({},m);return{data:yield Ae(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,O,{headers:this.headers},v),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(ae(O))return{data:null,error:O};throw O}})}encodeMetadata(m){return JSON.stringify(m)}toBase64(m){return typeof Buffer<"u"?Buffer.from(m).toString("base64"):btoa(m)}_getFinalPath(m){return`${this.bucketId}/${m.replace(/^\/+/,"")}`}_removeEmptyFolders(m){return m.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(m){const v=[];return m.width&&v.push(`width=${m.width}`),m.height&&v.push(`height=${m.height}`),m.resize&&v.push(`resize=${m.resize}`),m.format&&v.push(`format=${m.format}`),m.quality&&v.push(`quality=${m.quality}`),v.join("&")}}const ln={"X-Client-Info":"storage-js/2.87.1"};class sn{constructor(m,v={},O,L){this.shouldThrowOnError=!1;const ve=new URL(m);L?.useNewHostname&&/supabase\.(co|in|red)$/.test(ve.hostname)&&!ve.hostname.includes("storage.supabase.")&&(ve.hostname=ve.hostname.replace("supabase.","storage.supabase.")),this.url=ve.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ln),v),this.fetch=x(O)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{const v=this.listBucketOptionsToQueryString(m);return{data:yield Oe(this.fetch,`${this.url}/bucket${v}`,{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ae(v))return{data:null,error:v};throw v}})}getBucket(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/bucket/${m}`,{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ae(v))return{data:null,error:v};throw v}})}createBucket(m){return(0,E.__awaiter)(this,arguments,void 0,function*(v,O={public:!1}){try{return{data:yield Ae(this.fetch,`${this.url}/bucket`,{id:v,name:v,type:O.type,public:O.public,file_size_limit:O.fileSizeLimit,allowed_mime_types:O.allowedMimeTypes},{headers:this.headers}),error:null}}catch(L){if(this.shouldThrowOnError)throw L;if(ae(L))return{data:null,error:L};throw L}})}updateBucket(m,v){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Z(this.fetch,`${this.url}/bucket/${m}`,{id:m,name:m,public:v.public,file_size_limit:v.fileSizeLimit,allowed_mime_types:v.allowedMimeTypes},{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(ae(O))return{data:null,error:O};throw O}})}emptyBucket(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/bucket/${m}/empty`,{},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ae(v))return{data:null,error:v};throw v}})}deleteBucket(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${m}`,{},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ae(v))return{data:null,error:v};throw v}})}listBucketOptionsToQueryString(m){const v={};return m&&("limit"in m&&(v.limit=String(m.limit)),"offset"in m&&(v.offset=String(m.offset)),m.search&&(v.search=m.search),m.sortColumn&&(v.sortColumn=m.sortColumn),m.sortOrder&&(v.sortOrder=m.sortOrder)),Object.keys(v).length>0?"?"+new URLSearchParams(v).toString():""}}var Ze=ge(467),Mn=class extends Error{constructor(I,m){super(I),this.name="IcebergError",this.status=m.status,this.icebergType=m.icebergType,this.icebergCode=m.icebergCode,this.details=m.details,this.isCommitStateUnknown="CommitStateUnknownException"===m.icebergType||[500,502,504].includes(m.status)&&!0===m.icebergType?.includes("CommitState")}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Pn(){return(Pn=(0,Ze.A)(function*(I){return I&&"none"!==I.type?"bearer"===I.type?{Authorization:`Bearer ${I.token}`}:"header"===I.type?{[I.name]:I.value}:"custom"===I.type?yield I.getHeaders():{}:{}})).apply(this,arguments)}function Xt(I){return I.join("\x1f")}var Sr=class{constructor(I,m=""){this.client=I,this.prefix=m}listNamespaces(I){var m=this;return(0,Ze.A)(function*(){const v=I?{parent:Xt(I.namespace)}:void 0;return(yield m.client.request({method:"GET",path:`${m.prefix}/namespaces`,query:v})).data.namespaces.map(L=>({namespace:L}))})()}createNamespace(I,m){var v=this;return(0,Ze.A)(function*(){const O={namespace:I.namespace,properties:m?.properties};return(yield v.client.request({method:"POST",path:`${v.prefix}/namespaces`,body:O})).data})()}dropNamespace(I){var m=this;return(0,Ze.A)(function*(){yield m.client.request({method:"DELETE",path:`${m.prefix}/namespaces/${Xt(I.namespace)}`})})()}loadNamespaceMetadata(I){var m=this;return(0,Ze.A)(function*(){return{properties:(yield m.client.request({method:"GET",path:`${m.prefix}/namespaces/${Xt(I.namespace)}`})).data.properties}})()}namespaceExists(I){var m=this;return(0,Ze.A)(function*(){try{return yield m.client.request({method:"HEAD",path:`${m.prefix}/namespaces/${Xt(I.namespace)}`}),!0}catch(v){if(v instanceof Mn&&404===v.status)return!1;throw v}})()}createNamespaceIfNotExists(I,m){var v=this;return(0,Ze.A)(function*(){try{return yield v.createNamespace(I,m)}catch(O){if(O instanceof Mn&&409===O.status)return;throw O}})()}};function F(I){return I.join("\x1f")}var $=class{constructor(I,m="",v){this.client=I,this.prefix=m,this.accessDelegation=v}listTables(I){var m=this;return(0,Ze.A)(function*(){return(yield m.client.request({method:"GET",path:`${m.prefix}/namespaces/${F(I.namespace)}/tables`})).data.identifiers})()}createTable(I,m){var v=this;return(0,Ze.A)(function*(){const O={};return v.accessDelegation&&(O["X-Iceberg-Access-Delegation"]=v.accessDelegation),(yield v.client.request({method:"POST",path:`${v.prefix}/namespaces/${F(I.namespace)}/tables`,body:m,headers:O})).data.metadata})()}updateTable(I,m){var v=this;return(0,Ze.A)(function*(){const O=yield v.client.request({method:"POST",path:`${v.prefix}/namespaces/${F(I.namespace)}/tables/${I.name}`,body:m});return{"metadata-location":O.data["metadata-location"],metadata:O.data.metadata}})()}dropTable(I,m){var v=this;return(0,Ze.A)(function*(){yield v.client.request({method:"DELETE",path:`${v.prefix}/namespaces/${F(I.namespace)}/tables/${I.name}`,query:{purgeRequested:String(m?.purge??!1)}})})()}loadTable(I){var m=this;return(0,Ze.A)(function*(){const v={};return m.accessDelegation&&(v["X-Iceberg-Access-Delegation"]=m.accessDelegation),(yield m.client.request({method:"GET",path:`${m.prefix}/namespaces/${F(I.namespace)}/tables/${I.name}`,headers:v})).data.metadata})()}tableExists(I){var m=this;return(0,Ze.A)(function*(){const v={};m.accessDelegation&&(v["X-Iceberg-Access-Delegation"]=m.accessDelegation);try{return yield m.client.request({method:"HEAD",path:`${m.prefix}/namespaces/${F(I.namespace)}/tables/${I.name}`,headers:v}),!0}catch(O){if(O instanceof Mn&&404===O.status)return!1;throw O}})()}createTableIfNotExists(I,m){var v=this;return(0,Ze.A)(function*(){try{return yield v.createTable(I,m)}catch(O){if(O instanceof Mn&&409===O.status)return yield v.loadTable({namespace:I.namespace,name:m.name});throw O}})()}},H=class{constructor(I){let m="v1";I.catalogName&&(m+=`/${I.catalogName}`);const v=I.baseUrl.endsWith("/")?I.baseUrl:`${I.baseUrl}/`;this.client=function Hn(I){const m=I.fetchImpl??globalThis.fetch;return{request(v){return(0,Ze.A)(function*({method:O,path:L,query:ve,body:Ne,headers:ut}){const Ue=function Or(I,m,v){const O=new URL(m,I);if(v)for(const[L,ve]of Object.entries(v))void 0!==ve&&O.searchParams.set(L,ve);return O.toString()}(I.baseUrl,L,ve),fe=yield function wn(I){return Pn.apply(this,arguments)}(I.auth),mn=yield m(Ue,{method:O,headers:{...Ne?{"Content-Type":"application/json"}:{},...fe,...ut},body:Ne?JSON.stringify(Ne):void 0}),tn=yield mn.text(),Kr=(mn.headers.get("content-type")||"").includes("application/json"),Dt=Kr&&tn?JSON.parse(tn):tn;if(!mn.ok){const Jt=Kr?Dt:void 0,rr=Jt?.error;throw new Mn(rr?.message??`Request failed with status ${mn.status}`,{status:mn.status,icebergType:rr?.type,icebergCode:rr?.code,details:Jt})}return{status:mn.status,headers:mn.headers,data:Dt}}).apply(this,arguments)}}}({baseUrl:v,auth:I.auth,fetchImpl:I.fetch}),this.accessDelegation=I.accessDelegation?.join(","),this.namespaceOps=new Sr(this.client,m),this.tableOps=new $(this.client,m,this.accessDelegation)}listNamespaces(I){var m=this;return(0,Ze.A)(function*(){return m.namespaceOps.listNamespaces(I)})()}createNamespace(I,m){var v=this;return(0,Ze.A)(function*(){return v.namespaceOps.createNamespace(I,m)})()}dropNamespace(I){var m=this;return(0,Ze.A)(function*(){yield m.namespaceOps.dropNamespace(I)})()}loadNamespaceMetadata(I){var m=this;return(0,Ze.A)(function*(){return m.namespaceOps.loadNamespaceMetadata(I)})()}listTables(I){var m=this;return(0,Ze.A)(function*(){return m.tableOps.listTables(I)})()}createTable(I,m){var v=this;return(0,Ze.A)(function*(){return v.tableOps.createTable(I,m)})()}updateTable(I,m){var v=this;return(0,Ze.A)(function*(){return v.tableOps.updateTable(I,m)})()}dropTable(I,m){var v=this;return(0,Ze.A)(function*(){yield v.tableOps.dropTable(I,m)})()}loadTable(I){var m=this;return(0,Ze.A)(function*(){return m.tableOps.loadTable(I)})()}namespaceExists(I){var m=this;return(0,Ze.A)(function*(){return m.namespaceOps.namespaceExists(I)})()}tableExists(I){var m=this;return(0,Ze.A)(function*(){return m.tableOps.tableExists(I)})()}createNamespaceIfNotExists(I,m){var v=this;return(0,Ze.A)(function*(){return v.namespaceOps.createNamespaceIfNotExists(I,m)})()}createTableIfNotExists(I,m){var v=this;return(0,Ze.A)(function*(){return v.tableOps.createTableIfNotExists(I,m)})()}};class U{constructor(m,v={},O){this.shouldThrowOnError=!1,this.url=m.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ln),v),this.fetch=x(O)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/bucket`,{name:m},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ae(v))return{data:null,error:v};throw v}})}listBuckets(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{const v=new URLSearchParams;void 0!==m?.limit&&v.set("limit",m.limit.toString()),void 0!==m?.offset&&v.set("offset",m.offset.toString()),m?.sortColumn&&v.set("sortColumn",m.sortColumn),m?.sortOrder&&v.set("sortOrder",m.sortOrder),m?.search&&v.set("search",m.search);const O=v.toString(),L=O?`${this.url}/bucket?${O}`:`${this.url}/bucket`;return{data:yield Oe(this.fetch,L,{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ae(v))return{data:null,error:v};throw v}})}deleteBucket(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/bucket/${m}`,{},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ae(v))return{data:null,error:v};throw v}})}from(m){if(!(I=m)||"string"!=typeof I||0===I.length||I.length>100||I.trim()!==I||I.includes("/")||I.includes("\\")||!/^[\w!.\*'() &$@=;:+,?-]+$/.test(I))throw new Ee("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");var I;const v=new H({baseUrl:this.url,catalogName:m,auth:{type:"custom",getHeaders:()=>(0,E.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),O=this.shouldThrowOnError;return new Proxy(v,{get(ve,Ne){const ut=ve[Ne];return"function"!=typeof ut?ut:(...Ue)=>(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield ut.apply(ve,Ue),error:null}}catch(fe){if(O)throw fe;return{data:null,error:fe}}})}})}}const K={"X-Client-Info":"storage-js/2.87.1","Content-Type":"application/json"};class Y extends Error{constructor(m){super(m),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ee(I){return"object"==typeof I&&null!==I&&"__isStorageVectorsError"in I}class me extends Y{constructor(m,v,O){super(m),this.name="StorageVectorsApiError",this.status=v,this.statusCode=O}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ce extends Y{constructor(m,v){super(m),this.name="StorageVectorsUnknownError",this.originalError=v}}var ke=function(I){return I.InternalError="InternalError",I.S3VectorConflictException="S3VectorConflictException",I.S3VectorNotFoundException="S3VectorNotFoundException",I.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",I.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",I.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded",I}(ke||{});const Re=I=>I?(...m)=>I(...m):(...m)=>fetch(...m),je=()=>Response,Qe=I=>{if("object"!=typeof I||null===I)return!1;const m=Object.getPrototypeOf(I);return!(null!==m&&m!==Object.prototype&&null!==Object.getPrototypeOf(m)||Symbol.toStringTag in I||Symbol.iterator in I)},Le=I=>Array.from(new Float32Array(I)),ot=(I,m)=>{if(void 0!==m&&I.float32.length!==m)throw new Error(`Vector dimension mismatch: expected ${m}, got ${I.float32.length}`)},_t=I=>I.msg||I.message||I.error_description||I.error||JSON.stringify(I),Ht=(I,m,v)=>(0,E.__awaiter)(void 0,void 0,void 0,function*(){if(I&&"object"==typeof I&&"status"in I&&"ok"in I&&"number"==typeof I.status&&!v?.noResolveJson){const L=I.status||500,ve=I;"function"==typeof ve.json?ve.json().then(Ne=>{const ut=Ne?.statusCode||Ne?.code||L+"";m(new me(_t(Ne),L,ut))}).catch(()=>{m(new me(ve.statusText||`HTTP ${L} error`,L,L+""))}):m(new me(ve.statusText||`HTTP ${L} error`,L,L+""))}else m(new Ce(_t(I),I))}),Gn=(I,m,v,O)=>{const L={method:I,headers:m?.headers||{}};return"GET"!==I&&O?(Qe(O)?(L.headers=Object.assign({"Content-Type":"application/json"},m?.headers),L.body=JSON.stringify(O)):L.body=O,Object.assign(Object.assign({},L),v)):L};function Vt(I,m,v,O,L){return(0,E.__awaiter)(this,void 0,void 0,function*(){return function en(I,m,v,O,L,ve){return(0,E.__awaiter)(this,void 0,void 0,function*(){return new Promise((Ne,ut)=>{I(v,Gn(m,O,L,ve)).then(Ue=>{if(!Ue.ok)throw Ue;if(O?.noResolveJson)return Ue;const fe=Ue.headers.get("content-type");return fe&&fe.includes("application/json")?Ue.json():{}}).then(Ue=>Ne(Ue)).catch(Ue=>Ht(Ue,ut,O))})})}(I,"POST",m,O,L,v)})}class zn{constructor(m,v={},O){this.shouldThrowOnError=!1,this.url=m.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K),v),this.fetch=Re(O)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateIndex`,m,{headers:this.headers}))||{},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}getIndex(m,v){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:m,indexName:v},{headers:this.headers}),error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(ee(O))return{data:null,error:O};throw O}})}listIndexes(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/ListIndexes`,m,{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}deleteIndex(m,v){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:m,indexName:v},{headers:this.headers}))||{},error:null}}catch(O){if(this.shouldThrowOnError)throw O;if(ee(O))return{data:null,error:O};throw O}})}}class Wr{constructor(m,v={},O){this.shouldThrowOnError=!1,this.url=m.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K),v),this.fetch=Re(O)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{if(m.vectors.length<1||m.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/PutVectors`,m,{headers:this.headers}))||{},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}getVectors(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectors`,m,{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}listVectors(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==m.segmentCount){if(m.segmentCount<1||m.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==m.segmentIndex&&(m.segmentIndex<0||m.segmentIndex>=m.segmentCount))throw new Error("segmentIndex must be between 0 and "+(m.segmentCount-1))}return{data:yield Vt(this.fetch,`${this.url}/ListVectors`,m,{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}queryVectors(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/QueryVectors`,m,{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}deleteVectors(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{if(m.keys.length<1||m.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectors`,m,{headers:this.headers}))||{},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}}class qn{constructor(m,v={},O){this.shouldThrowOnError=!1,this.url=m.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},K),v),this.fetch=Re(O)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:m},{headers:this.headers}))||{},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}getBucket(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:m},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}listBuckets(){return(0,E.__awaiter)(this,arguments,void 0,function*(m={}){try{return{data:yield Vt(this.fetch,`${this.url}/ListVectorBuckets`,m,{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}deleteBucket(m){return(0,E.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:m},{headers:this.headers}))||{},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(ee(v))return{data:null,error:v};throw v}})}}class bi extends qn{constructor(m,v={}){super(m,v.headers||{},v.fetch)}from(m){return new Vo(this.url,this.headers,m,this.fetch)}createBucket(m){const v=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.createBucket.call(this,m)})}getBucket(m){const v=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.getBucket.call(this,m)})}listBuckets(){const m=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,E.__awaiter)(this,arguments,void 0,function*(v={}){return m.listBuckets.call(this,v)})}deleteBucket(m){const v=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.deleteBucket.call(this,m)})}}class Vo extends zn{constructor(m,v,O,L){super(m,v,L),this.vectorBucketName=O}createIndex(m){const v=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.createIndex.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const m=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,E.__awaiter)(this,arguments,void 0,function*(v={}){return m.listIndexes.call(this,Object.assign(Object.assign({},v),{vectorBucketName:this.vectorBucketName}))})}getIndex(m){const v=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.getIndex.call(this,this.vectorBucketName,m)})}deleteIndex(m){const v=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.deleteIndex.call(this,this.vectorBucketName,m)})}index(m){return new $i(this.url,this.headers,this.vectorBucketName,m,this.fetch)}}class $i extends Wr{constructor(m,v,O,L,ve){super(m,v,ve),this.vectorBucketName=O,this.indexName=L}putVectors(m){const v=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.putVectors.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(m){const v=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.getVectors.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const m=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,E.__awaiter)(this,arguments,void 0,function*(v={}){return m.listVectors.call(this,Object.assign(Object.assign({},v),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(m){const v=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.queryVectors.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(m){const v=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,E.__awaiter)(this,void 0,void 0,function*(){return v.deleteVectors.call(this,Object.assign(Object.assign({},m),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class na extends sn{constructor(m,v={},O,L){super(m,v,O,L)}from(m){return new Bt(this.url,this.headers,m,this.fetch)}get vectors(){return new bi(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new U(this.url+"/iceberg",this.headers,this.fetch)}}},519:(kt,J,ge)=>{"use strict";var E=ge(293).default;Object.defineProperty(J,"__esModule",{value:!0});const Ee=ge(294),ae=ge(60),Pe=ge(522),pe=ge(514),x=ge(321),N=ge(92),ne=ge(673),le=ge(105);J.default=class se{constructor(X,_e,ue){var Oe,Ae,Z;this.supabaseUrl=X,this.supabaseKey=_e;const Me=(0,ne.validateSupabaseUrl)(X);if(!_e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",Me),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",Me),this.storageUrl=new URL("storage/v1",Me),this.functionsUrl=new URL("functions/v1",Me);const Ke=`sb-${Me.hostname.split(".")[0]}-auth-token`,Te={db:x.DEFAULT_DB_OPTIONS,realtime:x.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},x.DEFAULT_AUTH_OPTIONS),{storageKey:Ke}),global:x.DEFAULT_GLOBAL_OPTIONS},Fe=(0,ne.applySettingDefaults)(ue??{},Te);this.storageKey=null!==(Oe=Fe.auth.storageKey)&&void 0!==Oe?Oe:"",this.headers=null!==(Ae=Fe.global.headers)&&void 0!==Ae?Ae:{},Fe.accessToken?(this.accessToken=Fe.accessToken,this.auth=new Proxy({},{get:(at,Pt)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Pt)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(Z=Fe.auth)&&void 0!==Z?Z:{},this.headers,Fe.global.fetch),this.fetch=(0,N.fetchWithAuth)(_e,this._getAccessToken.bind(this),Fe.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},Fe.realtime)),this.accessToken&&this.accessToken().then(at=>this.realtime.setAuth(at)).catch(at=>console.warn("Failed to set initial Realtime auth token:",at)),this.rest=new ae.PostgrestClient(new URL("rest/v1",Me).href,{headers:this.headers,schema:Fe.db.schema,fetch:this.fetch}),this.storage=new pe.StorageClient(this.storageUrl.href,this.headers,this.fetch,ue?.storage),Fe.accessToken||this._listenForAuthEvents()}get functions(){return new Ee.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(X){return this.rest.from(X)}schema(X){return this.rest.schema(X)}rpc(X,_e={},ue={head:!1,get:!1,count:void 0}){return this.rest.rpc(X,_e,ue)}channel(X,_e={config:{}}){return this.realtime.channel(X,_e)}getChannels(){return this.realtime.getChannels()}removeChannel(X){return this.realtime.removeChannel(X)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var X=this;return E(function*(){var _e,ue;if(X.accessToken)return yield X.accessToken();const{data:Oe}=yield X.auth.getSession();return null!==(ue=null===(_e=Oe.session)||void 0===_e?void 0:_e.access_token)&&void 0!==ue?ue:X.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:X,persistSession:_e,detectSessionInUrl:ue,storage:Oe,userStorage:Ae,storageKey:Z,flowType:Me,lock:Ke,debug:Te,throwOnError:Fe},at,Pt){return new le.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),at),storageKey:Z,autoRefreshToken:X,persistSession:_e,detectSessionInUrl:ue,storage:Oe,userStorage:Ae,flowType:Me,lock:Ke,debug:Te,throwOnError:Fe,fetch:Pt,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Ct=>"authorization"===Ct.toLowerCase())})}_initRealtimeClient(X){return new Pe.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},X),{params:Object.assign({apikey:this.supabaseKey},X?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((_e,ue)=>{this._handleTokenChanged(_e,"CLIENT",ue?.access_token)})}_handleTokenChanged(X,_e,ue){"TOKEN_REFRESHED"!==X&&"SIGNED_IN"!==X||this.changedAccessToken===ue?"SIGNED_OUT"===X&&(this.realtime.setAuth(),"STORAGE"==_e&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=ue,this.realtime.setAuth(ue))}}},992:function(kt,J,ge){"use strict";var E=this&&this.__createBinding||(Object.create?function(se,he,X,_e){void 0===_e&&(_e=X);var ue=Object.getOwnPropertyDescriptor(he,X);(!ue||("get"in ue?!he.__esModule:ue.writable||ue.configurable))&&(ue={enumerable:!0,get:function(){return he[X]}}),Object.defineProperty(se,_e,ue)}:function(se,he,X,_e){void 0===_e&&(_e=X),se[_e]=he[X]}),Ee=this&&this.__exportStar||function(se,he){for(var X in se)"default"!==X&&!Object.prototype.hasOwnProperty.call(he,X)&&E(he,se,X)},ae=this&&this.__importDefault||function(se){return se&&se.__esModule?se:{default:se}};Object.defineProperty(J,"__esModule",{value:!0}),J.createClient=J.SupabaseClient=J.FunctionRegion=J.FunctionsError=J.FunctionsRelayError=J.FunctionsFetchError=J.FunctionsHttpError=J.PostgrestError=void 0;const Pe=ae(ge(519));Ee(ge(980),J);var pe=ge(60);Object.defineProperty(J,"PostgrestError",{enumerable:!0,get:function(){return pe.PostgrestError}});var x=ge(294);Object.defineProperty(J,"FunctionsHttpError",{enumerable:!0,get:function(){return x.FunctionsHttpError}}),Object.defineProperty(J,"FunctionsFetchError",{enumerable:!0,get:function(){return x.FunctionsFetchError}}),Object.defineProperty(J,"FunctionsRelayError",{enumerable:!0,get:function(){return x.FunctionsRelayError}}),Object.defineProperty(J,"FunctionsError",{enumerable:!0,get:function(){return x.FunctionsError}}),Object.defineProperty(J,"FunctionRegion",{enumerable:!0,get:function(){return x.FunctionRegion}}),Ee(ge(522),J);var N=ge(519);Object.defineProperty(J,"SupabaseClient",{enumerable:!0,get:function(){return ae(N).default}}),J.createClient=(se,he,X)=>new Pe.default(se,he,X),function le(){if(typeof window<"u"||typeof process>"u")return!1;const se=process.version;if(null==se)return!1;const he=se.match(/^v(\d+)\./);return!!he&&parseInt(he[1],10)<=18}()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},105:(kt,J,ge)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.SupabaseAuthClient=void 0;const E=ge(980);J.SupabaseAuthClient=class Ee extends E.AuthClient{constructor(Pe){super(Pe)}}},321:(kt,J,ge)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.DEFAULT_REALTIME_OPTIONS=J.DEFAULT_AUTH_OPTIONS=J.DEFAULT_DB_OPTIONS=J.DEFAULT_GLOBAL_OPTIONS=J.DEFAULT_HEADERS=void 0;const E=ge(240);let Ee="";Ee=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node",J.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${Ee}/${E.version}`},J.DEFAULT_GLOBAL_OPTIONS={headers:J.DEFAULT_HEADERS},J.DEFAULT_DB_OPTIONS={schema:"public"},J.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},J.DEFAULT_REALTIME_OPTIONS={}},92:(kt,J,ge)=>{"use strict";var E=ge(293).default;Object.defineProperty(J,"__esModule",{value:!0}),J.fetchWithAuth=J.resolveHeadersConstructor=J.resolveFetch=void 0,J.resolveFetch=pe=>pe?(...x)=>pe(...x):(...x)=>fetch(...x),J.resolveHeadersConstructor=()=>Headers,J.fetchWithAuth=(pe,x,N)=>{const ne=(0,J.resolveFetch)(N),le=(0,J.resolveHeadersConstructor)();return function(){var se=E(function*(he,X){var _e;const ue=null!==(_e=yield x())&&void 0!==_e?_e:pe;let Oe=new le(X?.headers);return Oe.has("apikey")||Oe.set("apikey",pe),Oe.has("Authorization")||Oe.set("Authorization",`Bearer ${ue}`),ne(he,Object.assign(Object.assign({},X),{headers:Oe}))});return function(he,X){return se.apply(this,arguments)}}()}},673:(kt,J,ge)=>{"use strict";var E=ge(293).default;function ae(N){return N.endsWith("/")?N:N+"/"}Object.defineProperty(J,"__esModule",{value:!0}),J.isBrowser=void 0,J.uuid=function Ee(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(N){var ne=16*Math.random()|0;return("x"==N?ne:3&ne|8).toString(16)})},J.ensureTrailingSlash=ae,J.applySettingDefaults=function pe(N,ne){var le,se;const{db:he,auth:X,realtime:_e,global:ue}=N,{db:Oe,auth:Ae,realtime:Z,global:Me}=ne,Ke={db:Object.assign(Object.assign({},Oe),he),auth:Object.assign(Object.assign({},Ae),X),realtime:Object.assign(Object.assign({},Z),_e),storage:{},global:Object.assign(Object.assign(Object.assign({},Me),ue),{headers:Object.assign(Object.assign({},null!==(le=Me?.headers)&&void 0!==le?le:{}),null!==(se=ue?.headers)&&void 0!==se?se:{})}),accessToken:(Te=E(function*(){return""}),function(){return Te.apply(this,arguments)})};var Te;return N.accessToken?Ke.accessToken=N.accessToken:delete Ke.accessToken,Ke},J.validateSupabaseUrl=function x(N){const ne=N?.trim();if(!ne)throw new Error("supabaseUrl is required.");if(!ne.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ae(ne))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}},J.isBrowser=()=>typeof window<"u"},240:(kt,J)=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.version=void 0,J.version="2.87.1"},293:kt=>{function J(E,Ee,ae,Pe,pe,x,N){try{var ne=E[x](N),le=ne.value}catch(se){return void ae(se)}ne.done?Ee(le):Promise.resolve(le).then(Pe,pe)}kt.exports=function ge(E){return function(){var Ee=this,ae=arguments;return new Promise(function(Pe,pe){var x=E.apply(Ee,ae);function N(le){J(x,Pe,pe,N,ne,"next",le)}function ne(le){J(x,Pe,pe,N,ne,"throw",le)}N(void 0)})}},kt.exports.__esModule=!0,kt.exports.default=kt.exports},467:(kt,J,ge)=>{"use strict";function E(ae,Pe,pe,x,N,ne,le){try{var se=ae[ne](le),he=se.value}catch(X){return void pe(X)}se.done?Pe(he):Promise.resolve(he).then(x,N)}function Ee(ae){return function(){var Pe=this,pe=arguments;return new Promise(function(x,N){var ne=ae.apply(Pe,pe);function le(he){E(ne,x,N,le,se,"next",he)}function se(he){E(ne,x,N,le,se,"throw",he)}le(void 0)})}}ge.d(J,{A:()=>Ee})},635:(kt,J,ge)=>{"use strict";ge.r(J),ge.d(J,{__addDisposableResource:()=>wn,__assign:()=>ae,__asyncDelegator:()=>Pt,__asyncGenerator:()=>at,__asyncValues:()=>gt,__await:()=>Fe,__awaiter:()=>X,__classPrivateFieldGet:()=>Ze,__classPrivateFieldIn:()=>Or,__classPrivateFieldSet:()=>Mn,__createBinding:()=>ue,__decorate:()=>pe,__disposeResources:()=>Hn,__esDecorate:()=>N,__exportStar:()=>Oe,__extends:()=>Ee,__generator:()=>_e,__importDefault:()=>sn,__importStar:()=>ln,__makeTemplateObject:()=>Ct,__metadata:()=>he,__param:()=>x,__propKey:()=>le,__read:()=>Z,__rest:()=>Pe,__rewriteRelativeImportExtension:()=>Xt,__runInitializers:()=>ne,__setFunctionName:()=>se,__spread:()=>Me,__spreadArray:()=>Te,__spreadArrays:()=>Ke,__values:()=>Ae,default:()=>Sr});var E=function(F,$){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,G){H.__proto__=G}||function(H,G){for(var re in G)Object.prototype.hasOwnProperty.call(G,re)&&(H[re]=G[re])})(F,$)};function Ee(F,$){if("function"!=typeof $&&null!==$)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function H(){this.constructor=F}E(F,$),F.prototype=null===$?Object.create($):(H.prototype=$.prototype,new H)}var ae=function(){return ae=Object.assign||function($){for(var H,G=1,re=arguments.length;G<re;G++)for(var ie in H=arguments[G])Object.prototype.hasOwnProperty.call(H,ie)&&($[ie]=H[ie]);return $},ae.apply(this,arguments)};function Pe(F,$){var H={};for(var G in F)Object.prototype.hasOwnProperty.call(F,G)&&$.indexOf(G)<0&&(H[G]=F[G]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var re=0;for(G=Object.getOwnPropertySymbols(F);re<G.length;re++)$.indexOf(G[re])<0&&Object.prototype.propertyIsEnumerable.call(F,G[re])&&(H[G[re]]=F[G[re]])}return H}function pe(F,$,H,G){var Se,re=arguments.length,ie=re<3?$:null===G?G=Object.getOwnPropertyDescriptor($,H):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(F,$,H,G);else for(var j=F.length-1;j>=0;j--)(Se=F[j])&&(ie=(re<3?Se(ie):re>3?Se($,H,ie):Se($,H))||ie);return re>3&&ie&&Object.defineProperty($,H,ie),ie}function x(F,$){return function(H,G){$(H,G,F)}}function N(F,$,H,G,re,ie){function Se(ke){if(void 0!==ke&&"function"!=typeof ke)throw new TypeError("Function expected");return ke}for(var U,j=G.kind,g="getter"===j?"get":"setter"===j?"set":"value",S=!$&&F?G.static?F:F.prototype:null,T=$||(S?Object.getOwnPropertyDescriptor(S,G.name):{}),K=!1,Y=H.length-1;Y>=0;Y--){var ee={};for(var me in G)ee[me]="access"===me?{}:G[me];for(var me in G.access)ee.access[me]=G.access[me];ee.addInitializer=function(ke){if(K)throw new TypeError("Cannot add initializers after decoration has completed");ie.push(Se(ke||null))};var Ce=(0,H[Y])("accessor"===j?{get:T.get,set:T.set}:T[g],ee);if("accessor"===j){if(void 0===Ce)continue;if(null===Ce||"object"!=typeof Ce)throw new TypeError("Object expected");(U=Se(Ce.get))&&(T.get=U),(U=Se(Ce.set))&&(T.set=U),(U=Se(Ce.init))&&re.unshift(U)}else(U=Se(Ce))&&("field"===j?re.unshift(U):T[g]=U)}S&&Object.defineProperty(S,G.name,T),K=!0}function ne(F,$,H){for(var G=arguments.length>2,re=0;re<$.length;re++)H=G?$[re].call(F,H):$[re].call(F);return G?H:void 0}function le(F){return"symbol"==typeof F?F:"".concat(F)}function se(F,$,H){return"symbol"==typeof $&&($=$.description?"[".concat($.description,"]"):""),Object.defineProperty(F,"name",{configurable:!0,value:H?"".concat(H," ",$):$})}function he(F,$){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(F,$)}function X(F,$,H,G){return new(H||(H=Promise))(function(ie,Se){function j(T){try{S(G.next(T))}catch(U){Se(U)}}function g(T){try{S(G.throw(T))}catch(U){Se(U)}}function S(T){T.done?ie(T.value):function re(ie){return ie instanceof H?ie:new H(function(Se){Se(ie)})}(T.value).then(j,g)}S((G=G.apply(F,$||[])).next())})}function _e(F,$){var G,re,ie,H={label:0,sent:function(){if(1&ie[0])throw ie[1];return ie[1]},trys:[],ops:[]},Se=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return Se.next=j(0),Se.throw=j(1),Se.return=j(2),"function"==typeof Symbol&&(Se[Symbol.iterator]=function(){return this}),Se;function j(S){return function(T){return function g(S){if(G)throw new TypeError("Generator is already executing.");for(;Se&&(Se=0,S[0]&&(H=0)),H;)try{if(G=1,re&&(ie=2&S[0]?re.return:S[0]?re.throw||((ie=re.return)&&ie.call(re),0):re.next)&&!(ie=ie.call(re,S[1])).done)return ie;switch(re=0,ie&&(S=[2&S[0],ie.value]),S[0]){case 0:case 1:ie=S;break;case 4:return H.label++,{value:S[1],done:!1};case 5:H.label++,re=S[1],S=[0];continue;case 7:S=H.ops.pop(),H.trys.pop();continue;default:if(!(ie=(ie=H.trys).length>0&&ie[ie.length-1])&&(6===S[0]||2===S[0])){H=0;continue}if(3===S[0]&&(!ie||S[1]>ie[0]&&S[1]<ie[3])){H.label=S[1];break}if(6===S[0]&&H.label<ie[1]){H.label=ie[1],ie=S;break}if(ie&&H.label<ie[2]){H.label=ie[2],H.ops.push(S);break}ie[2]&&H.ops.pop(),H.trys.pop();continue}S=$.call(F,H)}catch(T){S=[6,T],re=0}finally{G=ie=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([S,T])}}}var ue=Object.create?function(F,$,H,G){void 0===G&&(G=H);var re=Object.getOwnPropertyDescriptor($,H);(!re||("get"in re?!$.__esModule:re.writable||re.configurable))&&(re={enumerable:!0,get:function(){return $[H]}}),Object.defineProperty(F,G,re)}:function(F,$,H,G){void 0===G&&(G=H),F[G]=$[H]};function Oe(F,$){for(var H in F)"default"!==H&&!Object.prototype.hasOwnProperty.call($,H)&&ue($,F,H)}function Ae(F){var $="function"==typeof Symbol&&Symbol.iterator,H=$&&F[$],G=0;if(H)return H.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&G>=F.length&&(F=void 0),{value:F&&F[G++],done:!F}}};throw new TypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(F,$){var H="function"==typeof Symbol&&F[Symbol.iterator];if(!H)return F;var re,Se,G=H.call(F),ie=[];try{for(;(void 0===$||$-- >0)&&!(re=G.next()).done;)ie.push(re.value)}catch(j){Se={error:j}}finally{try{re&&!re.done&&(H=G.return)&&H.call(G)}finally{if(Se)throw Se.error}}return ie}function Me(){for(var F=[],$=0;$<arguments.length;$++)F=F.concat(Z(arguments[$]));return F}function Ke(){for(var F=0,$=0,H=arguments.length;$<H;$++)F+=arguments[$].length;var G=Array(F),re=0;for($=0;$<H;$++)for(var ie=arguments[$],Se=0,j=ie.length;Se<j;Se++,re++)G[re]=ie[Se];return G}function Te(F,$,H){if(H||2===arguments.length)for(var ie,G=0,re=$.length;G<re;G++)(ie||!(G in $))&&(ie||(ie=Array.prototype.slice.call($,0,G)),ie[G]=$[G]);return F.concat(ie||Array.prototype.slice.call($))}function Fe(F){return this instanceof Fe?(this.v=F,this):new Fe(F)}function at(F,$,H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,G=H.apply(F,$||[]),ie=[];return re=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),j("next"),j("throw"),j("return",function Se(Y){return function(ee){return Promise.resolve(ee).then(Y,U)}}),re[Symbol.asyncIterator]=function(){return this},re;function j(Y,ee){G[Y]&&(re[Y]=function(me){return new Promise(function(Ce,ke){ie.push([Y,me,Ce,ke])>1||g(Y,me)})},ee&&(re[Y]=ee(re[Y])))}function g(Y,ee){try{!function S(Y){Y.value instanceof Fe?Promise.resolve(Y.value.v).then(T,U):K(ie[0][2],Y)}(G[Y](ee))}catch(me){K(ie[0][3],me)}}function T(Y){g("next",Y)}function U(Y){g("throw",Y)}function K(Y,ee){Y(ee),ie.shift(),ie.length&&g(ie[0][0],ie[0][1])}}function Pt(F){var $,H;return $={},G("next"),G("throw",function(re){throw re}),G("return"),$[Symbol.iterator]=function(){return this},$;function G(re,ie){$[re]=F[re]?function(Se){return(H=!H)?{value:Fe(F[re](Se)),done:!1}:ie?ie(Se):Se}:ie}}function gt(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H,$=F[Symbol.asyncIterator];return $?$.call(F):(F=Ae(F),H={},G("next"),G("throw"),G("return"),H[Symbol.asyncIterator]=function(){return this},H);function G(ie){H[ie]=F[ie]&&function(Se){return new Promise(function(j,g){!function re(ie,Se,j,g){Promise.resolve(g).then(function(S){ie({value:S,done:j})},Se)}(j,g,(Se=F[ie](Se)).done,Se.value)})}}}function Ct(F,$){return Object.defineProperty?Object.defineProperty(F,"raw",{value:$}):F.raw=$,F}var Bt=Object.create?function(F,$){Object.defineProperty(F,"default",{enumerable:!0,value:$})}:function(F,$){F.default=$},kn=function(F){return(kn=Object.getOwnPropertyNames||function($){var H=[];for(var G in $)Object.prototype.hasOwnProperty.call($,G)&&(H[H.length]=G);return H})(F)};function ln(F){if(F&&F.__esModule)return F;var $={};if(null!=F)for(var H=kn(F),G=0;G<H.length;G++)"default"!==H[G]&&ue($,F,H[G]);return Bt($,F),$}function sn(F){return F&&F.__esModule?F:{default:F}}function Ze(F,$,H,G){if("a"===H&&!G)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof $?F!==$||!G:!$.has(F))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===H?G:"a"===H?G.call(F):G?G.value:$.get(F)}function Mn(F,$,H,G,re){if("m"===G)throw new TypeError("Private method is not writable");if("a"===G&&!re)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof $?F!==$||!re:!$.has(F))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===G?re.call(F,H):re?re.value=H:$.set(F,H),H}function Or(F,$){if(null===$||"object"!=typeof $&&"function"!=typeof $)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof F?$===F:F.has($)}function wn(F,$,H){if(null!=$){if("object"!=typeof $&&"function"!=typeof $)throw new TypeError("Object expected.");var G,re;if(H){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");G=$[Symbol.asyncDispose]}if(void 0===G){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");G=$[Symbol.dispose],H&&(re=G)}if("function"!=typeof G)throw new TypeError("Object not disposable.");re&&(G=function(){try{re.call(this)}catch(ie){return Promise.reject(ie)}}),F.stack.push({value:$,dispose:G,async:H})}else H&&F.stack.push({async:!0});return $}var Pn="function"==typeof SuppressedError?SuppressedError:function(F,$,H){var G=new Error(H);return G.name="SuppressedError",G.error=F,G.suppressed=$,G};function Hn(F){function $(ie){F.error=F.hasError?new Pn(ie,F.error,"An error was suppressed during disposal."):ie,F.hasError=!0}var H,G=0;return function re(){for(;H=F.stack.pop();)try{if(!H.async&&1===G)return G=0,F.stack.push(H),Promise.resolve().then(re);if(H.dispose){var ie=H.dispose.call(H.value);if(H.async)return G|=2,Promise.resolve(ie).then(re,function(Se){return $(Se),re()})}else G|=1}catch(Se){$(Se)}if(1===G)return F.hasError?Promise.reject(F.error):Promise.resolve();if(F.hasError)throw F.error}()}function Xt(F,$){return"string"==typeof F&&/^\.\.?\//.test(F)?F.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(H,G,re,ie,Se){return G?$?".jsx":".js":!re||ie&&Se?re+ie+"."+Se.toLowerCase()+"js":H}):F}const Sr={__extends:Ee,__assign:ae,__rest:Pe,__decorate:pe,__param:x,__esDecorate:N,__runInitializers:ne,__propKey:le,__setFunctionName:se,__metadata:he,__awaiter:X,__generator:_e,__createBinding:ue,__exportStar:Oe,__values:Ae,__read:Z,__spread:Me,__spreadArrays:Ke,__spreadArray:Te,__await:Fe,__asyncGenerator:at,__asyncDelegator:Pt,__asyncValues:gt,__makeTemplateObject:Ct,__importStar:ln,__importDefault:sn,__classPrivateFieldGet:Ze,__classPrivateFieldSet:Mn,__classPrivateFieldIn:Or,__addDisposableResource:wn,__disposeResources:Hn,__rewriteRelativeImportExtension:Xt}}},kt=>{kt(kt.s=928)}]);